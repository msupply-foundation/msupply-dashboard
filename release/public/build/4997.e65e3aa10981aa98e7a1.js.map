{"version":3,"file":"4997.e65e3aa10981aa98e7a1.js","mappings":"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","sources":["webpack://grafana/./public/app/features/datasources/state/buildCategories.ts","webpack://grafana/./public/app/features/datasources/state/actions.ts","webpack://grafana/./public/app/features/datasources/state/navModel.ts","webpack://grafana/./public/app/features/datasources/state/selectors.ts"],"sourcesContent":["import { DataSourcePluginMeta, PluginType } from '@grafana/data';\nimport { config, featureEnabled } from '@grafana/runtime';\nimport { DataSourcePluginCategory } from 'app/types';\n\nexport function buildCategories(plugins: DataSourcePluginMeta[]): DataSourcePluginCategory[] {\n  const categories: DataSourcePluginCategory[] = [\n    { id: 'tsdb', title: 'Time series databases', plugins: [] },\n    { id: 'logging', title: 'Logging & document databases', plugins: [] },\n    { id: 'tracing', title: 'Distributed tracing', plugins: [] },\n    { id: 'sql', title: 'SQL', plugins: [] },\n    { id: 'cloud', title: 'Cloud', plugins: [] },\n    { id: 'enterprise', title: 'Enterprise plugins', plugins: [] },\n    { id: 'iot', title: 'Industrial & IoT', plugins: [] },\n    { id: 'other', title: 'Others', plugins: [] },\n  ].filter((item) => item);\n\n  const categoryIndex: Record<string, DataSourcePluginCategory> = {};\n  const pluginIndex: Record<string, DataSourcePluginMeta> = {};\n  const enterprisePlugins = getEnterprisePhantomPlugins();\n\n  // build indices\n  for (const category of categories) {\n    categoryIndex[category.id] = category;\n  }\n\n  for (const plugin of plugins) {\n    const enterprisePlugin = enterprisePlugins.find((item) => item.id === plugin.id);\n    // Force category for enterprise plugins\n    if (plugin.enterprise || enterprisePlugin) {\n      plugin.category = 'enterprise';\n      plugin.unlicensed = !featureEnabled('enterprise.plugins');\n      plugin.info.links = enterprisePlugin?.info?.links || plugin.info.links;\n    }\n\n    // Fix link name\n    if (plugin.info.links) {\n      for (const link of plugin.info.links) {\n        link.name = 'Learn more';\n      }\n    }\n\n    const category = categories.find((item) => item.id === plugin.category) || categoryIndex['other'];\n    category.plugins.push(plugin);\n    // add to plugin index\n    pluginIndex[plugin.id] = plugin;\n  }\n\n  for (const category of categories) {\n    // add phantom plugin\n    if (category.id === 'cloud') {\n      category.plugins.push(getGrafanaCloudPhantomPlugin());\n    }\n\n    // add phantom plugins\n    if (category.id === 'enterprise') {\n      for (const plugin of enterprisePlugins) {\n        if (!pluginIndex[plugin.id]) {\n          category.plugins.push(plugin);\n        }\n      }\n    }\n\n    sortPlugins(category.plugins);\n  }\n\n  // Only show categories with plugins\n  return categories.filter((c) => c.plugins.length > 0);\n}\n\nfunction sortPlugins(plugins: DataSourcePluginMeta[]) {\n  const sortingRules: { [id: string]: number } = {\n    prometheus: 100,\n    graphite: 95,\n    loki: 90,\n    mysql: 80,\n    jaeger: 100,\n    postgres: 79,\n    gcloud: -1,\n  };\n\n  plugins.sort((a, b) => {\n    const aSort = sortingRules[a.id] || 0;\n    const bSort = sortingRules[b.id] || 0;\n    if (aSort > bSort) {\n      return -1;\n    }\n    if (aSort < bSort) {\n      return 1;\n    }\n\n    return a.name > b.name ? -1 : 1;\n  });\n}\n\nfunction getEnterprisePhantomPlugins(): DataSourcePluginMeta[] {\n  return [\n    getPhantomPlugin({\n      id: 'grafana-splunk-datasource',\n      name: 'Splunk',\n      description: 'Visualize and explore Splunk logs',\n      imgUrl: 'public/img/plugins/splunk_logo_128.png',\n    }),\n    getPhantomPlugin({\n      id: 'grafana-oracle-datasource',\n      name: 'Oracle',\n      description: 'Visualize and explore Oracle SQL',\n      imgUrl: 'public/img/plugins/oracle.png',\n    }),\n    getPhantomPlugin({\n      id: 'grafana-dynatrace-datasource',\n      name: 'Dynatrace',\n      description: 'Visualize and explore Dynatrace data',\n      imgUrl: 'public/img/plugins/dynatrace.png',\n    }),\n    getPhantomPlugin({\n      id: 'grafana-servicenow-datasource',\n      description: 'ServiceNow integration and data source',\n      name: 'ServiceNow',\n      imgUrl: 'public/img/plugins/servicenow.svg',\n    }),\n    getPhantomPlugin({\n      id: 'grafana-datadog-datasource',\n      description: 'DataDog integration and data source',\n      name: 'DataDog',\n      imgUrl: 'public/img/plugins/datadog.png',\n    }),\n    getPhantomPlugin({\n      id: 'grafana-newrelic-datasource',\n      description: 'New Relic integration and data source',\n      name: 'New Relic',\n      imgUrl: 'public/img/plugins/newrelic.svg',\n    }),\n    getPhantomPlugin({\n      id: 'grafana-mongodb-datasource',\n      description: 'MongoDB integration and data source',\n      name: 'MongoDB',\n      imgUrl: 'public/img/plugins/mongodb.svg',\n    }),\n    getPhantomPlugin({\n      id: 'grafana-snowflake-datasource',\n      description: 'Snowflake integration and data source',\n      name: 'Snowflake',\n      imgUrl: 'public/img/plugins/snowflake.svg',\n    }),\n    getPhantomPlugin({\n      id: 'grafana-wavefront-datasource',\n      description: 'Wavefront integration and data source',\n      name: 'Wavefront',\n      imgUrl: 'public/img/plugins/wavefront.svg',\n    }),\n    getPhantomPlugin({\n      id: 'dlopes7-appdynamics-datasource',\n      description: 'AppDynamics integration and data source',\n      name: 'AppDynamics',\n      imgUrl: 'public/img/plugins/appdynamics.svg',\n    }),\n    getPhantomPlugin({\n      id: 'grafana-saphana-datasource',\n      description: 'SAP HANA® integration and data source',\n      name: 'SAP HANA®',\n      imgUrl: 'public/img/plugins/sap_hana.png',\n    }),\n    getPhantomPlugin({\n      id: 'grafana-honeycomb-datasource',\n      description: 'Honeycomb integration and datasource',\n      name: 'Honeycomb',\n      imgUrl: 'public/img/plugins/honeycomb.png',\n    }),\n    getPhantomPlugin({\n      id: 'grafana-salesforce-datasource',\n      description: 'Salesforce integration and datasource',\n      name: 'Salesforce',\n      imgUrl: 'public/img/plugins/salesforce.svg',\n    }),\n    getPhantomPlugin({\n      id: 'grafana-jira-datasource',\n      description: 'Jira integration and datasource',\n      name: 'Jira',\n      imgUrl: 'public/img/plugins/jira_logo.png',\n    }),\n    getPhantomPlugin({\n      id: 'grafana-gitlab-datasource',\n      description: 'GitLab integration and datasource',\n      name: 'GitLab',\n      imgUrl: 'public/img/plugins/gitlab.svg',\n    }),\n    getPhantomPlugin({\n      id: 'grafana-splunk-monitoring-datasource',\n      description: 'SignalFx integration and datasource',\n      name: 'Splunk Infrastructure Monitoring',\n      imgUrl: 'public/img/plugins/signalfx-logo.svg',\n    }),\n  ];\n}\n\nfunction getGrafanaCloudPhantomPlugin(): DataSourcePluginMeta {\n  return {\n    id: 'gcloud',\n    name: 'Grafana Cloud',\n    type: PluginType.datasource,\n    module: 'phantom',\n    baseUrl: '',\n    info: {\n      description: 'Hosted Graphite, Prometheus, and Loki',\n      logos: { small: 'public/img/grafana_icon.svg', large: 'asd' },\n      author: { name: 'Grafana Labs' },\n      links: [\n        {\n          url: 'https://grafana.com/products/cloud/',\n          name: 'Learn more',\n        },\n      ],\n      screenshots: [],\n      updated: '2019-05-10',\n      version: '1.0.0',\n    },\n  };\n}\n\ninterface GetPhantomPluginOptions {\n  id: string;\n  name: string;\n  description: string;\n  imgUrl: string;\n}\n\nfunction getPhantomPlugin(options: GetPhantomPluginOptions): DataSourcePluginMeta {\n  return {\n    id: options.id,\n    name: options.name,\n    type: PluginType.datasource,\n    module: 'phantom',\n    baseUrl: '',\n    info: {\n      description: options.description,\n      logos: { small: options.imgUrl, large: options.imgUrl },\n      author: { name: 'Grafana Labs' },\n      links: [\n        {\n          url: config.pluginCatalogURL + options.id,\n          name: 'Install now',\n        },\n      ],\n      screenshots: [],\n      updated: '2019-05-10',\n      version: '1.0.0',\n    },\n  };\n}\n","import { lastValueFrom } from 'rxjs';\nimport { DataSourcePluginMeta, DataSourceSettings, locationUtil } from '@grafana/data';\nimport { DataSourceWithBackend, getDataSourceSrv, locationService } from '@grafana/runtime';\nimport { updateNavIndex } from 'app/core/actions';\nimport { getBackendSrv } from 'app/core/services/backend_srv';\nimport { getDatasourceSrv } from 'app/features/plugins/datasource_srv';\nimport { importDataSourcePlugin } from 'app/features/plugins/plugin_loader';\nimport { getPluginSettings } from 'app/features/plugins/pluginSettings';\nimport { DataSourcePluginCategory, ThunkDispatch, ThunkResult } from 'app/types';\n\nimport { buildCategories } from './buildCategories';\nimport { buildNavModel } from './navModel';\nimport {\n  dataSourceLoaded,\n  dataSourceMetaLoaded,\n  dataSourcePluginsLoad,\n  dataSourcePluginsLoaded,\n  dataSourcesLoaded,\n  initDataSourceSettingsFailed,\n  initDataSourceSettingsSucceeded,\n  testDataSourceFailed,\n  testDataSourceStarting,\n  testDataSourceSucceeded,\n} from './reducers';\nimport { getDataSource, getDataSourceMeta } from './selectors';\nimport { accessControlQueryParam } from 'app/core/utils/accessControl';\n\nexport interface DataSourceTypesLoadedPayload {\n  plugins: DataSourcePluginMeta[];\n  categories: DataSourcePluginCategory[];\n}\n\nexport interface InitDataSourceSettingDependencies {\n  loadDataSource: typeof loadDataSource;\n  loadDataSourceMeta: typeof loadDataSourceMeta;\n  getDataSource: typeof getDataSource;\n  getDataSourceMeta: typeof getDataSourceMeta;\n  importDataSourcePlugin: typeof importDataSourcePlugin;\n}\n\nexport interface TestDataSourceDependencies {\n  getDatasourceSrv: typeof getDataSourceSrv;\n  getBackendSrv: typeof getBackendSrv;\n}\n\nexport const initDataSourceSettings = (\n  pageId: string,\n  dependencies: InitDataSourceSettingDependencies = {\n    loadDataSource,\n    loadDataSourceMeta,\n    getDataSource,\n    getDataSourceMeta,\n    importDataSourcePlugin,\n  }\n): ThunkResult<void> => {\n  return async (dispatch, getState) => {\n    if (!pageId) {\n      dispatch(initDataSourceSettingsFailed(new Error('Invalid ID')));\n      return;\n    }\n\n    try {\n      const loadedDataSource = await dispatch(dependencies.loadDataSource(pageId));\n      await dispatch(dependencies.loadDataSourceMeta(loadedDataSource));\n\n      // have we already loaded the plugin then we can skip the steps below?\n      if (getState().dataSourceSettings.plugin) {\n        return;\n      }\n\n      const dataSource = dependencies.getDataSource(getState().dataSources, pageId);\n      const dataSourceMeta = dependencies.getDataSourceMeta(getState().dataSources, dataSource!.type);\n      const importedPlugin = await dependencies.importDataSourcePlugin(dataSourceMeta);\n\n      dispatch(initDataSourceSettingsSucceeded(importedPlugin));\n    } catch (err) {\n      dispatch(initDataSourceSettingsFailed(err));\n    }\n  };\n};\n\nexport const testDataSource = (\n  dataSourceName: string,\n  dependencies: TestDataSourceDependencies = {\n    getDatasourceSrv,\n    getBackendSrv,\n  }\n): ThunkResult<void> => {\n  return async (dispatch: ThunkDispatch, getState) => {\n    const dsApi = await dependencies.getDatasourceSrv().get(dataSourceName);\n\n    if (!dsApi.testDatasource) {\n      return;\n    }\n\n    dispatch(testDataSourceStarting());\n\n    dependencies.getBackendSrv().withNoBackendCache(async () => {\n      try {\n        const result = await dsApi.testDatasource();\n\n        dispatch(testDataSourceSucceeded(result));\n      } catch (err) {\n        const { statusText, message: errMessage, details, data } = err;\n\n        const message = errMessage || data?.message || 'HTTP error ' + statusText;\n\n        dispatch(testDataSourceFailed({ message, details }));\n      }\n    });\n  };\n};\n\nexport function loadDataSources(): ThunkResult<void> {\n  return async (dispatch) => {\n    const response = await getBackendSrv().get('/api/datasources');\n    dispatch(dataSourcesLoaded(response));\n  };\n}\n\nexport function loadDataSource(uid: string): ThunkResult<Promise<DataSourceSettings>> {\n  return async (dispatch) => {\n    const dataSource = await getDataSourceUsingUidOrId(uid);\n\n    dispatch(dataSourceLoaded(dataSource));\n    return dataSource;\n  };\n}\n\nexport function loadDataSourceMeta(dataSource: DataSourceSettings): ThunkResult<void> {\n  return async (dispatch) => {\n    const pluginInfo = (await getPluginSettings(dataSource.type)) as DataSourcePluginMeta;\n    const plugin = await importDataSourcePlugin(pluginInfo);\n    const isBackend = plugin.DataSourceClass.prototype instanceof DataSourceWithBackend;\n    const meta = {\n      ...pluginInfo,\n      isBackend: pluginInfo.backend || isBackend,\n    };\n\n    dispatch(dataSourceMetaLoaded(meta));\n\n    plugin.meta = meta;\n    dispatch(updateNavIndex(buildNavModel(dataSource, plugin)));\n  };\n}\n\n/**\n * Get data source by uid or id, if old id detected handles redirect\n */\nexport async function getDataSourceUsingUidOrId(uid: string | number): Promise<DataSourceSettings> {\n  // Try first with uid api\n  try {\n    const byUid = await lastValueFrom(\n      getBackendSrv().fetch<DataSourceSettings>({\n        method: 'GET',\n        url: `/api/datasources/uid/${uid}`,\n        params: accessControlQueryParam(),\n        showErrorAlert: false,\n      })\n    );\n\n    if (byUid.ok) {\n      return byUid.data;\n    }\n  } catch (err) {\n    console.log('Failed to lookup data source by uid', err);\n  }\n\n  // try lookup by old db id\n  const id = typeof uid === 'string' ? parseInt(uid, 10) : uid;\n  if (!Number.isNaN(id)) {\n    const response = await lastValueFrom(\n      getBackendSrv().fetch<DataSourceSettings>({\n        method: 'GET',\n        url: `/api/datasources/${id}`,\n        params: accessControlQueryParam(),\n        showErrorAlert: false,\n      })\n    );\n\n    // If the uid is a number, then this is a refresh on one of the settings tabs\n    // and we can return the response data\n    if (response.ok && typeof uid === 'number' && response.data.id === uid) {\n      return response.data;\n    }\n\n    // Not ideal to do a full page reload here but so tricky to handle this\n    // otherwise We can update the location using react router, but need to\n    // fully reload the route as the nav model page index is not matching with\n    // the url in that case. And react router has no way to unmount remount a\n    // route\n    if (response.ok && response.data.id.toString() === uid) {\n      window.location.href = locationUtil.assureBaseUrl(`/datasources/edit/${response.data.uid}`);\n      return {} as DataSourceSettings; // avoids flashing an error\n    }\n  }\n\n  throw Error('Could not find data source');\n}\n\nexport function addDataSource(plugin: DataSourcePluginMeta): ThunkResult<void> {\n  return async (dispatch, getStore) => {\n    await dispatch(loadDataSources());\n\n    const dataSources = getStore().dataSources.dataSources;\n\n    const newInstance = {\n      name: plugin.name,\n      type: plugin.id,\n      access: 'proxy',\n      isDefault: dataSources.length === 0,\n    };\n\n    if (nameExits(dataSources, newInstance.name)) {\n      newInstance.name = findNewName(dataSources, newInstance.name);\n    }\n\n    const result = await getBackendSrv().post('/api/datasources', newInstance);\n    await getDatasourceSrv().reload();\n    locationService.push(`/datasources/edit/${result.datasource.uid}`);\n  };\n}\n\nexport function loadDataSourcePlugins(): ThunkResult<void> {\n  return async (dispatch) => {\n    dispatch(dataSourcePluginsLoad());\n    const plugins = await getBackendSrv().get('/api/plugins', { enabled: 1, type: 'datasource' });\n    const categories = buildCategories(plugins);\n    dispatch(dataSourcePluginsLoaded({ plugins, categories }));\n  };\n}\n\nexport function updateDataSource(dataSource: DataSourceSettings): ThunkResult<void> {\n  return async (dispatch) => {\n    await getBackendSrv().put(`/api/datasources/${dataSource.id}`, dataSource); // by UID not yet supported\n    await getDatasourceSrv().reload();\n    return dispatch(loadDataSource(dataSource.uid));\n  };\n}\n\nexport function deleteDataSource(): ThunkResult<void> {\n  return async (dispatch, getStore) => {\n    const dataSource = getStore().dataSources.dataSource;\n\n    await getBackendSrv().delete(`/api/datasources/${dataSource.id}`);\n    await getDatasourceSrv().reload();\n\n    locationService.push('/datasources');\n  };\n}\n\ninterface ItemWithName {\n  name: string;\n}\n\nexport function nameExits(dataSources: ItemWithName[], name: string) {\n  return (\n    dataSources.filter((dataSource) => {\n      return dataSource.name.toLowerCase() === name.toLowerCase();\n    }).length > 0\n  );\n}\n\nexport function findNewName(dataSources: ItemWithName[], name: string) {\n  // Need to loop through current data sources to make sure\n  // the name doesn't exist\n  while (nameExits(dataSources, name)) {\n    // If there's a duplicate name that doesn't end with '-x'\n    // we can add -1 to the name and be done.\n    if (!nameHasSuffix(name)) {\n      name = `${name}-1`;\n    } else {\n      // if there's a duplicate name that ends with '-x'\n      // we can try to increment the last digit until the name is unique\n\n      // remove the 'x' part and replace it with the new number\n      name = `${getNewName(name)}${incrementLastDigit(getLastDigit(name))}`;\n    }\n  }\n\n  return name;\n}\n\nfunction nameHasSuffix(name: string) {\n  return name.endsWith('-', name.length - 1);\n}\n\nfunction getLastDigit(name: string) {\n  return parseInt(name.slice(-1), 10);\n}\n\nfunction incrementLastDigit(digit: number) {\n  return isNaN(digit) ? 1 : digit + 1;\n}\n\nfunction getNewName(name: string) {\n  return name.slice(0, name.length - 1);\n}\n","import { DataSourceSettings, PluginType, PluginInclude, NavModel, NavModelItem } from '@grafana/data';\nimport { featureEnabled } from '@grafana/runtime';\nimport config from 'app/core/config';\nimport { contextSrv } from 'app/core/core';\nimport { AccessControlAction } from 'app/types';\nimport { ProBadge } from 'app/core/components/Upgrade/ProBadge';\nimport { GenericDataSourcePlugin } from '../settings/PluginSettings';\n\nconst loadingDSType = 'Loading';\n\nexport function buildNavModel(dataSource: DataSourceSettings, plugin: GenericDataSourcePlugin): NavModelItem {\n  const pluginMeta = plugin.meta;\n  const highlightsEnabled = config.featureToggles.featureHighlights;\n  const navModel: NavModelItem = {\n    img: pluginMeta.info.logos.large,\n    id: 'datasource-' + dataSource.uid,\n    subTitle: `Type: ${pluginMeta.name}`,\n    url: '',\n    text: dataSource.name,\n    breadcrumbs: [{ title: 'Data Sources', url: 'datasources' }],\n    children: [\n      {\n        active: false,\n        icon: 'sliders-v-alt',\n        id: `datasource-settings-${dataSource.uid}`,\n        text: 'Settings',\n        url: `datasources/edit/${dataSource.uid}/`,\n      },\n    ],\n  };\n\n  if (plugin.configPages) {\n    for (const page of plugin.configPages) {\n      navModel.children!.push({\n        active: false,\n        text: page.title,\n        icon: page.icon,\n        url: `datasources/edit/${dataSource.uid}/?page=${page.id}`,\n        id: `datasource-page-${page.id}`,\n      });\n    }\n  }\n\n  if (pluginMeta.includes && hasDashboards(pluginMeta.includes) && contextSrv.hasRole('Admin')) {\n    navModel.children!.push({\n      active: false,\n      icon: 'apps',\n      id: `datasource-dashboards-${dataSource.uid}`,\n      text: 'Dashboards',\n      url: `datasources/edit/${dataSource.uid}/dashboards`,\n    });\n  }\n\n  const isLoadingNav = dataSource.type === loadingDSType;\n\n  const dsPermissions = {\n    active: false,\n    icon: 'lock',\n    id: `datasource-permissions-${dataSource.uid}`,\n    text: 'Permissions',\n    url: `datasources/edit/${dataSource.uid}/permissions`,\n  };\n\n  if (featureEnabled('dspermissions')) {\n    if (contextSrv.hasPermission(AccessControlAction.DataSourcesPermissionsRead)) {\n      navModel.children!.push(dsPermissions);\n    }\n  } else if (highlightsEnabled && !isLoadingNav) {\n    navModel.children!.push({\n      ...dsPermissions,\n      url: dsPermissions.url + '/upgrade',\n      tabSuffix: () => ProBadge({ experimentId: 'feature-highlights-data-source-permissions-badge' }),\n    });\n  }\n\n  const analytics = {\n    active: false,\n    icon: 'info-circle',\n    id: `datasource-insights-${dataSource.id}`,\n    text: 'Insights',\n    url: `datasources/edit/${dataSource.id}/insights`,\n  };\n\n  if (featureEnabled('analytics')) {\n    navModel.children!.push(analytics);\n  } else if (highlightsEnabled && !isLoadingNav) {\n    navModel.children!.push({\n      ...analytics,\n      url: analytics.url + '/upgrade',\n      tabSuffix: () => ProBadge({ experimentId: 'feature-highlights-data-source-insights-badge' }),\n    });\n  }\n\n  const caching = {\n    active: false,\n    icon: 'database',\n    id: `datasource-cache-${dataSource.uid}`,\n    text: 'Cache',\n    url: `datasources/edit/${dataSource.uid}/cache`,\n    hideFromTabs: !pluginMeta.isBackend || !config.caching.enabled,\n  };\n\n  if (featureEnabled('caching')) {\n    navModel.children!.push(caching);\n  } else if (highlightsEnabled && !isLoadingNav) {\n    navModel.children!.push({\n      ...caching,\n      url: caching.url + '/upgrade',\n      tabSuffix: () => ProBadge({ experimentId: 'feature-highlights-query-caching-badge' }),\n    });\n  }\n\n  return navModel;\n}\n\nexport function getDataSourceNav(main: NavModelItem, pageName: string): NavModel {\n  let node: NavModelItem = { text: '' };\n\n  // find active page\n  for (const child of main.children!) {\n    if (child.id!.indexOf(pageName) > 0) {\n      child.active = true;\n      node = child;\n      break;\n    }\n  }\n\n  return {\n    main: main,\n    node: node!,\n  };\n}\nexport function getDataSourceLoadingNav(pageName: string): NavModel {\n  const main = buildNavModel(\n    {\n      access: '',\n      basicAuth: false,\n      basicAuthUser: '',\n      basicAuthPassword: '',\n      withCredentials: false,\n      database: '',\n      id: 1,\n      uid: 'x',\n      isDefault: false,\n      jsonData: { authType: 'credentials', defaultRegion: 'eu-west-2' },\n      name: 'Loading',\n      orgId: 1,\n      password: '',\n      readOnly: false,\n      type: loadingDSType,\n      typeName: loadingDSType,\n      typeLogoUrl: 'public/img/icn-datasource.svg',\n      url: '',\n      user: '',\n      secureJsonFields: {},\n    },\n    {\n      meta: {\n        id: '1',\n        type: PluginType.datasource,\n        name: '',\n        info: {\n          author: {\n            name: '',\n            url: '',\n          },\n          description: '',\n          links: [{ name: '', url: '' }],\n          logos: {\n            large: '',\n            small: '',\n          },\n          screenshots: [],\n          updated: '',\n          version: '',\n        },\n        includes: [],\n        module: '',\n        baseUrl: '',\n      },\n    } as any\n  );\n\n  return getDataSourceNav(main, pageName);\n}\n\nfunction hasDashboards(includes: PluginInclude[]): boolean {\n  return (\n    includes.find((include) => {\n      return include.type === 'dashboard';\n    }) !== undefined\n  );\n}\n","import { DataSourcePluginMeta, DataSourceSettings, UrlQueryValue } from '@grafana/data';\nimport { DataSourcesState } from '../../../types/datasources';\n\nexport const getDataSources = (state: DataSourcesState) => {\n  const regex = new RegExp(state.searchQuery, 'i');\n\n  return state.dataSources.filter((dataSource: DataSourceSettings) => {\n    return regex.test(dataSource.name) || regex.test(dataSource.database) || regex.test(dataSource.type);\n  });\n};\n\nexport const getDataSourcePlugins = (state: DataSourcesState) => {\n  const regex = new RegExp(state.dataSourceTypeSearchQuery, 'i');\n\n  return state.plugins.filter((type: DataSourcePluginMeta) => {\n    return regex.test(type.name);\n  });\n};\n\nexport const getDataSource = (state: DataSourcesState, dataSourceId: UrlQueryValue): DataSourceSettings => {\n  if (state.dataSource.uid === dataSourceId) {\n    return state.dataSource;\n  }\n  return {} as DataSourceSettings;\n};\n\nexport const getDataSourceMeta = (state: DataSourcesState, type: string): DataSourcePluginMeta => {\n  if (state.dataSourceMeta.id === type) {\n    return state.dataSourceMeta;\n  }\n\n  return {} as DataSourcePluginMeta;\n};\n\nexport const getDataSourcesSearchQuery = (state: DataSourcesState) => state.searchQuery;\nexport const getDataSourcesLayoutMode = (state: DataSourcesState) => state.layoutMode;\nexport const getDataSourcesCount = (state: DataSourcesState) => state.dataSourcesCount;\n"],"names":["buildCategories","plugins","categories","id","title","filter","item","categoryIndex","pluginIndex","enterprisePlugins","getPhantomPlugin","name","description","imgUrl","category","plugin","enterprisePlugin","find","enterprise","unlicensed","featureEnabled","info","links","link","push","type","PluginType","module","baseUrl","logos","small","large","author","url","screenshots","updated","version","sortPlugins","c","length","sortingRules","prometheus","graphite","loki","mysql","jaeger","postgres","gcloud","sort","a","b","aSort","bSort","options","config","initDataSourceSettings","pageId","dependencies","loadDataSource","loadDataSourceMeta","getDataSource","getDataSourceMeta","importDataSourcePlugin","async","dispatch","getState","loadedDataSource","dataSourceSettings","dataSource","dataSources","dataSourceMeta","importedPlugin","initDataSourceSettingsSucceeded","err","initDataSourceSettingsFailed","Error","testDataSource","dataSourceName","getDatasourceSrv","getBackendSrv","dsApi","get","testDatasource","testDataSourceStarting","withNoBackendCache","result","testDataSourceSucceeded","statusText","message","errMessage","details","data","testDataSourceFailed","loadDataSources","response","dataSourcesLoaded","uid","byUid","lastValueFrom","fetch","method","params","accessControlQueryParam","showErrorAlert","ok","console","log","parseInt","Number","isNaN","toString","window","location","href","locationUtil","getDataSourceUsingUidOrId","dataSourceLoaded","pluginInfo","getPluginSettings","isBackend","DataSourceClass","prototype","DataSourceWithBackend","meta","backend","dataSourceMetaLoaded","updateNavIndex","buildNavModel","addDataSource","getStore","newInstance","access","isDefault","nameExits","nameHasSuffix","getNewName","incrementLastDigit","getLastDigit","findNewName","post","reload","locationService","datasource","loadDataSourcePlugins","dataSourcePluginsLoad","enabled","dataSourcePluginsLoaded","updateDataSource","put","deleteDataSource","delete","toLowerCase","endsWith","slice","digit","loadingDSType","pluginMeta","highlightsEnabled","navModel","img","subTitle","text","breadcrumbs","children","active","icon","configPages","page","includes","undefined","include","contextSrv","isLoadingNav","dsPermissions","AccessControlAction","tabSuffix","ProBadge","experimentId","analytics","caching","hideFromTabs","getDataSourceNav","main","pageName","node","child","indexOf","getDataSourceLoadingNav","basicAuth","basicAuthUser","basicAuthPassword","withCredentials","database","jsonData","authType","defaultRegion","orgId","password","readOnly","typeName","typeLogoUrl","user","secureJsonFields","getDataSources","state","regex","RegExp","searchQuery","test","getDataSourcePlugins","dataSourceTypeSearchQuery","dataSourceId","getDataSourcesSearchQuery","getDataSourcesLayoutMode","layoutMode","getDataSourcesCount","dataSourcesCount"],"sourceRoot":""}