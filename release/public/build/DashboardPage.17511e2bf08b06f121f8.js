(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"1uty":function(e,t,n){"use strict";function r(e){return e._erd}e.exports={initState:function(e){return e._erd={},r(e)},getState:r,cleanState:function(e){delete e._erd}}},"3ISj":function(e,t,n){"use strict";var r=n("q1tI"),o=n("/MKj"),i=n("p1x6"),a=n("kDLi"),s=n("aWce"),l=n("NXk7"),c=n("GkHB"),d=n("Csm0"),u=n("Y8YH"),p=n("nKUr");function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const f=e=>{const{link:t,linkInfo:n}=e,o=Object(r.useRef)(null),[i,s]=Object(r.useState)("invisible"),[l,c]=Object(r.useState)(0),u=g(e,l);return Object(r.useLayoutEffect)(()=>{s(function(e){if(!e)return"invisible";const t=e.parentElement.getBoundingClientRect(),n=e.getBoundingClientRect();if(0===n.width)return"invisible";return t.left+n.width+10>window.innerWidth?"pull-left":"pull-right"}(o.current))},[u]),t.asDropdown?Object(p.jsx)(b,{link:t,"aria-label":d.selectors.components.DashboardLinks.dropDown,children:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("a",{onClick:()=>c(Date.now()),className:"gf-form-label gf-form-label--dashlink","data-placement":"bottom","data-toggle":"dropdown",children:[Object(p.jsx)(a.Icon,{name:"bars",style:{marginRight:"4px"}}),Object(p.jsx)("span",{children:n.title})]}),Object(p.jsx)("ul",{className:"dropdown-menu "+i,role:"menu",ref:o,children:u.length>0&&u.map((e,n)=>Object(p.jsx)("li",{children:Object(p.jsx)("a",{href:e.url,target:t.targetBlank?"_blank":void 0,rel:"noreferrer","aria-label":d.selectors.components.DashboardLinks.link,children:e.title})},`dashlinks-dropdown-item-${e.id}-${n}`))})]})},"dashlinks-dropdown"):Object(p.jsx)(p.Fragment,{children:u.length>0&&u.map((e,n)=>Object(p.jsx)(b,{link:t,"aria-label":d.selectors.components.DashboardLinks.container,children:Object(p.jsxs)("a",{className:"gf-form-label gf-form-label--dashlink",href:e.url,target:t.targetBlank?"_blank":void 0,rel:"noreferrer","aria-label":d.selectors.components.DashboardLinks.link,children:[Object(p.jsx)(a.Icon,{name:"apps",style:{marginRight:"4px"}}),Object(p.jsx)("span",{children:e.title})]})},`dashlinks-list-item-${e.id}-${n}`))})},b=e=>{const{link:t,children:n}=e,r=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["link","children"]);return Object(p.jsxs)("div",h({},r,{className:"gf-form",children:[t.tooltip&&Object(p.jsx)(a.Tooltip,{content:t.tooltip,children:n}),!t.tooltip&&Object(p.jsx)(p.Fragment,{children:n})]}))},g=({link:e,dashboardId:t},n)=>{const{tags:r}=e,o=Object(u.a)(()=>async function(e,t={getBackendSrv:l.c}){return await t.getBackendSrv().search({tag:e,limit:100})}(r),[r,n]);return o.value?function(e,t,n,r={getLinkSrv:c.b,sanitize:s.c,sanitizeUrl:s.d}){return n.filter(t=>t.id!==e).map(e=>{const n=e.id,o=r.sanitize(e.title),i=r.getLinkSrv().getLinkUrl(h({},t,{url:e.url}));return{id:n,title:o,url:r.sanitizeUrl(i)}})}(t,e,o.value):[]};var m=n("+toN"),y=n("Zcyb"),v=n("GQ3c");const O=({dashboard:e,links:t})=>{const[,n]=Object(r.useReducer)(e=>e+1,0);return Object(y.a)(()=>(e.on(v.CoreEvents.timeRangeUpdated,n),()=>{e.off(v.CoreEvents.timeRangeUpdated,n)})),t.length?Object(p.jsx)(p.Fragment,{children:t.map((t,n)=>{const r=Object(c.b)().getAnchorInfo(t),o=`${t.title}-$${n}`;if("dashboards"===t.type)return Object(p.jsx)(f,{link:t,linkInfo:r,dashboardId:e.id},o);const i=Object(p.jsxs)("a",{className:"gf-form-label gf-form-label--dashlink",href:Object(s.d)(r.href),target:t.targetBlank?"_blank":void 0,rel:"noreferrer","aria-label":d.selectors.components.DashboardLinks.link,children:[Object(p.jsx)(a.Icon,{name:m.b[t.icon],style:{marginRight:"4px"}}),Object(p.jsx)("span",{children:r.title})]});return Object(p.jsx)("div",{className:"gf-form","aria-label":d.selectors.components.DashboardLinks.container,children:t.tooltip?Object(p.jsx)(a.Tooltip,{content:r.tooltip,children:i}):i},o)})}):null};var j=n("Uuh2"),S=n("xAj+"),x=n("W22M"),w=n("vF1F");const M=({annotation:e,events:t,onEnabledChanged:n})=>{const[o,i]=Object(r.useState)(!1),s=Object(a.useStyles2)(k);return Object(r.useEffect)(()=>{const n=t.getStream(S.AnnotationQueryStarted).subscribe({next:t=>{t.payload===e&&i(!0)}}),r=t.getStream(S.AnnotationQueryFinished).subscribe({next:t=>{t.payload===e&&i(!1)}});return()=>{n.unsubscribe(),r.unsubscribe()}}),Object(p.jsx)("div",{className:s.annotation,children:Object(p.jsx)(a.InlineField,{label:e.name,disabled:o,children:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(a.InlineSwitch,{value:e.enable,onChange:()=>n(e),disabled:o}),Object(p.jsx)("div",{className:s.indicator,children:Object(p.jsx)(x.a,{loading:o,onCancel:()=>Object(j.b)().cancel(e)})})]})})},e.name)};function k(e){return{annotation:w.css`
      display: inline-block;
      margin-right: ${e.spacing(1)};

      .fa-caret-down {
        font-size: 75%;
        padding-left: ${e.spacing(1)};
      }

      .gf-form-inline .gf-form {
        margin-bottom: 0;
      }
    `,indicator:w.css`
      align-self: center;
      padding: 0 ${e.spacing(.5)};
    `}}const C=({annotations:e,onAnnotationChanged:t,events:n})=>{const[o,i]=Object(r.useState)([]);return Object(r.useEffect)(()=>{i(e.filter(e=>!0!==e.hide))},[e]),0===o.length?null:Object(p.jsx)(p.Fragment,{children:o.map(e=>Object(p.jsx)(M,{events:n,annotation:e,onEnabledChanged:t},e.name))})};var P,z,D=n("VBuW");n.d(t,"a",(function(){return R}));class T extends r.PureComponent{constructor(...e){super(...e),this.onAnnotationStateChanged=e=>{for(let t=0;t<this.props.dashboard.annotations.list.length;t++){const n=this.props.dashboard.annotations.list[t];if(n.name===e.name){n.enable=!n.enable;break}}this.props.dashboard.startRefresh(),this.forceUpdate()}}render(){const{dashboard:e,variables:t,links:n,annotations:r}=this.props;return e.isSubMenuVisible()?Object(p.jsxs)("div",{className:"submenu-controls",children:[Object(p.jsx)(D.a,{variables:t}),Object(p.jsx)(C,{annotations:r,onAnnotationChanged:this.onAnnotationStateChanged,events:e.events}),P||(P=Object(p.jsx)("div",{className:"gf-form gf-form--grow"})),e&&Object(p.jsx)(O,{dashboard:e,links:n}),z||(z=Object(p.jsx)("div",{className:"clearfix"}))]}):null}}const R=Object(o.connect)(e=>({variables:Object(i.d)(e.templating.variables)}))(T);R.displayName="SubMenu"},"6iOD":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==u(e)&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n("q1tI")),o=c(n("17x9")),i=c(n("XaGS")),a=n("T0XP"),s=n("Qgwu"),l=c(n("fEyB"));function c(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){return Object.prototype.toString.call(e)};function M(e,t){return null==e?null:Array.isArray(e)?e:e[t]}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(d,e);var t,n,o,c=v(d);function d(){var e;g(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return x(j(e=c.call.apply(c,[this].concat(n))),"state",e.generateInitialState()),x(j(e),"onLayoutChange",(function(t){e.props.onLayoutChange(t,b(b({},e.props.layouts),{},x({},e.state.breakpoint,t)))})),e}return t=d,o=[{key:"getDerivedStateFromProps",value:function(e,t){if(!(0,i.default)(e.layouts,t.layouts)){var n=t.breakpoint,r=t.cols;return{layout:(0,s.findOrGenerateResponsiveLayout)(e.layouts,e.breakpoints,n,n,r,e.compactType),layouts:e.layouts}}return null}}],(n=[{key:"generateInitialState",value:function(){var e=this.props,t=e.width,n=e.breakpoints,r=e.layouts,o=e.cols,i=(0,s.getBreakpointFromWidth)(n,t),a=(0,s.getColsFromBreakpoint)(i,o),l=!1===this.props.verticalCompact?null:this.props.compactType;return{layout:(0,s.findOrGenerateResponsiveLayout)(r,n,i,i,a,l),breakpoint:i,cols:a}}},{key:"componentDidUpdate",value:function(e){this.props.width==e.width&&this.props.breakpoint===e.breakpoint&&(0,i.default)(this.props.breakpoints,e.breakpoints)&&(0,i.default)(this.props.cols,e.cols)||this.onWidthChange(e)}},{key:"onWidthChange",value:function(e){var t=this.props,n=t.breakpoints,r=t.cols,o=t.layouts,i=t.compactType,l=this.props.breakpoint||(0,s.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),c=this.state.breakpoint,d=(0,s.getColsFromBreakpoint)(l,r),u=b({},o);if(c!==l||e.breakpoints!==n||e.cols!==r){c in u||(u[c]=(0,a.cloneLayout)(this.state.layout));var p=(0,s.findOrGenerateResponsiveLayout)(u,n,l,c,d,i);p=(0,a.synchronizeLayoutWithChildren)(p,this.props.children,d,i),u[l]=p,this.props.onLayoutChange(p,u),this.props.onBreakpointChange(l,d),this.setState({breakpoint:l,layout:p,cols:d})}var h=M(this.props.margin,l),f=M(this.props.containerPadding,l);this.props.onWidthChange(this.props.width,h,d,f)}},{key:"render",value:function(){var e=this.props,t=(e.breakpoint,e.breakpoints,e.cols,e.layouts,e.margin),n=e.containerPadding,o=(e.onBreakpointChange,e.onLayoutChange,e.onWidthChange,h(e,["breakpoint","breakpoints","cols","layouts","margin","containerPadding","onBreakpointChange","onLayoutChange","onWidthChange"]));return r.createElement(l.default,p({},o,{margin:M(t,this.state.breakpoint),containerPadding:M(n,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}])&&m(t.prototype,n),o&&m(t,o),d}(r.Component);t.default=k,x(k,"propTypes",{breakpoint:o.default.string,breakpoints:o.default.object,cols:o.default.object,margin:o.default.oneOfType([o.default.array,o.default.object]),containerPadding:o.default.oneOfType([o.default.array,o.default.object]),layouts:function(e,t){if("[object Object]"!==w(e[t]))throw new Error("Layout property must be an object. Received: "+w(e[t]));Object.keys(e[t]).forEach((function(t){if(!(t in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,a.validateLayout)(e.layouts[t],"layouts."+t)}))},width:o.default.number.isRequired,onBreakpointChange:o.default.func,onLayoutChange:o.default.func,onWidthChange:o.default.func}),x(k,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},layouts:{},margin:[10,10],containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},onBreakpointChange:a.noop,onLayoutChange:a.noop,onWidthChange:a.noop})},"7sSR":function(e,t,n){"use strict";var r=n("t3DW").forEach,o=n("W+U1"),i=n("Sa1T"),a=n("LO96"),s=n("UFhH"),l=n("q7TX"),c=n("GOnX"),d=n("wnTG"),u=n("1uty"),p=n("GNKm"),h=n("yUZ2");function f(e){return Array.isArray(e)||void 0!==e.length}function b(e){if(Array.isArray(e))return e;var t=[];return r(e,(function(e){t.push(e)})),t}function g(e){return e&&1===e.nodeType}function m(e,t,n){var r=e[t];return null==r&&void 0!==n?n:r}e.exports=function(e){var t;if((e=e||{}).idHandler)t={get:function(t){return e.idHandler.get(t,!0)},set:e.idHandler.set};else{var n=a(),y=s({idGenerator:n,stateHandler:u});t=y}var v=e.reporter;v||(v=l(!1===v));var O=m(e,"batchProcessor",d({reporter:v})),j={};j.callOnAdd=!!m(e,"callOnAdd",!0),j.debug=!!m(e,"debug",!1);var S,x=i(t),w=o({stateHandler:u}),M=m(e,"strategy","object"),k=m(e,"important",!1),C={reporter:v,batchProcessor:O,stateHandler:u,idHandler:t,important:k};if("scroll"===M&&(c.isLegacyOpera()?(v.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),M="object"):c.isIE(9)&&(v.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),M="object")),"scroll"===M)S=h(C);else{if("object"!==M)throw new Error("Invalid strategy name: "+M);S=p(C)}var P={};return{listenTo:function(e,n,o){function i(e){var t=x.get(e);r(t,(function(t){t(e)}))}function a(e,t,n){x.add(t,n),e&&n(t)}if(o||(o=n,n=e,e={}),!n)throw new Error("At least one element required.");if(!o)throw new Error("Listener required.");if(g(n))n=[n];else{if(!f(n))return v.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");n=b(n)}var s=0,l=m(e,"callOnAdd",j.callOnAdd),c=m(e,"onReady",(function(){})),d=m(e,"debug",j.debug);r(n,(function(e){u.getState(e)||(u.initState(e),t.set(e));var p=t.get(e);if(d&&v.log("Attaching listener to element",p,e),!w.isDetectable(e))return d&&v.log(p,"Not detectable."),w.isBusy(e)?(d&&v.log(p,"System busy making it detectable"),a(l,e,o),P[p]=P[p]||[],void P[p].push((function(){++s===n.length&&c()}))):(d&&v.log(p,"Making detectable..."),w.markBusy(e,!0),S.makeDetectable({debug:d,important:k},e,(function(e){if(d&&v.log(p,"onElementDetectable"),u.getState(e)){w.markAsDetectable(e),w.markBusy(e,!1),S.addListener(e,i),a(l,e,o);var t=u.getState(e);if(t&&t.startSize){var h=e.offsetWidth,f=e.offsetHeight;t.startSize.width===h&&t.startSize.height===f||i(e)}P[p]&&r(P[p],(function(e){e()}))}else d&&v.log(p,"Element uninstalled before being detectable.");delete P[p],++s===n.length&&c()})));d&&v.log(p,"Already detecable, adding listener."),a(l,e,o),s++})),s===n.length&&c()},removeListener:x.removeListener,removeAllListeners:x.removeAllListeners,uninstall:function(e){if(!e)return v.error("At least one element is required.");if(g(e))e=[e];else{if(!f(e))return v.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");e=b(e)}r(e,(function(e){x.removeAllListeners(e),S.uninstall(e),u.cleanState(e)}))},initDocument:function(e){S.initDocument&&S.initDocument(e)}}}},"8N4D":function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.matchesSelector=u,t.matchesSelectorAndParentsTo=function(e,t,n){var r=e;do{if(u(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},t.addEvent=function(e,t,n,r){if(!e)return;var o=l({capture:!0},r);e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},t.removeEvent=function(e,t,n,r){if(!e)return;var o=l({capture:!0},r);e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},t.outerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,o.int)(n.borderTopWidth),t+=(0,o.int)(n.borderBottomWidth)},t.outerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,o.int)(n.borderLeftWidth),t+=(0,o.int)(n.borderRightWidth)},t.innerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,o.int)(n.paddingTop),t-=(0,o.int)(n.paddingBottom)},t.innerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,o.int)(n.paddingLeft),t-=(0,o.int)(n.paddingRight)},t.offsetXYFromParent=function(e,t,n){var r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),o=(e.clientX+t.scrollLeft-r.left)/n,i=(e.clientY+t.scrollTop-r.top)/n;return{x:o,y:i}},t.createCSSTransform=function(e,t){var n=p(e,t,"px");return c({},(0,i.browserPrefixToKey)("transform",i.default),n)},t.createSVGTransform=function(e,t){return p(e,t,"")},t.getTranslation=p,t.getTouch=function(e,t){return e.targetTouches&&(0,o.findInArray)(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&(0,o.findInArray)(e.changedTouches,(function(e){return t===e.identifier}))},t.getTouchIdentifier=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},t.addUserSelectStyles=function(e){if(!e)return;var t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&h(e.body,"react-draggable-transparent-selection")},t.removeUserSelectStyles=function(e){if(!e)return;try{if(e.body&&f(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(e){}},t.addClassName=h,t.removeClassName=f;var o=n("gbW8"),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n("Ga4A"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d="";function u(e,t){return d||(d=(0,o.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,o.isFunction)(e[t])}))),!!(0,o.isFunction)(e[d])&&e[d](t)}function p(e,t,n){var r=e.x,o=e.y,i="translate(".concat(r).concat(n,",").concat(o).concat(n,")");if(t){var a="".concat("string"==typeof t.x?t.x:t.x+n),s="".concat("string"==typeof t.y?t.y:t.y+n);i="translate(".concat(a,", ").concat(s,")")+i}return i}function h(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function f(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},ChGz:function(e,t,n){e.exports=n("fEyB").default,e.exports.utils=n("T0XP"),e.exports.Responsive=n("6iOD").default,e.exports.Responsive.utils=n("Qgwu"),e.exports.WidthProvider=n("NmA4").default},"E5+Z":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r,o,i,a=n("q1tI"),s=n("kDLi"),l=n("Y8YH"),c=n("rYwU"),d=n("oWI4"),u=n("V8VS"),p=n("KO1d"),h=n("nKUr");const f=({panel:e,folderId:t,isUnsavedPrompt:n,onDismiss:f,onConfirm:b,onDiscard:g})=>{const[m,y]=Object(a.useState)(""),v=Object(l.a)(async()=>{const t=await Object(u.c)(e.libraryPanel.uid);return t.length>0?t.map(e=>e.title):[]},[e.libraryPanel.uid]),[O,j]=Object(a.useState)([]);Object(c.a)(()=>v.value?j(v.value.filter(e=>e.toLowerCase().includes(m.toLowerCase()))):j([]),300,[v.value,m]);const{saveLibraryPanel:S}=Object(d.a)(),x=Object(s.useStyles)(p.a),w=Object(a.useCallback)(()=>{g()},[g]),M=n?"Unsaved library panel changes":"Save library panel";return Object(h.jsx)(s.Modal,{title:M,icon:"save",onDismiss:f,isOpen:!0,children:Object(h.jsxs)("div",{children:[Object(h.jsxs)("p",{className:x.textInfo,children:["This update will affect ",Object(h.jsxs)("strong",{children:[e.libraryPanel.meta.connectedDashboards," ",1===e.libraryPanel.meta.connectedDashboards?"dashboard":"dashboards","."]}),"The following dashboards using the panel will be affected:"]}),Object(h.jsx)(s.Input,{className:x.dashboardSearch,prefix:r||(r=Object(h.jsx)(s.Icon,{name:"search"})),placeholder:"Search affected dashboards",value:m,onChange:e=>y(e.currentTarget.value)}),v.loading?o||(o=Object(h.jsx)("p",{children:"Loading connected dashboards..."})):Object(h.jsxs)("table",{className:x.myTable,children:[i||(i=Object(h.jsx)("thead",{children:Object(h.jsx)("tr",{children:Object(h.jsx)("th",{children:"Dashboard name"})})})),Object(h.jsx)("tbody",{children:O.map((e,t)=>Object(h.jsx)("tr",{children:Object(h.jsx)("td",{children:e})},"dashrow-"+t))})]}),Object(h.jsxs)(s.Modal.ButtonRow,{children:[Object(h.jsx)(s.Button,{variant:"secondary",onClick:f,fill:"outline",children:"Cancel"}),n&&Object(h.jsx)(s.Button,{variant:"destructive",onClick:w,children:"Discard"}),Object(h.jsx)(s.Button,{onClick:()=>{S(e,t).then(()=>{b()})},children:"Update all"})]})]})})}},"E56+":function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n("q1tI")),o=s(n("17x9")),i=s(n("jqYm")),a=n("H4m+");function s(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return h(p(t=e.call.apply(e,[this].concat(r))||this),"state",{width:t.props.width,height:t.props.height,propsWidth:t.props.width,propsHeight:t.props.height}),h(p(t),"onResize",(function(e,n){var r=n.size;t.props.onResize?(e.persist&&e.persist(),t.setState(r,(function(){return t.props.onResize&&t.props.onResize(e,n)}))):t.setState(r)})),t}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,o.getDerivedStateFromProps=function(e,t){return t.propsWidth!==e.width||t.propsHeight!==e.height?{width:e.width,height:e.height,propsWidth:e.width,propsHeight:e.height}:null},o.prototype.render=function(){var e=this.props,t=e.handle,n=e.handleSize,o=(e.onResize,e.onResizeStart),a=e.onResizeStop,s=e.draggableOpts,l=e.minConstraints,d=e.maxConstraints,p=e.lockAspectRatio,h=e.axis,f=(e.width,e.height,e.resizeHandles),b=e.style,g=e.transformScale,m=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"]);return r.createElement(i.default,{axis:h,draggableOpts:s,handle:t,handleSize:n,height:this.state.height,lockAspectRatio:p,maxConstraints:d,minConstraints:l,onResizeStart:o,onResize:this.onResize,onResizeStop:a,resizeHandles:f,transformScale:g,width:this.state.width},r.createElement("div",c({},m,{style:u(u({},b),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},o}(r.Component);t.default=f,h(f,"propTypes",u(u({},a.resizableProps),{},{children:o.default.element}))},FFox:function(e,t,n){"use strict";var r,o=n("q1tI"),i=n.n(o),a=n("TSYQ"),s=n.n(a),l=n("kDLi"),c=n("Xmxp"),d=n("vF1F"),u=n("gR9h"),p=n("nKUr");function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const f=({repeat:e,title:t,onUpdate:n,onCancel:i})=>{var a,s;const[c,d]=Object(o.useState)(e),f=Object(o.useCallback)(e=>d(e),[d]);return Object(p.jsx)(l.Form,{defaultValues:{title:t},onSubmit:e=>{n(e.title,c)},children:({register:e})=>Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l.Field,{label:"Title",children:Object(p.jsx)(l.Input,h({},e("title"),{type:"text"}))}),a||(a=Object(p.jsx)(l.Field,{label:"Repeat for",children:Object(p.jsx)(u.a,{repeat:c,onChange:f})})),s||(s=Object(p.jsxs)(l.Modal.ButtonRow,{children:[Object(p.jsx)(l.Button,{type:"button",variant:"secondary",onClick:i,fill:"outline",children:"Cancel"}),r||(r=Object(p.jsx)(l.Button,{type:"submit",children:"Update"}))]}))]})})},b=({repeat:e,title:t,onDismiss:n,onUpdate:r})=>{const o=g();return Object(p.jsx)(l.Modal,{isOpen:!0,title:"Row options",icon:"copy",onDismiss:n,className:o.modal,children:Object(p.jsx)(f,{repeat:e,title:t,onCancel:n,onUpdate:r})})},g=Object(l.stylesFactory)(()=>({modal:d.css`
      label: RowOptionsModal;
      width: 500px;
    `}));var m;const y=({repeat:e,title:t,onUpdate:n})=>{const r=e=>(t,r)=>{n(t,r),e()};return Object(p.jsx)(l.ModalsController,{children:({showModal:n,hideModal:o})=>Object(p.jsx)("a",{className:"pointer",onClick:()=>{n(b,{title:t,repeat:e,onDismiss:o,onUpdate:r(o)})},children:m||(m=Object(p.jsx)(l.Icon,{name:"cog"}))})})};y.displayName="RowOptionsButton";var v,O,j=n("t8hP"),S=n("xAj+");class x extends i.a.Component{constructor(e){super(e),this.sub=void 0,this.onVariableUpdated=()=>{this.forceUpdate()},this.onToggle=()=>{this.props.dashboard.toggleRow(this.props.panel),this.setState(e=>({collapsed:!e.collapsed}))},this.onUpdate=(e,t)=>{this.props.panel.title=e,this.props.panel.repeat=t,this.props.panel.render(),this.props.dashboard.processRepeats(),this.forceUpdate()},this.onDelete=()=>{c.b.publish(new S.ShowConfirmModalEvent({title:"Delete row",text:"Are you sure you want to remove this row and all its panels?",altActionText:"Delete row only",icon:"trash-alt",onConfirm:()=>{this.props.dashboard.removeRow(this.props.panel,!0)},onAltAction:()=>{this.props.dashboard.removeRow(this.props.panel,!1)}}))},this.state={collapsed:this.props.panel.collapsed}}componentDidMount(){this.sub=this.props.dashboard.events.subscribe(S.RefreshEvent,this.onVariableUpdated)}componentWillUnmount(){this.sub&&this.sub.unsubscribe()}render(){const e=s()({"dashboard-row":!0,"dashboard-row--collapsed":this.state.collapsed}),t=Object(j.getTemplateSrv)().replace(this.props.panel.title,this.props.panel.scopedVars,"text"),n=this.props.panel.panels?this.props.panel.panels.length:0,r=1===n?"panel":"panels",o=!0===this.props.dashboard.meta.canEdit;return Object(p.jsxs)("div",{className:e,children:[Object(p.jsxs)("a",{className:"dashboard-row__title pointer",onClick:this.onToggle,children:[Object(p.jsx)(l.Icon,{name:this.state.collapsed?"angle-right":"angle-down"}),t,Object(p.jsxs)("span",{className:"dashboard-row__panel_count",children:["(",n," ",r,")"]})]}),o&&Object(p.jsxs)("div",{className:"dashboard-row__actions",children:[Object(p.jsx)(y,{title:this.props.panel.title,repeat:this.props.panel.repeat,onUpdate:this.onUpdate}),Object(p.jsx)("a",{className:"pointer",onClick:this.onDelete,children:v||(v=Object(p.jsx)(l.Icon,{name:"trash-alt"}))})]}),!0===this.state.collapsed&&Object(p.jsx)("div",{className:"dashboard-row__toggle-target",onClick:this.onToggle,children:" "}),o&&(O||(O=Object(p.jsx)("div",{className:"dashboard-row__drag grid-drag-handle"})))]})}}n.d(t,"a",(function(){return x}))},FdMb:function(e,t,n){"use strict";function r(e,t,n,r){var o,i=!1,a=0;function s(){o&&clearTimeout(o)}function l(){var l=this,c=Date.now()-a,d=arguments;function u(){a=Date.now(),n.apply(l,d)}function p(){o=void 0}i||(r&&!o&&u(),s(),void 0===r&&c>e?u():!0!==t&&(o=setTimeout(r?p:u,void 0===r?e-c:e)))}return"boolean"!=typeof t&&(r=n,n=t,t=void 0),l.cancel=function(){s(),i=!0},l}function o(e,t,n){return void 0===n?r(e,t,!1):r(e,n,!1!==t)}n.r(t),n.d(t,"throttle",(function(){return r})),n.d(t,"debounce",(function(){return o}))},Fxvz:function(e,t){e.exports=["alignContent","MozAlignContent","WebkitAlignContent","MSAlignContent","OAlignContent","alignItems","MozAlignItems","WebkitAlignItems","MSAlignItems","OAlignItems","alignSelf","MozAlignSelf","WebkitAlignSelf","MSAlignSelf","OAlignSelf","all","MozAll","WebkitAll","MSAll","OAll","animation","MozAnimation","WebkitAnimation","MSAnimation","OAnimation","animationDelay","MozAnimationDelay","WebkitAnimationDelay","MSAnimationDelay","OAnimationDelay","animationDirection","MozAnimationDirection","WebkitAnimationDirection","MSAnimationDirection","OAnimationDirection","animationDuration","MozAnimationDuration","WebkitAnimationDuration","MSAnimationDuration","OAnimationDuration","animationFillMode","MozAnimationFillMode","WebkitAnimationFillMode","MSAnimationFillMode","OAnimationFillMode","animationIterationCount","MozAnimationIterationCount","WebkitAnimationIterationCount","MSAnimationIterationCount","OAnimationIterationCount","animationName","MozAnimationName","WebkitAnimationName","MSAnimationName","OAnimationName","animationPlayState","MozAnimationPlayState","WebkitAnimationPlayState","MSAnimationPlayState","OAnimationPlayState","animationTimingFunction","MozAnimationTimingFunction","WebkitAnimationTimingFunction","MSAnimationTimingFunction","OAnimationTimingFunction","backfaceVisibility","MozBackfaceVisibility","WebkitBackfaceVisibility","MSBackfaceVisibility","OBackfaceVisibility","background","MozBackground","WebkitBackground","MSBackground","OBackground","backgroundAttachment","MozBackgroundAttachment","WebkitBackgroundAttachment","MSBackgroundAttachment","OBackgroundAttachment","backgroundBlendMode","MozBackgroundBlendMode","WebkitBackgroundBlendMode","MSBackgroundBlendMode","OBackgroundBlendMode","backgroundClip","MozBackgroundClip","WebkitBackgroundClip","MSBackgroundClip","OBackgroundClip","backgroundColor","MozBackgroundColor","WebkitBackgroundColor","MSBackgroundColor","OBackgroundColor","backgroundImage","MozBackgroundImage","WebkitBackgroundImage","MSBackgroundImage","OBackgroundImage","backgroundOrigin","MozBackgroundOrigin","WebkitBackgroundOrigin","MSBackgroundOrigin","OBackgroundOrigin","backgroundPosition","MozBackgroundPosition","WebkitBackgroundPosition","MSBackgroundPosition","OBackgroundPosition","backgroundRepeat","MozBackgroundRepeat","WebkitBackgroundRepeat","MSBackgroundRepeat","OBackgroundRepeat","backgroundSize","MozBackgroundSize","WebkitBackgroundSize","MSBackgroundSize","OBackgroundSize","blockSize","MozBlockSize","WebkitBlockSize","MSBlockSize","OBlockSize","border","MozBorder","WebkitBorder","MSBorder","OBorder","borderBlockEnd","MozBorderBlockEnd","WebkitBorderBlockEnd","MSBorderBlockEnd","OBorderBlockEnd","borderBlockEndColor","MozBorderBlockEndColor","WebkitBorderBlockEndColor","MSBorderBlockEndColor","OBorderBlockEndColor","borderBlockEndStyle","MozBorderBlockEndStyle","WebkitBorderBlockEndStyle","MSBorderBlockEndStyle","OBorderBlockEndStyle","borderBlockEndWidth","MozBorderBlockEndWidth","WebkitBorderBlockEndWidth","MSBorderBlockEndWidth","OBorderBlockEndWidth","borderBlockStart","MozBorderBlockStart","WebkitBorderBlockStart","MSBorderBlockStart","OBorderBlockStart","borderBlockStartColor","MozBorderBlockStartColor","WebkitBorderBlockStartColor","MSBorderBlockStartColor","OBorderBlockStartColor","borderBlockStartStyle","MozBorderBlockStartStyle","WebkitBorderBlockStartStyle","MSBorderBlockStartStyle","OBorderBlockStartStyle","borderBlockStartWidth","MozBorderBlockStartWidth","WebkitBorderBlockStartWidth","MSBorderBlockStartWidth","OBorderBlockStartWidth","borderBottom","MozBorderBottom","WebkitBorderBottom","MSBorderBottom","OBorderBottom","borderBottomColor","MozBorderBottomColor","WebkitBorderBottomColor","MSBorderBottomColor","OBorderBottomColor","borderBottomLeftRadius","MozBorderBottomLeftRadius","WebkitBorderBottomLeftRadius","MSBorderBottomLeftRadius","OBorderBottomLeftRadius","borderBottomRightRadius","MozBorderBottomRightRadius","WebkitBorderBottomRightRadius","MSBorderBottomRightRadius","OBorderBottomRightRadius","borderBottomStyle","MozBorderBottomStyle","WebkitBorderBottomStyle","MSBorderBottomStyle","OBorderBottomStyle","borderBottomWidth","MozBorderBottomWidth","WebkitBorderBottomWidth","MSBorderBottomWidth","OBorderBottomWidth","borderCollapse","MozBorderCollapse","WebkitBorderCollapse","MSBorderCollapse","OBorderCollapse","borderColor","MozBorderColor","WebkitBorderColor","MSBorderColor","OBorderColor","borderImage","MozBorderImage","WebkitBorderImage","MSBorderImage","OBorderImage","borderImageOutset","MozBorderImageOutset","WebkitBorderImageOutset","MSBorderImageOutset","OBorderImageOutset","borderImageRepeat","MozBorderImageRepeat","WebkitBorderImageRepeat","MSBorderImageRepeat","OBorderImageRepeat","borderImageSlice","MozBorderImageSlice","WebkitBorderImageSlice","MSBorderImageSlice","OBorderImageSlice","borderImageSource","MozBorderImageSource","WebkitBorderImageSource","MSBorderImageSource","OBorderImageSource","borderImageWidth","MozBorderImageWidth","WebkitBorderImageWidth","MSBorderImageWidth","OBorderImageWidth","borderInlineEnd","MozBorderInlineEnd","WebkitBorderInlineEnd","MSBorderInlineEnd","OBorderInlineEnd","borderInlineEndColor","MozBorderInlineEndColor","WebkitBorderInlineEndColor","MSBorderInlineEndColor","OBorderInlineEndColor","borderInlineEndStyle","MozBorderInlineEndStyle","WebkitBorderInlineEndStyle","MSBorderInlineEndStyle","OBorderInlineEndStyle","borderInlineEndWidth","MozBorderInlineEndWidth","WebkitBorderInlineEndWidth","MSBorderInlineEndWidth","OBorderInlineEndWidth","borderInlineStart","MozBorderInlineStart","WebkitBorderInlineStart","MSBorderInlineStart","OBorderInlineStart","borderInlineStartColor","MozBorderInlineStartColor","WebkitBorderInlineStartColor","MSBorderInlineStartColor","OBorderInlineStartColor","borderInlineStartStyle","MozBorderInlineStartStyle","WebkitBorderInlineStartStyle","MSBorderInlineStartStyle","OBorderInlineStartStyle","borderInlineStartWidth","MozBorderInlineStartWidth","WebkitBorderInlineStartWidth","MSBorderInlineStartWidth","OBorderInlineStartWidth","borderLeft","MozBorderLeft","WebkitBorderLeft","MSBorderLeft","OBorderLeft","borderLeftColor","MozBorderLeftColor","WebkitBorderLeftColor","MSBorderLeftColor","OBorderLeftColor","borderLeftStyle","MozBorderLeftStyle","WebkitBorderLeftStyle","MSBorderLeftStyle","OBorderLeftStyle","borderLeftWidth","MozBorderLeftWidth","WebkitBorderLeftWidth","MSBorderLeftWidth","OBorderLeftWidth","borderRadius","MozBorderRadius","WebkitBorderRadius","MSBorderRadius","OBorderRadius","borderRight","MozBorderRight","WebkitBorderRight","MSBorderRight","OBorderRight","borderRightColor","MozBorderRightColor","WebkitBorderRightColor","MSBorderRightColor","OBorderRightColor","borderRightStyle","MozBorderRightStyle","WebkitBorderRightStyle","MSBorderRightStyle","OBorderRightStyle","borderRightWidth","MozBorderRightWidth","WebkitBorderRightWidth","MSBorderRightWidth","OBorderRightWidth","borderSpacing","MozBorderSpacing","WebkitBorderSpacing","MSBorderSpacing","OBorderSpacing","borderStyle","MozBorderStyle","WebkitBorderStyle","MSBorderStyle","OBorderStyle","borderTop","MozBorderTop","WebkitBorderTop","MSBorderTop","OBorderTop","borderTopColor","MozBorderTopColor","WebkitBorderTopColor","MSBorderTopColor","OBorderTopColor","borderTopLeftRadius","MozBorderTopLeftRadius","WebkitBorderTopLeftRadius","MSBorderTopLeftRadius","OBorderTopLeftRadius","borderTopRightRadius","MozBorderTopRightRadius","WebkitBorderTopRightRadius","MSBorderTopRightRadius","OBorderTopRightRadius","borderTopStyle","MozBorderTopStyle","WebkitBorderTopStyle","MSBorderTopStyle","OBorderTopStyle","borderTopWidth","MozBorderTopWidth","WebkitBorderTopWidth","MSBorderTopWidth","OBorderTopWidth","borderWidth","MozBorderWidth","WebkitBorderWidth","MSBorderWidth","OBorderWidth","bottom","MozBottom","WebkitBottom","MSBottom","OBottom","boxDecorationBreak","MozBoxDecorationBreak","WebkitBoxDecorationBreak","MSBoxDecorationBreak","OBoxDecorationBreak","boxShadow","MozBoxShadow","WebkitBoxShadow","MSBoxShadow","OBoxShadow","boxSizing","MozBoxSizing","WebkitBoxSizing","MSBoxSizing","OBoxSizing","breakAfter","MozBreakAfter","WebkitBreakAfter","MSBreakAfter","OBreakAfter","breakBefore","MozBreakBefore","WebkitBreakBefore","MSBreakBefore","OBreakBefore","breakInside","MozBreakInside","WebkitBreakInside","MSBreakInside","OBreakInside","captionSide","MozCaptionSide","WebkitCaptionSide","MSCaptionSide","OCaptionSide","caretColor","MozCaretColor","WebkitCaretColor","MSCaretColor","OCaretColor","ch","MozCh","WebkitCh","MSCh","OCh","clear","MozClear","WebkitClear","MSClear","OClear","clip","MozClip","WebkitClip","MSClip","OClip","clipPath","MozClipPath","WebkitClipPath","MSClipPath","OClipPath","cm","MozCm","WebkitCm","MSCm","OCm","color","MozColor","WebkitColor","MSColor","OColor","columnCount","MozColumnCount","WebkitColumnCount","MSColumnCount","OColumnCount","columnFill","MozColumnFill","WebkitColumnFill","MSColumnFill","OColumnFill","columnGap","MozColumnGap","WebkitColumnGap","MSColumnGap","OColumnGap","columnRule","MozColumnRule","WebkitColumnRule","MSColumnRule","OColumnRule","columnRuleColor","MozColumnRuleColor","WebkitColumnRuleColor","MSColumnRuleColor","OColumnRuleColor","columnRuleStyle","MozColumnRuleStyle","WebkitColumnRuleStyle","MSColumnRuleStyle","OColumnRuleStyle","columnRuleWidth","MozColumnRuleWidth","WebkitColumnRuleWidth","MSColumnRuleWidth","OColumnRuleWidth","columnSpan","MozColumnSpan","WebkitColumnSpan","MSColumnSpan","OColumnSpan","columnWidth","MozColumnWidth","WebkitColumnWidth","MSColumnWidth","OColumnWidth","columns","MozColumns","WebkitColumns","MSColumns","OColumns","content","MozContent","WebkitContent","MSContent","OContent","counterIncrement","MozCounterIncrement","WebkitCounterIncrement","MSCounterIncrement","OCounterIncrement","counterReset","MozCounterReset","WebkitCounterReset","MSCounterReset","OCounterReset","cursor","MozCursor","WebkitCursor","MSCursor","OCursor","deg","MozDeg","WebkitDeg","MSDeg","ODeg","direction","MozDirection","WebkitDirection","MSDirection","ODirection","display","MozDisplay","WebkitDisplay","MSDisplay","ODisplay","dpcm","MozDpcm","WebkitDpcm","MSDpcm","ODpcm","dpi","MozDpi","WebkitDpi","MSDpi","ODpi","dppx","MozDppx","WebkitDppx","MSDppx","ODppx","em","MozEm","WebkitEm","MSEm","OEm","emptyCells","MozEmptyCells","WebkitEmptyCells","MSEmptyCells","OEmptyCells","ex","MozEx","WebkitEx","MSEx","OEx","filter","MozFilter","WebkitFilter","MSFilter","OFilter","flexBasis","MozFlexBasis","WebkitFlexBasis","MSFlexBasis","OFlexBasis","flexDirection","MozFlexDirection","WebkitFlexDirection","MSFlexDirection","OFlexDirection","flexFlow","MozFlexFlow","WebkitFlexFlow","MSFlexFlow","OFlexFlow","flexGrow","MozFlexGrow","WebkitFlexGrow","MSFlexGrow","OFlexGrow","flexShrink","MozFlexShrink","WebkitFlexShrink","MSFlexShrink","OFlexShrink","flexWrap","MozFlexWrap","WebkitFlexWrap","MSFlexWrap","OFlexWrap","float","MozFloat","WebkitFloat","MSFloat","OFloat","font","MozFont","WebkitFont","MSFont","OFont","fontFamily","MozFontFamily","WebkitFontFamily","MSFontFamily","OFontFamily","fontFeatureSettings","MozFontFeatureSettings","WebkitFontFeatureSettings","MSFontFeatureSettings","OFontFeatureSettings","fontKerning","MozFontKerning","WebkitFontKerning","MSFontKerning","OFontKerning","fontLanguageOverride","MozFontLanguageOverride","WebkitFontLanguageOverride","MSFontLanguageOverride","OFontLanguageOverride","fontSize","MozFontSize","WebkitFontSize","MSFontSize","OFontSize","fontSizeAdjust","MozFontSizeAdjust","WebkitFontSizeAdjust","MSFontSizeAdjust","OFontSizeAdjust","fontStretch","MozFontStretch","WebkitFontStretch","MSFontStretch","OFontStretch","fontStyle","MozFontStyle","WebkitFontStyle","MSFontStyle","OFontStyle","fontSynthesis","MozFontSynthesis","WebkitFontSynthesis","MSFontSynthesis","OFontSynthesis","fontVariant","MozFontVariant","WebkitFontVariant","MSFontVariant","OFontVariant","fontVariantAlternates","MozFontVariantAlternates","WebkitFontVariantAlternates","MSFontVariantAlternates","OFontVariantAlternates","fontVariantCaps","MozFontVariantCaps","WebkitFontVariantCaps","MSFontVariantCaps","OFontVariantCaps","fontVariantEastAsian","MozFontVariantEastAsian","WebkitFontVariantEastAsian","MSFontVariantEastAsian","OFontVariantEastAsian","fontVariantLigatures","MozFontVariantLigatures","WebkitFontVariantLigatures","MSFontVariantLigatures","OFontVariantLigatures","fontVariantNumeric","MozFontVariantNumeric","WebkitFontVariantNumeric","MSFontVariantNumeric","OFontVariantNumeric","fontVariantPosition","MozFontVariantPosition","WebkitFontVariantPosition","MSFontVariantPosition","OFontVariantPosition","fontWeight","MozFontWeight","WebkitFontWeight","MSFontWeight","OFontWeight","fr","MozFr","WebkitFr","MSFr","OFr","grad","MozGrad","WebkitGrad","MSGrad","OGrad","grid","MozGrid","WebkitGrid","MSGrid","OGrid","gridArea","MozGridArea","WebkitGridArea","MSGridArea","OGridArea","gridAutoColumns","MozGridAutoColumns","WebkitGridAutoColumns","MSGridAutoColumns","OGridAutoColumns","gridAutoFlow","MozGridAutoFlow","WebkitGridAutoFlow","MSGridAutoFlow","OGridAutoFlow","gridAutoRows","MozGridAutoRows","WebkitGridAutoRows","MSGridAutoRows","OGridAutoRows","gridColumn","MozGridColumn","WebkitGridColumn","MSGridColumn","OGridColumn","gridColumnEnd","MozGridColumnEnd","WebkitGridColumnEnd","MSGridColumnEnd","OGridColumnEnd","gridColumnGap","MozGridColumnGap","WebkitGridColumnGap","MSGridColumnGap","OGridColumnGap","gridColumnStart","MozGridColumnStart","WebkitGridColumnStart","MSGridColumnStart","OGridColumnStart","gridGap","MozGridGap","WebkitGridGap","MSGridGap","OGridGap","gridRow","MozGridRow","WebkitGridRow","MSGridRow","OGridRow","gridRowEnd","MozGridRowEnd","WebkitGridRowEnd","MSGridRowEnd","OGridRowEnd","gridRowGap","MozGridRowGap","WebkitGridRowGap","MSGridRowGap","OGridRowGap","gridRowStart","MozGridRowStart","WebkitGridRowStart","MSGridRowStart","OGridRowStart","gridTemplate","MozGridTemplate","WebkitGridTemplate","MSGridTemplate","OGridTemplate","gridTemplateAreas","MozGridTemplateAreas","WebkitGridTemplateAreas","MSGridTemplateAreas","OGridTemplateAreas","gridTemplateColumns","MozGridTemplateColumns","WebkitGridTemplateColumns","MSGridTemplateColumns","OGridTemplateColumns","gridTemplateRows","MozGridTemplateRows","WebkitGridTemplateRows","MSGridTemplateRows","OGridTemplateRows","height","MozHeight","WebkitHeight","MSHeight","OHeight","hyphens","MozHyphens","WebkitHyphens","MSHyphens","OHyphens","hz","MozHz","WebkitHz","MSHz","OHz","imageOrientation","MozImageOrientation","WebkitImageOrientation","MSImageOrientation","OImageOrientation","imageRendering","MozImageRendering","WebkitImageRendering","MSImageRendering","OImageRendering","imageResolution","MozImageResolution","WebkitImageResolution","MSImageResolution","OImageResolution","imeMode","MozImeMode","WebkitImeMode","MSImeMode","OImeMode","in","MozIn","WebkitIn","MSIn","OIn","inherit","MozInherit","WebkitInherit","MSInherit","OInherit","initial","MozInitial","WebkitInitial","MSInitial","OInitial","inlineSize","MozInlineSize","WebkitInlineSize","MSInlineSize","OInlineSize","isolation","MozIsolation","WebkitIsolation","MSIsolation","OIsolation","justifyContent","MozJustifyContent","WebkitJustifyContent","MSJustifyContent","OJustifyContent","khz","MozKhz","WebkitKhz","MSKhz","OKhz","left","MozLeft","WebkitLeft","MSLeft","OLeft","letterSpacing","MozLetterSpacing","WebkitLetterSpacing","MSLetterSpacing","OLetterSpacing","lineBreak","MozLineBreak","WebkitLineBreak","MSLineBreak","OLineBreak","lineHeight","MozLineHeight","WebkitLineHeight","MSLineHeight","OLineHeight","listStyle","MozListStyle","WebkitListStyle","MSListStyle","OListStyle","listStyleImage","MozListStyleImage","WebkitListStyleImage","MSListStyleImage","OListStyleImage","listStylePosition","MozListStylePosition","WebkitListStylePosition","MSListStylePosition","OListStylePosition","listStyleType","MozListStyleType","WebkitListStyleType","MSListStyleType","OListStyleType","margin","MozMargin","WebkitMargin","MSMargin","OMargin","marginBlockEnd","MozMarginBlockEnd","WebkitMarginBlockEnd","MSMarginBlockEnd","OMarginBlockEnd","marginBlockStart","MozMarginBlockStart","WebkitMarginBlockStart","MSMarginBlockStart","OMarginBlockStart","marginBottom","MozMarginBottom","WebkitMarginBottom","MSMarginBottom","OMarginBottom","marginInlineEnd","MozMarginInlineEnd","WebkitMarginInlineEnd","MSMarginInlineEnd","OMarginInlineEnd","marginInlineStart","MozMarginInlineStart","WebkitMarginInlineStart","MSMarginInlineStart","OMarginInlineStart","marginLeft","MozMarginLeft","WebkitMarginLeft","MSMarginLeft","OMarginLeft","marginRight","MozMarginRight","WebkitMarginRight","MSMarginRight","OMarginRight","marginTop","MozMarginTop","WebkitMarginTop","MSMarginTop","OMarginTop","mask","MozMask","WebkitMask","MSMask","OMask","maskClip","MozMaskClip","WebkitMaskClip","MSMaskClip","OMaskClip","maskComposite","MozMaskComposite","WebkitMaskComposite","MSMaskComposite","OMaskComposite","maskImage","MozMaskImage","WebkitMaskImage","MSMaskImage","OMaskImage","maskMode","MozMaskMode","WebkitMaskMode","MSMaskMode","OMaskMode","maskOrigin","MozMaskOrigin","WebkitMaskOrigin","MSMaskOrigin","OMaskOrigin","maskPosition","MozMaskPosition","WebkitMaskPosition","MSMaskPosition","OMaskPosition","maskRepeat","MozMaskRepeat","WebkitMaskRepeat","MSMaskRepeat","OMaskRepeat","maskSize","MozMaskSize","WebkitMaskSize","MSMaskSize","OMaskSize","maskType","MozMaskType","WebkitMaskType","MSMaskType","OMaskType","maxHeight","MozMaxHeight","WebkitMaxHeight","MSMaxHeight","OMaxHeight","maxWidth","MozMaxWidth","WebkitMaxWidth","MSMaxWidth","OMaxWidth","minBlockSize","MozMinBlockSize","WebkitMinBlockSize","MSMinBlockSize","OMinBlockSize","minHeight","MozMinHeight","WebkitMinHeight","MSMinHeight","OMinHeight","minInlineSize","MozMinInlineSize","WebkitMinInlineSize","MSMinInlineSize","OMinInlineSize","minWidth","MozMinWidth","WebkitMinWidth","MSMinWidth","OMinWidth","mixBlendMode","MozMixBlendMode","WebkitMixBlendMode","MSMixBlendMode","OMixBlendMode","mm","MozMm","WebkitMm","MSMm","OMm","ms","MozMs","WebkitMs","MSMs","OMs","objectFit","MozObjectFit","WebkitObjectFit","MSObjectFit","OObjectFit","objectPosition","MozObjectPosition","WebkitObjectPosition","MSObjectPosition","OObjectPosition","offsetBlockEnd","MozOffsetBlockEnd","WebkitOffsetBlockEnd","MSOffsetBlockEnd","OOffsetBlockEnd","offsetBlockStart","MozOffsetBlockStart","WebkitOffsetBlockStart","MSOffsetBlockStart","OOffsetBlockStart","offsetInlineEnd","MozOffsetInlineEnd","WebkitOffsetInlineEnd","MSOffsetInlineEnd","OOffsetInlineEnd","offsetInlineStart","MozOffsetInlineStart","WebkitOffsetInlineStart","MSOffsetInlineStart","OOffsetInlineStart","opacity","MozOpacity","WebkitOpacity","MSOpacity","OOpacity","order","MozOrder","WebkitOrder","MSOrder","OOrder","orphans","MozOrphans","WebkitOrphans","MSOrphans","OOrphans","outline","MozOutline","WebkitOutline","MSOutline","OOutline","outlineColor","MozOutlineColor","WebkitOutlineColor","MSOutlineColor","OOutlineColor","outlineOffset","MozOutlineOffset","WebkitOutlineOffset","MSOutlineOffset","OOutlineOffset","outlineStyle","MozOutlineStyle","WebkitOutlineStyle","MSOutlineStyle","OOutlineStyle","outlineWidth","MozOutlineWidth","WebkitOutlineWidth","MSOutlineWidth","OOutlineWidth","overflow","MozOverflow","WebkitOverflow","MSOverflow","OOverflow","overflowWrap","MozOverflowWrap","WebkitOverflowWrap","MSOverflowWrap","OOverflowWrap","overflowX","MozOverflowX","WebkitOverflowX","MSOverflowX","OOverflowX","overflowY","MozOverflowY","WebkitOverflowY","MSOverflowY","OOverflowY","padding","MozPadding","WebkitPadding","MSPadding","OPadding","paddingBlockEnd","MozPaddingBlockEnd","WebkitPaddingBlockEnd","MSPaddingBlockEnd","OPaddingBlockEnd","paddingBlockStart","MozPaddingBlockStart","WebkitPaddingBlockStart","MSPaddingBlockStart","OPaddingBlockStart","paddingBottom","MozPaddingBottom","WebkitPaddingBottom","MSPaddingBottom","OPaddingBottom","paddingInlineEnd","MozPaddingInlineEnd","WebkitPaddingInlineEnd","MSPaddingInlineEnd","OPaddingInlineEnd","paddingInlineStart","MozPaddingInlineStart","WebkitPaddingInlineStart","MSPaddingInlineStart","OPaddingInlineStart","paddingLeft","MozPaddingLeft","WebkitPaddingLeft","MSPaddingLeft","OPaddingLeft","paddingRight","MozPaddingRight","WebkitPaddingRight","MSPaddingRight","OPaddingRight","paddingTop","MozPaddingTop","WebkitPaddingTop","MSPaddingTop","OPaddingTop","pageBreakAfter","MozPageBreakAfter","WebkitPageBreakAfter","MSPageBreakAfter","OPageBreakAfter","pageBreakBefore","MozPageBreakBefore","WebkitPageBreakBefore","MSPageBreakBefore","OPageBreakBefore","pageBreakInside","MozPageBreakInside","WebkitPageBreakInside","MSPageBreakInside","OPageBreakInside","pc","MozPc","WebkitPc","MSPc","OPc","perspective","MozPerspective","WebkitPerspective","MSPerspective","OPerspective","perspectiveOrigin","MozPerspectiveOrigin","WebkitPerspectiveOrigin","MSPerspectiveOrigin","OPerspectiveOrigin","pointerEvents","MozPointerEvents","WebkitPointerEvents","MSPointerEvents","OPointerEvents","position","MozPosition","WebkitPosition","MSPosition","OPosition","pt","MozPt","WebkitPt","MSPt","OPt","px","MozPx","WebkitPx","MSPx","OPx","q","MozQ","WebkitQ","MSQ","OQ","quotes","MozQuotes","WebkitQuotes","MSQuotes","OQuotes","rad","MozRad","WebkitRad","MSRad","ORad","rem","MozRem","WebkitRem","MSRem","ORem","resize","MozResize","WebkitResize","MSResize","OResize","revert","MozRevert","WebkitRevert","MSRevert","ORevert","right","MozRight","WebkitRight","MSRight","ORight","rubyAlign","MozRubyAlign","WebkitRubyAlign","MSRubyAlign","ORubyAlign","rubyMerge","MozRubyMerge","WebkitRubyMerge","MSRubyMerge","ORubyMerge","rubyPosition","MozRubyPosition","WebkitRubyPosition","MSRubyPosition","ORubyPosition","s","MozS","WebkitS","MSS","OS","scrollBehavior","MozScrollBehavior","WebkitScrollBehavior","MSScrollBehavior","OScrollBehavior","scrollSnapCoordinate","MozScrollSnapCoordinate","WebkitScrollSnapCoordinate","MSScrollSnapCoordinate","OScrollSnapCoordinate","scrollSnapDestination","MozScrollSnapDestination","WebkitScrollSnapDestination","MSScrollSnapDestination","OScrollSnapDestination","scrollSnapType","MozScrollSnapType","WebkitScrollSnapType","MSScrollSnapType","OScrollSnapType","shapeImageThreshold","MozShapeImageThreshold","WebkitShapeImageThreshold","MSShapeImageThreshold","OShapeImageThreshold","shapeMargin","MozShapeMargin","WebkitShapeMargin","MSShapeMargin","OShapeMargin","shapeOutside","MozShapeOutside","WebkitShapeOutside","MSShapeOutside","OShapeOutside","tabSize","MozTabSize","WebkitTabSize","MSTabSize","OTabSize","tableLayout","MozTableLayout","WebkitTableLayout","MSTableLayout","OTableLayout","textAlign","MozTextAlign","WebkitTextAlign","MSTextAlign","OTextAlign","textAlignLast","MozTextAlignLast","WebkitTextAlignLast","MSTextAlignLast","OTextAlignLast","textCombineUpright","MozTextCombineUpright","WebkitTextCombineUpright","MSTextCombineUpright","OTextCombineUpright","textDecoration","MozTextDecoration","WebkitTextDecoration","MSTextDecoration","OTextDecoration","textDecorationColor","MozTextDecorationColor","WebkitTextDecorationColor","MSTextDecorationColor","OTextDecorationColor","textDecorationLine","MozTextDecorationLine","WebkitTextDecorationLine","MSTextDecorationLine","OTextDecorationLine","textDecorationStyle","MozTextDecorationStyle","WebkitTextDecorationStyle","MSTextDecorationStyle","OTextDecorationStyle","textEmphasis","MozTextEmphasis","WebkitTextEmphasis","MSTextEmphasis","OTextEmphasis","textEmphasisColor","MozTextEmphasisColor","WebkitTextEmphasisColor","MSTextEmphasisColor","OTextEmphasisColor","textEmphasisPosition","MozTextEmphasisPosition","WebkitTextEmphasisPosition","MSTextEmphasisPosition","OTextEmphasisPosition","textEmphasisStyle","MozTextEmphasisStyle","WebkitTextEmphasisStyle","MSTextEmphasisStyle","OTextEmphasisStyle","textIndent","MozTextIndent","WebkitTextIndent","MSTextIndent","OTextIndent","textOrientation","MozTextOrientation","WebkitTextOrientation","MSTextOrientation","OTextOrientation","textOverflow","MozTextOverflow","WebkitTextOverflow","MSTextOverflow","OTextOverflow","textRendering","MozTextRendering","WebkitTextRendering","MSTextRendering","OTextRendering","textShadow","MozTextShadow","WebkitTextShadow","MSTextShadow","OTextShadow","textTransform","MozTextTransform","WebkitTextTransform","MSTextTransform","OTextTransform","textUnderlinePosition","MozTextUnderlinePosition","WebkitTextUnderlinePosition","MSTextUnderlinePosition","OTextUnderlinePosition","top","MozTop","WebkitTop","MSTop","OTop","touchAction","MozTouchAction","WebkitTouchAction","MSTouchAction","OTouchAction","transform","MozTransform","WebkitTransform","msTransform","OTransform","transformBox","MozTransformBox","WebkitTransformBox","MSTransformBox","OTransformBox","transformOrigin","MozTransformOrigin","WebkitTransformOrigin","MSTransformOrigin","OTransformOrigin","transformStyle","MozTransformStyle","WebkitTransformStyle","MSTransformStyle","OTransformStyle","transition","MozTransition","WebkitTransition","MSTransition","OTransition","transitionDelay","MozTransitionDelay","WebkitTransitionDelay","MSTransitionDelay","OTransitionDelay","transitionDuration","MozTransitionDuration","WebkitTransitionDuration","MSTransitionDuration","OTransitionDuration","transitionProperty","MozTransitionProperty","WebkitTransitionProperty","MSTransitionProperty","OTransitionProperty","transitionTimingFunction","MozTransitionTimingFunction","WebkitTransitionTimingFunction","MSTransitionTimingFunction","OTransitionTimingFunction","turn","MozTurn","WebkitTurn","MSTurn","OTurn","unicodeBidi","MozUnicodeBidi","WebkitUnicodeBidi","MSUnicodeBidi","OUnicodeBidi","unset","MozUnset","WebkitUnset","MSUnset","OUnset","verticalAlign","MozVerticalAlign","WebkitVerticalAlign","MSVerticalAlign","OVerticalAlign","vh","MozVh","WebkitVh","MSVh","OVh","visibility","MozVisibility","WebkitVisibility","MSVisibility","OVisibility","vmax","MozVmax","WebkitVmax","MSVmax","OVmax","vmin","MozVmin","WebkitVmin","MSVmin","OVmin","vw","MozVw","WebkitVw","MSVw","OVw","whiteSpace","MozWhiteSpace","WebkitWhiteSpace","MSWhiteSpace","OWhiteSpace","widows","MozWidows","WebkitWidows","MSWidows","OWidows","width","MozWidth","WebkitWidth","MSWidth","OWidth","willChange","MozWillChange","WebkitWillChange","MSWillChange","OWillChange","wordBreak","MozWordBreak","WebkitWordBreak","MSWordBreak","OWordBreak","wordSpacing","MozWordSpacing","WebkitWordSpacing","MSWordSpacing","OWordSpacing","wordWrap","MozWordWrap","WebkitWordWrap","MSWordWrap","OWordWrap","writingMode","MozWritingMode","WebkitWritingMode","MSWritingMode","OWritingMode","zIndex","MozZIndex","WebkitZIndex","MSZIndex","OZIndex","fontSize","MozFontSize","WebkitFontSize","MSFontSize","OFontSize","flex","MozFlex","WebkitFlex","MSFlex","OFlex","fr","MozFr","WebkitFr","MSFr","OFr","overflowScrolling","MozOverflowScrolling","WebkitOverflowScrolling","MSOverflowScrolling","OOverflowScrolling","userSelect","MozUserSelect","WebkitUserSelect","MSUserSelect","OUserSelect"]},GNKm:function(e,t,n){"use strict";var r=n("GOnX");e.exports=function(e){var t=(e=e||{}).reporter,n=e.batchProcessor,o=e.stateHandler.getState;if(!t)throw new Error("Missing required dependency: reporter.");function i(t){var n=e.important?" !important; ":"; ";return(t.join(n)+n).trim()}function a(e){return o(e).object}return{makeDetectable:function(e,a,s){s||(s=a,a=e,e=null),(e=e||{}).debug,r.isIE(8)?s(a):function(a,s){var l=i(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none","visibility: hidden"]),c=!1,d=window.getComputedStyle(a),u=a.offsetWidth,p=a.offsetHeight;function h(){function n(){if("static"===d.position){a.style.setProperty("position","relative",e.important?"important":"");var n=function(t,n,r,o){var i=r[o];"auto"!==i&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(i)&&(t.warn("An element that is positioned static has style."+o+"="+i+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+o+" will be set to 0. Element: ",n),n.style.setProperty(o,"0",e.important?"important":""))};n(t,a,d,"top"),n(t,a,d,"right"),n(t,a,d,"bottom"),n(t,a,d,"left")}}""!==d.position&&(n(),c=!0);var i=document.createElement("object");i.style.cssText=l,i.tabIndex=-1,i.type="text/html",i.setAttribute("aria-hidden","true"),i.onload=function(){c||n(),function e(t,n){if(!t.contentDocument){var r=o(t);return r.checkForObjectDocumentTimeoutId&&window.clearTimeout(r.checkForObjectDocumentTimeoutId),void(r.checkForObjectDocumentTimeoutId=setTimeout((function(){r.checkForObjectDocumentTimeoutId=0,e(t,n)}),100))}n(t.contentDocument)}(this,(function(e){s(a)}))},r.isIE()||(i.data="about:blank"),o(a)&&(a.appendChild(i),o(a).object=i,r.isIE()&&(i.data="about:blank"))}o(a).startSize={width:u,height:p},n?n.add(h):h()}(a,s)},addListener:function(e,t){function n(){t(e)}if(r.isIE(8))o(e).object={proxy:n},e.attachEvent("onresize",n);else{var i=a(e);if(!i)throw new Error("Element is not detectable by this strategy.");i.contentDocument.defaultView.addEventListener("resize",n)}},uninstall:function(e){if(o(e)){var t=a(e);t&&(r.isIE(8)?e.detachEvent("onresize",t.proxy):e.removeChild(t),o(e).checkForObjectDocumentTimeoutId&&window.clearTimeout(o(e).checkForObjectDocumentTimeoutId),delete o(e).object)}}}}},GOnX:function(e,t,n){"use strict";var r=e.exports={};r.isIE=function(e){return(-1!==(t=navigator.userAgent.toLowerCase()).indexOf("msie")||-1!==t.indexOf("trident")||-1!==t.indexOf(" edge/"))&&(!e||e===function(){var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");do{t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e"}while(n[0]);return e>4?e:void 0}());var t},r.isLegacyOpera=function(){return!!window.opera}},Ga4A:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPrefix=o,t.browserPrefixToKey=i,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0;var r=["Moz","Webkit","O","ms"];function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<r.length;n++)if(i(e,r[n])in t)return r[n];return""}function i(e,t){return t?"".concat(t).concat(function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}var a=o();t.default=a},Gytx:function(e,t){e.exports=function(e,t,n,r){var o=n?n.call(r,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<i.length;l++){var c=i[l];if(!s(c))return!1;var d=e[c],u=t[c];if(!1===(o=n?n.call(r,d,u,c):void 0)||void 0===o&&d!==u)return!1}return!0}},"H4m+":function(e,t,n){"use strict";t.__esModule=!0,t.resizableProps=void 0;var r,o=(r=n("17x9"))&&r.__esModule?r:{default:r};n("doQp");var i={axis:o.default.oneOf(["both","x","y","none"]),className:o.default.string,children:o.default.element.isRequired,draggableOpts:o.default.shape({allowAnyClick:o.default.bool,cancel:o.default.string,children:o.default.node,disabled:o.default.bool,enableUserSelectHack:o.default.bool,offsetParent:o.default.node,grid:o.default.arrayOf(o.default.number),handle:o.default.string,nodeRef:o.default.object,onStart:o.default.func,onDrag:o.default.func,onStop:o.default.func,onMouseDown:o.default.func,scale:o.default.number}),height:o.default.number.isRequired,handle:o.default.oneOfType([o.default.node,o.default.func]),handleSize:o.default.arrayOf(o.default.number),lockAspectRatio:o.default.bool,maxConstraints:o.default.arrayOf(o.default.number),minConstraints:o.default.arrayOf(o.default.number),onResizeStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,resizeHandles:o.default.arrayOf(o.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:o.default.number,width:o.default.number.isRequired};t.resizableProps=i},IZOP:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var o=n("q1tI"),i=r(o),a=r(n("i8i4")),s=r(n("QLaP")),l=n("FdMb"),c=r(n("7sSR")),d=r(n("Gytx"));function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?S(e):t}var w={};function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"scroll";return w[e]||(w[e]=c({strategy:e})),w[e]}var k="react-sizeme: an error occurred whilst stopping to listen to node size changes",C={monitorWidth:!0,monitorHeight:!1,monitorPosition:!1,refreshRate:16,refreshMode:"throttle",noPlaceholder:!1,resizeDetectorStrategy:"scroll"};function P(e){return e.displayName||e.name||"Component"}var z=function(e){function t(){return u(this,t),x(this,v(t).apply(this,arguments))}return y(t,e),h(t,[{key:"render",value:function(){return o.Children.only(this.props.children)}}]),t}(o.Component);function D(e){var t=e.className,n=e.style,r={};return t||n?(t&&(r.className=t),n&&(r.style=n)):r.style={width:"100%",height:"100%"},i.createElement("div",r)}f(z,"displayName","SizeMeReferenceWrapper"),D.displayName="SizeMePlaceholder";var T=function(e){function t(t){var n=t.explicitRef,r=t.className,o=t.style,a=t.size,s=t.disablePlaceholder,l=(t.onSize,j(t,["explicitRef","className","style","size","disablePlaceholder","onSize"])),c=(null==a||null==a.width&&null==a.height&&null==a.position)&&!s,d={className:r,style:o};null!=a&&(d.size=a);var u=c?i.createElement(D,{className:r,style:o}):i.createElement(e,b({},d,l));return i.createElement(z,{ref:n},u)}return t.displayName="SizeMeRenderer(".concat(P(e),")"),t};function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=e.monitorWidth,n=void 0===t?C.monitorWidth:t,r=e.monitorHeight,o=void 0===r?C.monitorHeight:r,c=e.monitorPosition,d=void 0===c?C.monitorPosition:c,p=e.refreshRate,g=void 0===p?C.refreshRate:p,O=e.refreshMode,j=void 0===O?C.refreshMode:O,w=e.noPlaceholder,z=void 0===w?C.noPlaceholder:w,D=e.resizeDetectorStrategy,B=void 0===D?C.resizeDetectorStrategy:D;s(n||o||d,'You have to monitor at least one of the width, height, or position when using "sizeMe"'),s(g>=16,"It is highly recommended that you don't put your refreshRate lower than 16 as this may cause layout thrashing."),s("throttle"===j||"debounce"===j,'The refreshMode should have a value of "throttle" or "debounce"');var W="throttle"===j?l.throttle:l.debounce;return function(e){var t=T(e),r=function(e){function r(){var e,t;u(this,r);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return f(S(t=x(this,(e=v(r)).call.apply(e,[this].concat(a)))),"domEl",null),f(S(t),"state",{width:void 0,height:void 0,position:void 0}),f(S(t),"uninstall",(function(){if(t.domEl){try{t.detector.uninstall(t.domEl)}catch(e){console.warn(k)}t.domEl=null}})),f(S(t),"determineStrategy",(function(e){e.onSize?(t.callbackState||(t.callbackState=m({},t.state)),t.strategy="callback"):t.strategy="render"})),f(S(t),"strategisedSetState",(function(e){"callback"===t.strategy&&(t.callbackState=e,t.props.onSize(e)),t.setState(e)})),f(S(t),"strategisedGetState",(function(){return"callback"===t.strategy?t.callbackState:t.state})),f(S(t),"refCallback",(function(e){t.element=e})),f(S(t),"hasSizeChanged",(function(e,t){var r=e,i=t,a=r.position||{},s=i.position||{};return n&&r.width!==i.width||o&&r.height!==i.height||d&&(a.top!==s.top||a.left!==s.left||a.bottom!==s.bottom||a.right!==s.right)})),f(S(t),"checkIfSizeChanged",W(g,(function(e){var r=e.getBoundingClientRect(),i=r.width,a=r.height,s=r.right,l=r.left,c=r.top,u=r.bottom,p={width:n?i:null,height:o?a:null,position:d?{right:s,left:l,top:c,bottom:u}:null};t.hasSizeChanged(t.strategisedGetState(),p)&&t.strategisedSetState(p)}))),t}return y(r,e),h(r,[{key:"componentDidMount",value:function(){this.detector=M(B),this.determineStrategy(this.props),this.handleDOMNode()}},{key:"componentDidUpdate",value:function(){this.determineStrategy(this.props),this.handleDOMNode()}},{key:"componentWillUnmount",value:function(){this.hasSizeChanged=function(){},this.checkIfSizeChanged=function(){},this.uninstall()}},{key:"handleDOMNode",value:function(){var e=this.element&&a.findDOMNode(this.element);e?this.domEl?(this.domEl.isSameNode&&!this.domEl.isSameNode(e)||this.domEl!==e)&&(this.uninstall(),this.domEl=e,this.detector.listenTo(this.domEl,this.checkIfSizeChanged)):(this.domEl=e,this.detector.listenTo(this.domEl,this.checkIfSizeChanged)):this.uninstall()}},{key:"render",value:function(){var e=R.enableSSRBehaviour||R.noPlaceholders||z||"callback"===this.strategy,n=m({},this.state);return i.createElement(t,b({explicitRef:this.refCallback,size:"callback"===this.strategy?null:n,disablePlaceholder:e},this.props))}}]),r}(i.Component);return f(r,"displayName","SizeMe(".concat(P(e),")")),r.WrappedComponent=e,r}}R.enableSSRBehaviour=!1,R.noPlaceholders=!1;var B=function(e){function t(e){var n;u(this,t),f(S(n=x(this,v(t).call(this,e))),"createComponent",(function(e){n.SizeAware=R(e)((function(e){return e.children}))})),f(S(n),"onSize",(function(e){return n.setState({size:e})}));e.children,e.render;var r=j(e,["children","render"]);return n.createComponent(r),n.state={size:{width:void 0,height:void 0}},n}return y(t,e),h(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=(t.children,t.render,j(t,["children","render"])),r=(e.children,e.render,j(e,["children","render"]));d(n,r)||this.createComponent(n)}},{key:"render",value:function(){var e=this.SizeAware,t=this.props.children||this.props.render;return i.createElement(e,{onSize:this.onSize},t({size:this.state.size}))}}]),t}(o.Component);f(B,"defaultProps",{children:void 0,render:void 0}),R.SizeMe=B,R.withSize=R,e.exports=R},LO96:function(e,t,n){"use strict";e.exports=function(){var e=1;return{generate:function(){return e++}}}},LvXN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=p(n("q1tI")),o=p(n("i8i4")),i=p(n("17x9")),a=n("doQp"),s=n("bNWW"),l=n("T0XP"),c=n("q78g"),d=n("TNBa"),u=p(n("TSYQ"));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(p,e);var t,n,i,d=v(p);function p(){var e;g(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return x(j(e=d.call.apply(d,[this].concat(n))),"state",{resizing:null,dragging:null,className:""}),x(j(e),"currentNode",void 0),x(j(e),"onDragStart",(function(t,n){var r=n.node,o=e.props.onDragStart;if(o){var i={top:0,left:0},a=r.offsetParent;if(a){var s=a.getBoundingClientRect(),l=r.getBoundingClientRect(),d=l.left/e.props.transformScale,u=s.left/e.props.transformScale,p=l.top/e.props.transformScale,h=s.top/e.props.transformScale;i.left=d-u+a.scrollLeft,i.top=p-h+a.scrollTop,e.setState({dragging:i});var f=(0,c.calcXY)(e.getPositionParams(),i.top,i.left,e.props.w,e.props.h),b=f.x,g=f.y;return o.call(j(e),e.props.i,b,g,{e:t,node:r,newPosition:i})}}})),x(j(e),"onDrag",(function(t,n){var r=n.node,o=n.deltaX,i=n.deltaY,a=e.props,s=a.onDrag,l=a.transformScale;if(s){if(o/=l,i/=l,!e.state.dragging)throw new Error("onDrag called before onDragStart.");var d=e.state.dragging.top+i,u=e.state.dragging.left+o,p=e.props,h=p.isBounded,f=p.i,b=p.w,g=p.h,m=p.containerWidth,y=e.getPositionParams();if(h){var v=r.offsetParent;if(v){var O=e.props,S=O.margin,x=O.rowHeight,w=v.clientHeight-(0,c.calcGridItemWHPx)(g,x,S[1]);d=(0,c.clamp)(d,0,w);var M=(0,c.calcGridColWidth)(y),k=m-(0,c.calcGridItemWHPx)(b,M,S[0]);u=(0,c.clamp)(u,0,k)}}var C={top:d,left:u};e.setState({dragging:C});var P=(0,c.calcXY)(y,d,u,b,g),z=P.x,D=P.y;return s.call(j(e),f,z,D,{e:t,node:r,newPosition:C})}})),x(j(e),"onDragStop",(function(t,n){var r=n.node,o=e.props.onDragStop;if(o){if(!e.state.dragging)throw new Error("onDragEnd called before onDragStart.");var i=e.props,a=i.w,s=i.h,l=i.i,d=e.state.dragging,u=d.left,p=d.top,h={top:p,left:u};e.setState({dragging:null});var f=(0,c.calcXY)(e.getPositionParams(),p,u,a,s),b=f.x,g=f.y;return o.call(j(e),l,b,g,{e:t,node:r,newPosition:h})}})),x(j(e),"onResizeStop",(function(t,n){e.onResizeHandler(t,n,"onResizeStop")})),x(j(e),"onResizeStart",(function(t,n){e.onResizeHandler(t,n,"onResizeStart")})),x(j(e),"onResize",(function(t,n){e.onResizeHandler(t,n,"onResize")})),e}return t=p,(n=[{key:"shouldComponentUpdate",value:function(e,t){if(this.props.children!==e.children)return!0;if(this.props.droppingPosition!==e.droppingPosition)return!0;var n=(0,c.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),r=(0,c.calcGridItemPosition)(this.getPositionParams(e),e.x,e.y,e.w,e.h,t);return!(0,l.fastPositionEqual)(n,r)||this.props.useCSSTransforms!==e.useCSSTransforms}},{key:"componentDidMount",value:function(){this.moveDroppingItem({})}},{key:"componentDidUpdate",value:function(e){this.moveDroppingItem(e)}},{key:"moveDroppingItem",value:function(e){var t=this.props.droppingPosition;if(t){var n=e.droppingPosition||{left:0,top:0},r=this.state.dragging;this.currentNode||(this.currentNode=o.default.findDOMNode(this));var i=r&&t.left!==n.left||t.top!==n.top;if(r){if(i){var a=t.left-r.left,s=t.top-r.top;this.onDrag(t.e,{node:this.currentNode,deltaX:a,deltaY:s})}}else this.onDragStart(t.e,{node:this.currentNode,deltaX:t.left,deltaY:t.top})}}},{key:"getPositionParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return{cols:e.cols,containerPadding:e.containerPadding,containerWidth:e.containerWidth,margin:e.margin,maxRows:e.maxRows,rowHeight:e.rowHeight}}},{key:"createStyle",value:function(e){var t,n=this.props,r=n.usePercentages,o=n.containerWidth;return n.useCSSTransforms?t=(0,l.setTransform)(e):(t=(0,l.setTopLeft)(e),r&&(t.left=(0,l.perc)(e.left/o),t.width=(0,l.perc)(e.width/o))),t}},{key:"mixinDraggable",value:function(e,t){return r.default.createElement(a.DraggableCore,{disabled:!t,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale},e)}},{key:"mixinResizable",value:function(e,t,n){var o=this.props,i=o.cols,a=o.x,l=o.minW,d=o.minH,u=o.maxW,p=o.maxH,h=o.transformScale,f=o.resizeHandles,b=o.resizeHandle,g=this.getPositionParams(),m=(0,c.calcGridItemPosition)(g,0,0,i-a,0).width,y=(0,c.calcGridItemPosition)(g,0,0,l,d),v=(0,c.calcGridItemPosition)(g,0,0,u,p),O=[y.width,y.height],j=[Math.min(v.width,m),Math.min(v.height,1/0)];return r.default.createElement(s.Resizable,{draggableOpts:{disabled:!n},className:n?void 0:"react-resizable-hide",width:t.width,height:t.height,minConstraints:O,maxConstraints:j,onResizeStop:this.onResizeStop,onResizeStart:this.onResizeStart,onResize:this.onResize,transformScale:h,resizeHandles:f,handle:b},e)}},{key:"onResizeHandler",value:function(e,t,n){var r=t.node,o=t.size,i=this.props[n];if(i){var a=this.props,s=a.cols,l=a.x,d=a.y,u=a.i,p=a.maxH,h=a.minH,f=this.props,b=f.minW,g=f.maxW,m=(0,c.calcWH)(this.getPositionParams(),o.width,o.height,l,d),y=m.w,v=m.h;b=Math.max(b,1),g=Math.min(g,s-l),y=(0,c.clamp)(y,b,g),v=(0,c.clamp)(v,h,p),this.setState({resizing:"onResizeStop"===n?null:o}),i.call(this,u,y,v,{e:e,node:r,size:o})}}},{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,o=e.w,i=e.h,a=e.isDraggable,s=e.isResizable,l=e.droppingPosition,d=e.useCSSTransforms,p=(0,c.calcGridItemPosition)(this.getPositionParams(),t,n,o,i,this.state),h=r.default.Children.only(this.props.children),f=r.default.cloneElement(h,{className:(0,u.default)("react-grid-item",h.props.className,this.props.className,{static:this.props.static,resizing:Boolean(this.state.resizing),"react-draggable":a,"react-draggable-dragging":Boolean(this.state.dragging),dropping:Boolean(l),cssTransforms:d}),style:b(b(b({},this.props.style),h.props.style),this.createStyle(p))});return f=this.mixinResizable(f,p,s),f=this.mixinDraggable(f,a)}}])&&m(t.prototype,n),i&&m(t,i),p}(r.default.Component);t.default=w,x(w,"propTypes",{children:i.default.element,cols:i.default.number.isRequired,containerWidth:i.default.number.isRequired,rowHeight:i.default.number.isRequired,margin:i.default.array.isRequired,maxRows:i.default.number.isRequired,containerPadding:i.default.array.isRequired,x:i.default.number.isRequired,y:i.default.number.isRequired,w:i.default.number.isRequired,h:i.default.number.isRequired,minW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minWidth not Number"):n>e.w||n>e.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxWidth not Number"):n<e.w||n<e.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minHeight not Number"):n>e.h||n>e.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxHeight not Number"):n<e.h||n<e.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:i.default.string.isRequired,resizeHandles:d.resizeHandlesType,resizeHandle:d.resizeHandleType,onDragStop:i.default.func,onDragStart:i.default.func,onDrag:i.default.func,onResizeStop:i.default.func,onResizeStart:i.default.func,onResize:i.default.func,isDraggable:i.default.bool.isRequired,isResizable:i.default.bool.isRequired,isBounded:i.default.bool.isRequired,static:i.default.bool,useCSSTransforms:i.default.bool.isRequired,transformScale:i.default.number,className:i.default.string,handle:i.default.string,cancel:i.default.string,droppingPosition:i.default.shape({e:i.default.object.isRequired,left:i.default.number.isRequired,top:i.default.number.isRequired})}),x(w,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1})},NmA4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n;return n=t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(s,t);var n,o,a=(n=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(n);if(o){var r=b(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return h(this,e)});function s(){var e;d(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(f(e=a.call.apply(a,[this].concat(n))),"state",{width:1280}),g(f(e),"mounted",!1),g(f(e),"onWindowResize",(function(){if(e.mounted){var t=i.default.findDOMNode(f(e));t instanceof HTMLElement&&e.setState({width:t.offsetWidth})}})),e}return function(e,t,n){t&&u(e.prototype,t);n&&u(e,n)}(s,[{key:"componentDidMount",value:function(){this.mounted=!0,window.addEventListener("resize",this.onWindowResize),this.onWindowResize()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,window.removeEventListener("resize",this.onWindowResize)}},{key:"render",value:function(){var t=this.props,n=t.measureBeforeMount,o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,["measureBeforeMount"]);return n&&!this.mounted?r.createElement("div",{className:this.props.className,style:this.props.style}):r.createElement(e,c({},o,this.state))}}]),s}(r.Component),g(t,"defaultProps",{measureBeforeMount:!1}),g(t,"propTypes",{measureBeforeMount:o.default.bool}),n};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n("q1tI")),o=a(n("17x9")),i=a(n("i8i4"));function a(e){return e&&e.__esModule?e:{default:e}}function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},QLaP:function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,i,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],d=0;(l=new Error(t.replace(/%s/g,(function(){return c[d++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},Qgwu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBreakpointFromWidth=function(e,t){for(var n=o(e),r=n[0],i=1,a=n.length;i<a;i++){var s=n[i];t>e[s]&&(r=s)}return r},t.getColsFromBreakpoint=function(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]},t.findOrGenerateResponsiveLayout=function(e,t,n,i,a,s){if(e[n])return(0,r.cloneLayout)(e[n]);for(var l=e[i],c=o(t),d=c.slice(c.indexOf(n)),u=0,p=d.length;u<p;u++){var h=d[u];if(e[h]){l=e[h];break}}return l=(0,r.cloneLayout)(l||[]),(0,r.compact)((0,r.correctBounds)(l,{cols:a}),s,a)},t.sortBreakpoints=o;var r=n("T0XP");function o(e){return Object.keys(e).sort((function(t,n){return e[t]-e[n]}))}},R155:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==p(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n("q1tI")),o=d(n("17x9")),i=d(n("i8i4")),a=n("8N4D"),s=n("fJi3"),l=n("gbW8"),c=d(n("sS6v"));function d(e){return e&&e.__esModule?e:{default:e}}function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x={start:"touchstart",move:"touchmove",stop:"touchend"},w={start:"mousedown",move:"mousemove",stop:"mouseup"},M=w,k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(d,e);var t,n,o,l=y(d);function d(){var e;b(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return S(O(e=l.call.apply(l,[this].concat(n))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),S(O(e),"mounted",!1),S(O(e),"handleDragStart",(function(t){if(e.props.onMouseDown(t),!e.props.allowAnyClick&&"number"==typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(e.props.disabled||!(t.target instanceof r.defaultView.Node)||e.props.handle&&!(0,a.matchesSelectorAndParentsTo)(t.target,e.props.handle,n)||e.props.cancel&&(0,a.matchesSelectorAndParentsTo)(t.target,e.props.cancel,n))){"touchstart"===t.type&&t.preventDefault();var o=(0,a.getTouchIdentifier)(t);e.setState({touchIdentifier:o});var i=(0,s.getControlPosition)(t,o,O(e));if(null!=i){var l=i.x,d=i.y,u=(0,s.createCoreData)(O(e),l,d);(0,c.default)("DraggableCore: handleDragStart: %j",u),(0,c.default)("calling",e.props.onStart),!1!==e.props.onStart(t,u)&&!1!==e.mounted&&(e.props.enableUserSelectHack&&(0,a.addUserSelectStyles)(r),e.setState({dragging:!0,lastX:l,lastY:d}),(0,a.addEvent)(r,M.move,e.handleDrag),(0,a.addEvent)(r,M.stop,e.handleDragStop))}}})),S(O(e),"handleDrag",(function(t){var n=(0,s.getControlPosition)(t,e.state.touchIdentifier,O(e));if(null!=n){var r=n.x,o=n.y;if(Array.isArray(e.props.grid)){var i=r-e.state.lastX,a=o-e.state.lastY,l=h((0,s.snapToGrid)(e.props.grid,i,a),2);if(i=l[0],a=l[1],!i&&!a)return;r=e.state.lastX+i,o=e.state.lastY+a}var d=(0,s.createCoreData)(O(e),r,o);if((0,c.default)("DraggableCore: handleDrag: %j",d),!1!==e.props.onDrag(t,d)&&!1!==e.mounted)e.setState({lastX:r,lastY:o});else try{e.handleDragStop(new MouseEvent("mouseup"))}catch(t){var u=document.createEvent("MouseEvents");u.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.handleDragStop(u)}}})),S(O(e),"handleDragStop",(function(t){if(e.state.dragging){var n=(0,s.getControlPosition)(t,e.state.touchIdentifier,O(e));if(null!=n){var r=n.x,o=n.y,i=(0,s.createCoreData)(O(e),r,o);if(!1===e.props.onStop(t,i)||!1===e.mounted)return!1;var l=e.findDOMNode();l&&e.props.enableUserSelectHack&&(0,a.removeUserSelectStyles)(l.ownerDocument),(0,c.default)("DraggableCore: handleDragStop: %j",i),e.setState({dragging:!1,lastX:NaN,lastY:NaN}),l&&((0,c.default)("DraggableCore: Removing handlers"),(0,a.removeEvent)(l.ownerDocument,M.move,e.handleDrag),(0,a.removeEvent)(l.ownerDocument,M.stop,e.handleDragStop))}}})),S(O(e),"onMouseDown",(function(t){return M=w,e.handleDragStart(t)})),S(O(e),"onMouseUp",(function(t){return M=w,e.handleDragStop(t)})),S(O(e),"onTouchStart",(function(t){return M=x,e.handleDragStart(t)})),S(O(e),"onTouchEnd",(function(t){return M=x,e.handleDragStop(t)})),e}return t=d,(n=[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.findDOMNode();e&&(0,a.addEvent)(e,x.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.findDOMNode();if(e){var t=e.ownerDocument;(0,a.removeEvent)(t,w.move,this.handleDrag),(0,a.removeEvent)(t,x.move,this.handleDrag),(0,a.removeEvent)(t,w.stop,this.handleDragStop),(0,a.removeEvent)(t,x.stop,this.handleDragStop),(0,a.removeEvent)(e,x.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,a.removeUserSelectStyles)(t)}}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:i.default.findDOMNode(this)}},{key:"render",value:function(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&g(t.prototype,n),o&&g(t,o),d}(r.Component);t.default=k,S(k,"displayName","DraggableCore"),S(k,"propTypes",{allowAnyClick:o.default.bool,disabled:o.default.bool,enableUserSelectHack:o.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:o.default.arrayOf(o.default.number),handle:o.default.string,cancel:o.default.string,nodeRef:o.default.object,onStart:o.default.func,onDrag:o.default.func,onStop:o.default.func,onMouseDown:o.default.func,scale:o.default.number,className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),S(k,"defaultProps",{allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},Sa1T:function(e,t,n){"use strict";e.exports=function(e){var t={};function n(n){var r=e.get(n);return void 0===r?[]:t[r]||[]}return{get:n,add:function(n,r){var o=e.get(n);t[o]||(t[o]=[]),t[o].push(r)},removeListener:function(e,t){for(var r=n(e),o=0,i=r.length;o<i;++o)if(r[o]===t){r.splice(o,1);break}},removeAllListeners:function(e){var t=n(e);t&&(t.length=0)}}}},T0XP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bottom=c,t.cloneLayout=function(e){for(var t=Array(e.length),n=0,r=e.length;n<r;n++)t[n]=d(e[n]);return t},t.cloneLayoutItem=d,t.childrenEqual=function(e,t){return(0,r.default)(o.default.Children.map(e,(function(e){return e.key})),o.default.Children.map(t,(function(e){return e.key})))},t.fastPositionEqual=function(e,t){return e.left===t.left&&e.top===t.top&&e.width===t.width&&e.height===t.height},t.collides=p,t.compact=h,t.compactItem=g,t.correctBounds=m,t.getLayoutItem=y,t.getFirstCollision=v,t.getAllCollisions=O,t.getStatics=j,t.moveElement=S,t.moveElementAwayFromCollision=x,t.perc=function(e){return 100*e+"%"},t.setTransform=function(e){var t=e.top,n=e.left,r=e.width,o=e.height,i="translate(".concat(n,"px,").concat(t,"px)");return{transform:i,WebkitTransform:i,MozTransform:i,msTransform:i,OTransform:i,width:"".concat(r,"px"),height:"".concat(o,"px"),position:"absolute"}},t.setTopLeft=function(e){var t=e.top,n=e.left,r=e.width,o=e.height;return{top:"".concat(t,"px"),left:"".concat(n,"px"),width:"".concat(r,"px"),height:"".concat(o,"px"),position:"absolute"}},t.sortLayoutItems=w,t.sortLayoutItemsByRowCol=M,t.sortLayoutItemsByColRow=k,t.synchronizeLayoutWithChildren=function(e,t,n,r){e=e||[];var i=[];return o.default.Children.forEach(t,(function(t,n){var r=y(e,String(t.key));if(r)i[n]=d(r);else{0;var o=t.props["data-grid"]||t.props._grid;i[n]=d(o?s(s({},o),{},{i:t.key}):{w:1,h:1,x:0,y:c(i),i:String(t.key)})}})),h(m(i,{cols:n}),r,n)},t.validateLayout=C,t.compactType=function(e){var t=e||{},n=t.verticalCompact,r=t.compactType;return!1===n?null:r},t.autoBindHandlers=function(e,t){t.forEach((function(t){return e[t]=e[t].bind(e)}))},t.noop=t.fastRGLPropsEqual=void 0;var r=i(n("XaGS")),o=i(n("q1tI"));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){for(var t,n=0,r=0,o=e.length;r<o;r++)(t=e[r].y+e[r].h)>n&&(n=t);return n}function d(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:Boolean(e.moved),static:Boolean(e.static),isDraggable:e.isDraggable,isResizable:e.isResizable,resizeHandles:e.resizeHandles,isBounded:e.isBounded}}var u=n("b06y");function p(e,t){return e.i!==t.i&&(!(e.x+e.w<=t.x)&&(!(e.x>=t.x+t.w)&&(!(e.y+e.h<=t.y)&&!(e.y>=t.y+t.h))))}function h(e,t,n){for(var r=j(e),o=w(e,t),i=Array(e.length),a=0,s=o.length;a<s;a++){var l=d(o[a]);l.static||(l=g(r,l,t,n,o),r.push(l)),i[e.indexOf(o[a])]=l,l.moved=!1}return i}t.fastRGLPropsEqual=u;var f={x:"w",y:"h"};function b(e,t,n,r){var o=f[r];t[r]+=1;for(var i=e.map((function(e){return e.i})).indexOf(t.i)+1;i<e.length;i++){var a=e[i];if(!a.static){if(a.y>t.y+t.h)break;p(t,a)&&b(e,a,n+t[o],r)}}t[r]=n}function g(e,t,n,r,o){var i,a="horizontal"===n;if("vertical"===n)for(t.y=Math.min(c(e),t.y);t.y>0&&!v(e,t);)t.y--;else if(a)for(t.y=Math.min(c(e),t.y);t.x>0&&!v(e,t);)t.x--;for(;i=v(e,t);)a?b(o,t,i.x+i.w,"x"):b(o,t,i.y+i.h,"y"),a&&t.x+t.w>r&&(t.x=r-t.w,t.y++);return t}function m(e,t){for(var n=j(e),r=0,o=e.length;r<o;r++){var i=e[r];if(i.x+i.w>t.cols&&(i.x=t.cols-i.w),i.x<0&&(i.x=0,i.w=t.cols),i.static)for(;v(n,i);)i.y++;else n.push(i)}return e}function y(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n].i===t)return e[n]}function v(e,t){for(var n=0,r=e.length;n<r;n++)if(p(e[n],t))return e[n]}function O(e,t){return e.filter((function(e){return p(e,t)}))}function j(e){return e.filter((function(e){return e.static}))}function S(e,t,n,r,o,i,a,s){if(t.static&&!0!==t.isDraggable)return e;if(t.y===r&&t.x===n)return e;P("Moving element ".concat(t.i," to [").concat(String(n),",").concat(String(r),"] from [").concat(t.x,",").concat(t.y,"]"));var l=t.x,c=t.y;"number"==typeof n&&(t.x=n),"number"==typeof r&&(t.y=r),t.moved=!0;var d=w(e,a);("vertical"===a&&"number"==typeof r?c>=r:"horizontal"===a&&"number"==typeof n&&l>=n)&&(d=d.reverse());var u=O(d,t);if(i&&u.length)return P("Collision prevented on ".concat(t.i,", reverting.")),t.x=l,t.y=c,t.moved=!1,e;for(var p=0,h=u.length;p<h;p++){var f=u[p];P("Resolving collision between ".concat(t.i," at [").concat(t.x,",").concat(t.y,"] and ").concat(f.i," at [").concat(f.x,",").concat(f.y,"]")),f.moved||(e=f.static?x(e,f,t,o,a,s):x(e,t,f,o,a,s))}return e}function x(e,t,n,r,o,i){var a="horizontal"===o,s="horizontal"!==o,l=t.static;if(r){r=!1;var c={x:a?Math.max(t.x-n.w,0):n.x,y:s?Math.max(t.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"};if(!v(e,c))return P("Doing reverse collision on ".concat(n.i," up to [").concat(c.x,",").concat(c.y,"].")),S(e,n,a?c.x:void 0,s?c.y:void 0,r,l,o,i)}return S(e,n,a?n.x+1:void 0,s?n.y+1:void 0,r,l,o,i)}function w(e,t){return"horizontal"===t?k(e):M(e)}function M(e){return e.slice(0).sort((function(e,t){return e.y>t.y||e.y===t.y&&e.x>t.x?1:e.y===t.y&&e.x===t.x?0:-1}))}function k(e){return e.slice(0).sort((function(e,t){return e.x>t.x||e.x===t.x&&e.y>t.y?1:-1}))}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Layout",n=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(var r=0,o=e.length;r<o;r++){for(var i=e[r],a=0;a<n.length;a++)if("number"!=typeof i[n[a]])throw new Error("ReactGridLayout: "+t+"["+r+"]."+n[a]+" must be a number!");if(i.i&&"string"!=typeof i.i)throw new Error("ReactGridLayout: "+t+"["+r+"].i must be a string!");if(void 0!==i.static&&"boolean"!=typeof i.static)throw new Error("ReactGridLayout: "+t+"["+r+"].static must be a boolean!")}}function P(){}t.noop=function(){}},TNBa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.resizeHandleType=t.resizeHandlesType=void 0;var r=i(n("17x9")),o=i(n("q1tI"));function i(e){return e&&e.__esModule?e:{default:e}}var a=r.default.arrayOf(r.default.oneOf(["s","w","e","n","sw","nw","se","ne"]));t.resizeHandlesType=a;var s=r.default.oneOfType([r.default.node,r.default.func]);t.resizeHandleType=s;var l={className:r.default.string,style:r.default.object,width:r.default.number,autoSize:r.default.bool,cols:r.default.number,draggableCancel:r.default.string,draggableHandle:r.default.string,verticalCompact:function(e){e.verticalCompact,0},compactType:r.default.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;void 0!==t&&n("T0XP").validateLayout(t,"layout")},margin:r.default.arrayOf(r.default.number),containerPadding:r.default.arrayOf(r.default.number),rowHeight:r.default.number,maxRows:r.default.number,isBounded:r.default.bool,isDraggable:r.default.bool,isResizable:r.default.bool,preventCollision:r.default.bool,useCSSTransforms:r.default.bool,transformScale:r.default.number,isDroppable:r.default.bool,resizeHandles:a,resizeHandle:s,onLayoutChange:r.default.func,onDragStart:r.default.func,onDrag:r.default.func,onDragStop:r.default.func,onResizeStart:r.default.func,onResize:r.default.func,onResizeStop:r.default.func,onDrop:r.default.func,droppingItem:r.default.shape({i:r.default.string.isRequired,w:r.default.number.isRequired,h:r.default.number.isRequired}),children:function(e,t){var n=e[t],r={};o.default.Children.forEach(n,(function(e){if(r[e.key])throw new Error('Duplicate child key "'+e.key+'" found! This will cause problems in ReactGridLayout.');r[e.key]=!0}))},innerRef:r.default.any};t.default=l},UFhH:function(e,t,n){"use strict";e.exports=function(e){var t=e.idGenerator,n=e.stateHandler.getState;return{get:function(e){var t=n(e);return t&&void 0!==t.id?t.id:null},set:function(e){var r=n(e);if(!r)throw new Error("setId required the element to have a resize detection state.");var o=t.generate();return r.id=o,o}}}},UL9e:function(e,t,n){"use strict";(e.exports={}).getOption=function(e,t,n){var r=e[t];if(null==r&&void 0!==n)return n;return r}},UlFs:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("Obii"),o=n("q1tI");const i=(e,t,n)=>{const i=Object(o.useRef)(),[a,s]=Object(o.useState)();return Object(o.useEffect)(()=>{let r=-1,o=0;return i.current=e.getQueryRunner().getData(t).subscribe({next:e=>{if(n){var t;if(r===e.structureRev){const e=Date.now();if(e-o<1e4)return;o=e}r=null!==(t=e.structureRev)&&void 0!==t?t:-1}s(e)}}),()=>{i.current&&i.current.unsubscribe()}},[e,t.withFieldConfig,t.withTransforms]),{data:a,error:a&&a.error,isLoading:!a||a.state===r.LoadingState.Loading,hasSeries:!!a&&!!a.series}}},VBuW:function(e,t,n){"use strict";var r,o=n("q1tI"),i=n("bcUi"),a=n("Csm0"),s=n("Algx"),l=n("kDLi"),c=n("nKUr");const d=e=>{const t=Object(o.useMemo)(()=>s.b.get(e.variable.type).picker,[e.variable]);return e.variable?Object(c.jsxs)("div",{className:"gf-form",children:[Object(c.jsx)(u,{variable:e.variable}),e.variable.hide!==i.a.hideVariable&&t&&Object(c.jsx)(t,{variable:e.variable})]}):r||(r=Object(c.jsx)("div",{children:"Couldn't load variable"}))};function u({variable:e}){const t=Object(o.useMemo)(()=>e.label||e.name,[e]);return e.hide!==i.a.dontHide?null:e.description?Object(c.jsx)(l.Tooltip,{content:e.description,placement:"bottom",children:Object(c.jsx)("label",{className:"gf-form-label gf-form-label--variable","aria-label":a.selectors.pages.Dashboard.SubMenu.submenuItemLabels(t),children:t})}):Object(c.jsx)("label",{className:"gf-form-label gf-form-label--variable","aria-label":a.selectors.pages.Dashboard.SubMenu.submenuItemLabels(t),children:t})}n.d(t,"a",(function(){return p}));const p=({variables:e})=>{const[t,n]=Object(o.useState)([]);return Object(o.useEffect)(()=>{n(e.filter(e=>e.hide!==i.a.hideVariable))},[e]),0===t.length?null:Object(c.jsx)(c.Fragment,{children:t.map(e=>Object(c.jsx)("div",{className:"submenu-item gf-form-inline","aria-label":a.selectors.pages.Dashboard.SubMenu.submenuItem,children:Object(c.jsx)(d,{variable:e})},e.id))})}},VzO5:function(e,t,n){"use strict";t.__esModule=!0,t.cloneElement=function(e,t){t.style&&e.props.style&&(t.style=a(a({},e.props.style),t.style));t.className&&e.props.className&&(t.className=e.props.className+" "+t.className);return o.default.cloneElement(e,t)};var r,o=(r=n("q1tI"))&&r.__esModule?r:{default:r};function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},"W+U1":function(e,t,n){"use strict";e.exports=function(e){var t=e.stateHandler.getState;return{isDetectable:function(e){var n=t(e);return n&&!!n.isDetectable},markAsDetectable:function(e){t(e).isDetectable=!0},isBusy:function(e){return!!t(e).busy},markBusy:function(e,n){t(e).busy=!!n}}}},XaGS:function(e,t,n){(function(e,n){var r="[object Arguments]",o="[object Map]",i="[object Object]",a="[object Set]",s=/^\[object .+?Constructor\]$/,l=/^(?:0|[1-9]\d*)$/,c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c[r]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c["[object Function]"]=c[o]=c["[object Number]"]=c[i]=c["[object RegExp]"]=c[a]=c["[object String]"]=c["[object WeakMap]"]=!1;var d="object"==typeof e&&e&&e.Object===Object&&e,u="object"==typeof self&&self&&self.Object===Object&&self,p=d||u||Function("return this")(),h=t&&!t.nodeType&&t,f=h&&"object"==typeof n&&n&&!n.nodeType&&n,b=f&&f.exports===h,g=b&&d.process,m=function(){try{return g&&g.binding&&g.binding("util")}catch(e){}}(),y=m&&m.isTypedArray;function v(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function O(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function j(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var S,x,w,M=Array.prototype,k=Function.prototype,C=Object.prototype,P=p["__core-js_shared__"],z=k.toString,D=C.hasOwnProperty,T=(S=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||""))?"Symbol(src)_1."+S:"",R=C.toString,B=RegExp("^"+z.call(D).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),W=b?p.Buffer:void 0,E=p.Symbol,I=p.Uint8Array,N=C.propertyIsEnumerable,A=M.splice,L=E?E.toStringTag:void 0,F=Object.getOwnPropertySymbols,_=W?W.isBuffer:void 0,H=(x=Object.keys,w=Object,function(e){return x(w(e))}),G=me(p,"DataView"),U=me(p,"Map"),V=me(p,"Promise"),$=me(p,"Set"),q=me(p,"WeakMap"),Q=me(Object,"create"),X=je(G),Y=je(U),K=je(V),J=je($),Z=je(q),ee=E?E.prototype:void 0,te=ee?ee.valueOf:void 0;function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function re(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function oe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ie(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new oe;++t<n;)this.add(e[t])}function ae(e){var t=this.__data__=new re(e);this.size=t.size}function se(e,t){var n=we(e),r=!n&&xe(e),o=!n&&!r&&Me(e),i=!n&&!r&&!o&&De(e),a=n||r||o||i,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var c in e)!t&&!D.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Oe(c,l))||s.push(c);return s}function le(e,t){for(var n=e.length;n--;)if(Se(e[n][0],t))return n;return-1}function ce(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":L&&L in Object(e)?function(e){var t=D.call(e,L),n=e[L];try{e[L]=void 0;var r=!0}catch(e){}var o=R.call(e);r&&(t?e[L]=n:delete e[L]);return o}(e):function(e){return R.call(e)}(e)}function de(e){return ze(e)&&ce(e)==r}function ue(e,t,n,s,l){return e===t||(null==e||null==t||!ze(e)&&!ze(t)?e!=e&&t!=t:function(e,t,n,s,l,c){var d=we(e),u=we(t),p=d?"[object Array]":ve(e),h=u?"[object Array]":ve(t),f=(p=p==r?i:p)==i,b=(h=h==r?i:h)==i,g=p==h;if(g&&Me(e)){if(!Me(t))return!1;d=!0,f=!1}if(g&&!f)return c||(c=new ae),d||De(e)?fe(e,t,n,s,l,c):function(e,t,n,r,i,s,l){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!s(new I(e),new I(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Se(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case o:var c=O;case a:var d=1&r;if(c||(c=j),e.size!=t.size&&!d)return!1;var u=l.get(e);if(u)return u==t;r|=2,l.set(e,t);var p=fe(c(e),c(t),r,i,s,l);return l.delete(e),p;case"[object Symbol]":if(te)return te.call(e)==te.call(t)}return!1}(e,t,p,n,s,l,c);if(!(1&n)){var m=f&&D.call(e,"__wrapped__"),y=b&&D.call(t,"__wrapped__");if(m||y){var v=m?e.value():e,S=y?t.value():t;return c||(c=new ae),l(v,S,n,s,c)}}if(!g)return!1;return c||(c=new ae),function(e,t,n,r,o,i){var a=1&n,s=be(e),l=s.length,c=be(t).length;if(l!=c&&!a)return!1;var d=l;for(;d--;){var u=s[d];if(!(a?u in t:D.call(t,u)))return!1}var p=i.get(e);if(p&&i.get(t))return p==t;var h=!0;i.set(e,t),i.set(t,e);var f=a;for(;++d<l;){u=s[d];var b=e[u],g=t[u];if(r)var m=a?r(g,b,u,t,e,i):r(b,g,u,e,t,i);if(!(void 0===m?b===g||o(b,g,n,r,i):m)){h=!1;break}f||(f="constructor"==u)}if(h&&!f){var y=e.constructor,v=t.constructor;y==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof v&&v instanceof v||(h=!1)}return i.delete(e),i.delete(t),h}(e,t,n,s,l,c)}(e,t,n,s,ue,l))}function pe(e){return!(!Pe(e)||function(e){return!!T&&T in e}(e))&&(ke(e)?B:s).test(je(e))}function he(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||C,t!==r)return H(e);var t,n,r,o=[];for(var i in Object(e))D.call(e,i)&&"constructor"!=i&&o.push(i);return o}function fe(e,t,n,r,o,i){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=i.get(e);if(c&&i.get(t))return c==t;var d=-1,u=!0,p=2&n?new ie:void 0;for(i.set(e,t),i.set(t,e);++d<s;){var h=e[d],f=t[d];if(r)var b=a?r(f,h,d,t,e,i):r(h,f,d,e,t,i);if(void 0!==b){if(b)continue;u=!1;break}if(p){if(!v(t,(function(e,t){if(a=t,!p.has(a)&&(h===e||o(h,e,n,r,i)))return p.push(t);var a}))){u=!1;break}}else if(h!==f&&!o(h,f,n,r,i)){u=!1;break}}return i.delete(e),i.delete(t),u}function be(e){return function(e,t,n){var r=t(e);return we(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,Te,ye)}function ge(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function me(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return pe(n)?n:void 0}ne.prototype.clear=function(){this.__data__=Q?Q(null):{},this.size=0},ne.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ne.prototype.get=function(e){var t=this.__data__;if(Q){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return D.call(t,e)?t[e]:void 0},ne.prototype.has=function(e){var t=this.__data__;return Q?void 0!==t[e]:D.call(t,e)},ne.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Q&&void 0===t?"__lodash_hash_undefined__":t,this},re.prototype.clear=function(){this.__data__=[],this.size=0},re.prototype.delete=function(e){var t=this.__data__,n=le(t,e);return!(n<0)&&(n==t.length-1?t.pop():A.call(t,n,1),--this.size,!0)},re.prototype.get=function(e){var t=this.__data__,n=le(t,e);return n<0?void 0:t[n][1]},re.prototype.has=function(e){return le(this.__data__,e)>-1},re.prototype.set=function(e,t){var n=this.__data__,r=le(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},oe.prototype.clear=function(){this.size=0,this.__data__={hash:new ne,map:new(U||re),string:new ne}},oe.prototype.delete=function(e){var t=ge(this,e).delete(e);return this.size-=t?1:0,t},oe.prototype.get=function(e){return ge(this,e).get(e)},oe.prototype.has=function(e){return ge(this,e).has(e)},oe.prototype.set=function(e,t){var n=ge(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},ie.prototype.add=ie.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ie.prototype.has=function(e){return this.__data__.has(e)},ae.prototype.clear=function(){this.__data__=new re,this.size=0},ae.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ae.prototype.get=function(e){return this.__data__.get(e)},ae.prototype.has=function(e){return this.__data__.has(e)},ae.prototype.set=function(e,t){var n=this.__data__;if(n instanceof re){var r=n.__data__;if(!U||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new oe(r)}return n.set(e,t),this.size=n.size,this};var ye=F?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}(F(e),(function(t){return N.call(e,t)})))}:function(){return[]},ve=ce;function Oe(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||l.test(e))&&e>-1&&e%1==0&&e<t}function je(e){if(null!=e){try{return z.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Se(e,t){return e===t||e!=e&&t!=t}(G&&"[object DataView]"!=ve(new G(new ArrayBuffer(1)))||U&&ve(new U)!=o||V&&"[object Promise]"!=ve(V.resolve())||$&&ve(new $)!=a||q&&"[object WeakMap]"!=ve(new q))&&(ve=function(e){var t=ce(e),n=t==i?e.constructor:void 0,r=n?je(n):"";if(r)switch(r){case X:return"[object DataView]";case Y:return o;case K:return"[object Promise]";case J:return a;case Z:return"[object WeakMap]"}return t});var xe=de(function(){return arguments}())?de:function(e){return ze(e)&&D.call(e,"callee")&&!N.call(e,"callee")},we=Array.isArray;var Me=_||function(){return!1};function ke(e){if(!Pe(e))return!1;var t=ce(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ce(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Pe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ze(e){return null!=e&&"object"==typeof e}var De=y?function(e){return function(t){return e(t)}}(y):function(e){return ze(e)&&Ce(e.length)&&!!c[ce(e)]};function Te(e){return null!=(t=e)&&Ce(t.length)&&!ke(t)?se(e):he(e);var t}n.exports=function(e,t){return ue(e,t)}}).call(this,n("yLpj"),n("YuTi")(e))},"Zu+4":function(e,t,n){"use strict";var r,o=n("t8hP"),i=n("HJRA"),a=n("umNM"),s=n("q1tI"),l=n.n(s),c=n("Ty5D"),d=n("rd46"),u=n("LvDl"),p=n("KHwQ"),h=n.n(p),f=n("kDLi"),b=n("N9j+"),g=n("vF1F"),m=n("nKUr");const y=({dashboard:e,onSaveSuccess:t,onDiscard:n,onDismiss:o})=>Object(m.jsxs)(f.Modal,{isOpen:!0,title:"Unsaved changes",onDismiss:o,icon:"exclamation-triangle",className:g.css`
        width: 500px;
      `,children:[r||(r=Object(m.jsx)("h5",{children:"Do you want to save your changes?"})),Object(m.jsxs)(f.Modal.ButtonRow,{children:[Object(m.jsx)(f.Button,{variant:"secondary",onClick:o,fill:"outline",children:"Cancel"}),Object(m.jsx)(f.Button,{variant:"destructive",onClick:n,children:"Discard"}),Object(m.jsx)(b.b,{dashboard:e,onSaveSuccess:t})]})]});var v,O=n("E5+Z"),j=n("/MKj"),S=n("waAV"),x=n("xAj+");function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return M})),function(e){e[e.UnsavedChangesModal=0]="UnsavedChangesModal",e[e.SaveLibraryPanelModal=1]="SaveLibraryPanelModal"}(v||(v={}));const M=l.a.memo(({dashboard:e})=>{const[t,n]=Object(s.useState)({original:null,modal:null}),r=Object(j.useDispatch)(),{original:l,originalPath:d,blockedLocation:p,modal:f}=t;Object(s.useEffect)(()=>{const t=setTimeout(()=>{const t=o.locationService.getLocation().pathname,r=e.getSaveModelClone();n({originalPath:t,original:r,modal:null})},1e3);return()=>{clearTimeout(t)}},[e]),Object(s.useEffect)(()=>{const t=i.a.subscribe(x.DashboardSavedEvent,()=>{const t=e.getSaveModelClone(),r=o.locationService.getLocation().pathname;n({originalPath:r,original:t,modal:null}),p&&k(p)});return()=>t.unsubscribe()},[e,p]);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(c.b,{when:!0,message:r=>{const o=e.panelInEdit,i=new URLSearchParams(r.search);return o&&o.libraryPanel&&o.hasChanged&&!i.has("editPanel")?(n(w({},t,{modal:v.SaveLibraryPanelModal,blockedLocation:r})),!1):d===r.pathname||!l||(!!function(e,t){if(!t)return!0;if(!a.a.isSignedIn)return!0;if(!e||!e.meta)return!0;const{canSave:n,fromScript:r,fromFile:o}=e.meta;if(!a.a.isEditor&&!n)return!0;return!n||r||o}(e,l)||(!function(e,t){const n=C(e.getSaveModelClone()),r=C(t),o=Object(u.find)(n.nav,{type:"timepicker"}),i=Object(u.find)(r.nav,{type:"timepicker"});o&&i&&(o.now=i.now);const a=h.a.toJson(n),s=h.a.toJson(r);return console.log("current",a),console.log("originalJson",s),a!==s}(e,l)||(n(w({},t,{modal:v.UnsavedChangesModal,blockedLocation:r})),!1)))}}),f===v.UnsavedChangesModal&&Object(m.jsx)(y,{dashboard:e,onSaveSuccess:()=>{},onDiscard:()=>{n(w({},t,{original:null,modal:null})),k(p)},onDismiss:()=>{n(w({},t,{modal:null,blockedLocation:null}))}}),f===v.SaveLibraryPanelModal&&Object(m.jsx)(O.a,{isUnsavedPrompt:!0,panel:e.panelInEdit,folderId:e.meta.folderId,onConfirm:()=>{n(w({},t,{modal:null})),k(p)},onDiscard:()=>{r(Object(S.a)()),n(w({},t,{modal:null})),k(p)},onDismiss:()=>{n(w({},t,{modal:null,blockedLocation:null}))}})]})});function k(e){e&&setTimeout(()=>o.locationService.push(e),10)}function C(e){const t=new d.a(e);t.expandRows();const n=t.getSaveModelClone();return n.time=0,n.refresh=0,n.schemaVersion=0,n.timezone=0,delete n.iteration,n.panels=Object(u.filter)(n.panels,e=>!e.repeatPanelId&&(e.scopedVars=void 0,e.legend&&(delete e.legend.sort,delete e.legend.sortDesc),!0)),Object(u.each)(n.getVariables(),e=>{e.current=null,e.options=null,e.filters=null}),n}},"aq+K":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n("q1tI");var r=n("kDDq"),o=n("kDLi"),i=n("GQ3c"),a=n("v4Fa"),s=n("nKUr");const l=({initError:e})=>{const t=Object(o.useStyles)(c);return e?Object(s.jsx)("div",{className:t.dashboardLoading,children:Object(s.jsx)(o.Alert,{severity:i.AppNotificationSeverity.Error,title:e.message,children:Object(a.a)(e.error)})}):null},c=e=>({dashboardLoading:r.css`
      height: 60vh;
      display: flex;
      align-items: center;
      justify-content: center;
    `})},b06y:function(e,t){e.exports=function(e,t,n){return e===t||e.className===t.className&&n(e.style,t.style)&&e.width===t.width&&e.autoSize===t.autoSize&&e.cols===t.cols&&e.draggableCancel===t.draggableCancel&&e.draggableHandle===t.draggableHandle&&n(e.verticalCompact,t.verticalCompact)&&n(e.compactType,t.compactType)&&n(e.layout,t.layout)&&n(e.margin,t.margin)&&n(e.containerPadding,t.containerPadding)&&e.rowHeight===t.rowHeight&&e.maxRows===t.maxRows&&e.isBounded===t.isBounded&&e.isDraggable===t.isDraggable&&e.isResizable===t.isResizable&&e.preventCollision===t.preventCollision&&e.useCSSTransforms===t.useCSSTransforms&&e.transformScale===t.transformScale&&e.isDroppable===t.isDroppable&&n(e.resizeHandles,t.resizeHandles)&&n(e.resizeHandle,t.resizeHandle)&&e.onLayoutChange===t.onLayoutChange&&e.onDragStart===t.onDragStart&&e.onDrag===t.onDrag&&e.onDragStop===t.onDragStop&&e.onResizeStart===t.onResizeStart&&e.onResize===t.onResize&&e.onResizeStop===t.onResizeStop&&e.onDrop===t.onDrop&&n(e.droppingItem,t.droppingItem)&&n(e.innerRef,t.innerRef)}},bNWW:function(e,t,n){"use strict";e.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},e.exports.Resizable=n("jqYm").default,e.exports.ResizableBox=n("E56+").default},doQp:function(e,t,n){"use strict";var r=n("pzsr"),o=r.default,i=r.DraggableCore;e.exports=o,e.exports.default=o,e.exports.DraggableCore=i},eIbz:function(e,t,n){"use strict";var r,o,i,a,s,l,c=n("q1tI"),d=n("/MKj"),u=n("vF1F"),p=n("LvDl"),h=n("Zss7"),f=n.n(h),b=n("t8hP"),g=n("kDLi"),m=n("Csm0"),y=n("ZFWI"),v=n("SMGL"),O=n("KyLG"),j=n("eXZ6"),S=n("K0rs"),x=n("orvP"),w=n("nKUr");function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const k={addPanel:O.a},C=Object(d.connect)(void 0,k)(({panel:e,dashboard:t})=>{const[n,s]=Object(c.useState)(!1),l=Object(g.useStyles)(z),d=Object(c.useMemo)(()=>(()=>{const e=Object(p.chain)(y.b.panels).filter({hideFromList:!1}).map(e=>e).value(),t=[],n=v.a.get(j.h);if(n){const r=JSON.parse(n),o=Object(p.find)(e,{id:r.type});if(o){const e=Object(p.cloneDeep)(o);e.name=r.title,e.sort=-1,e.defaults=r,t.push(e)}}return Object(p.sortBy)(t,"sort")})(),[]);return Object(w.jsx)("div",{className:l.wrapper,children:Object(w.jsxs)("div",{className:Object(u.cx)("panel-container",l.callToAction),children:[Object(w.jsx)(P,{onCancel:n=>{n.preventDefault(),t.removePanel(e)},onBack:n?()=>{s(!1)}:void 0,styles:l,children:n?"Add panel from panel library":"Add panel"}),n?Object(w.jsx)(x.a,{onClick:n=>{const{gridPos:r}=e,o=M({},n.model,{gridPos:r,libraryPanel:Object(S.d)(n)});t.addPanel(o),t.removePanel(e)},variant:x.b.Tight,showPanelFilter:!0}):Object(w.jsxs)("div",{className:l.actionsWrapper,children:[Object(w.jsxs)("div",{className:l.actionsRow,children:[Object(w.jsxs)("div",{onClick:()=>(()=>{const{gridPos:n}=e,r={type:"timeseries",title:"Panel Title",gridPos:{x:n.x,y:n.y,w:n.w,h:n.h}};t.addPanel(r),t.removePanel(e),b.locationService.partial({editPanel:r.id})})(),"aria-label":m.selectors.pages.AddDashboard.addNewPanel,children:[r||(r=Object(w.jsx)(g.Icon,{name:"file-blank",size:"xl"})),"Add an empty panel"]}),Object(w.jsxs)("div",{onClick:()=>{t.addPanel({type:"row",title:"Row title",gridPos:{x:0,y:0}}),t.removePanel(e)},children:[o||(o=Object(w.jsx)(g.Icon,{name:"wrap-text",size:"xl"})),"Add a new row"]})]}),Object(w.jsxs)("div",{className:l.actionsRow,children:[Object(w.jsxs)("div",{onClick:()=>s(!0),children:[i||(i=Object(w.jsx)(g.Icon,{name:"book-open",size:"xl"})),"Add a panel from the panel library"]}),1===d.length&&Object(w.jsxs)("div",{onClick:()=>(n=>{const{gridPos:r}=e,o={type:n.id,title:"Panel Title",gridPos:{x:r.x,y:r.y,w:n.defaults.gridPos.w,h:n.defaults.gridPos.h}};n.defaults&&(Object(p.defaults)(o,n.defaults),o.title=n.defaults.title,v.a.delete(j.h)),t.addPanel(o),t.removePanel(e)})(d[0]),children:[a||(a=Object(w.jsx)(g.Icon,{name:"clipboard-alt",size:"xl"})),"Paste panel from clipboard"]})]})]})]})})}),P=({children:e,onBack:t,onCancel:n,styles:r})=>Object(w.jsxs)("div",{className:Object(u.cx)(r.headerRow,"grid-drag-handle"),children:[t&&Object(w.jsx)("div",{className:r.backButton,children:Object(w.jsx)(g.IconButton,{name:"arrow-left",onClick:t,surface:"header",size:"xl"})}),!t&&Object(w.jsx)("div",{className:r.backButton,children:s||(s=Object(w.jsx)(g.Icon,{name:"panel-add",size:"md"}))}),e&&Object(w.jsx)("span",{children:e}),l||(l=Object(w.jsx)("div",{className:"flex-grow-1"})),Object(w.jsx)(g.IconButton,{name:"times",onClick:n,surface:"header"})]}),z=e=>{const t=u.keyframes`
    0% {box-shadow: 0 0 0 2px ${e.colors.bodyBg}, 0 0 0px 4px ${e.colors.formFocusOutline};}
    50% {box-shadow: 0 0 0 2px ${e.colors.bodyBg}, 0 0 0px 4px ${f()(e.colors.formFocusOutline).darken(20).toHexString()};}
    100% {box-shadow: 0 0 0 2px ${e.colors.bodyBg}, 0 0 0px 4px  ${e.colors.formFocusOutline};}
  `;return{wrapper:u.css`
      height: 100%;
      padding-top: ${e.spacing.xs};
    `,callToAction:u.css`
      overflow: hidden;
      outline: 2px dotted transparent;
      outline-offset: 2px;
      box-shadow: 0 0 0 2px black, 0 0 0px 4px #1f60c4;
      animation: ${t} 2s ease infinite;
    `,actionsRow:u.css`
      display: flex;
      flex-direction: row;
      column-gap: ${e.spacing.sm};
      height: 100%;

      > div {
        justify-self: center;
        cursor: pointer;
        background: ${e.colors.bg2};
        border-radius: ${e.border.radius.sm};
        color: ${e.colors.text};
        width: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;

        &:hover {
          background: ${g.styleMixins.hoverColor(e.colors.bg2,e)};
        }

        &:hover > #book-icon {
          background: linear-gradient(#f05a28 30%, #fbca0a 99%);
        }
      }
    `,actionsWrapper:u.css`
      display: flex;
      flex-direction: column;
      row-gap: ${e.spacing.sm};
      padding: 0 ${e.spacing.sm} ${e.spacing.sm} ${e.spacing.sm};
      height: 100%;
    `,headerRow:u.css`
      display: flex;
      align-items: center;
      height: 38px;
      flex-shrink: 0;
      width: 100%;
      font-size: ${e.typography.size.md};
      font-weight: ${e.typography.weight.semibold};
      padding-left: ${e.spacing.sm};
      transition: background-color 0.1s ease-in-out;
      cursor: move;

      &:hover {
        background: ${e.colors.bg2};
      }
    `,backButton:u.css`
      display: flex;
      align-items: center;
      cursor: pointer;
      padding-left: ${e.spacing.xs};
      width: ${e.spacing.xl};
    `,noMargin:u.css`
      margin: 0;
    `}};n.d(t,"a",(function(){return C}))},fEyB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=d(n("q1tI")),o=d(n("XaGS")),i=d(n("TSYQ")),a=n("T0XP"),s=n("q78g"),l=d(n("LvXN")),c=d(n("TNBa"));function d(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=!1;try{x=/firefox/i.test(navigator.userAgent)}catch(e){}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(u,e);var t,n,c,d=y(u);function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),S(O(n=d.call(this,e,t)),"state",{activeDrag:null,layout:(0,a.synchronizeLayoutWithChildren)(n.props.layout,n.props.children,n.props.cols,(0,a.compactType)(n.props)),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,droppingDOMNode:null,children:[]}),S(O(n),"dragEnterCounter",0),S(O(n),"onDragOver",(function(e){if(x&&-1===e.nativeEvent.target.className.indexOf("react-grid-layout"))return e.preventDefault(),!1;var t=n.props,o=t.droppingItem,i=t.margin,a=t.cols,l=t.rowHeight,c=t.maxRows,d=t.width,u=t.containerPadding,p=n.state.layout,b=e.nativeEvent,g=b.layerX,m=b.layerY,y={left:g,top:m,e:e};if(n.state.droppingDOMNode){if(n.state.droppingPosition){var v=n.state.droppingPosition,O=v.left,j=v.top;(O!=g||j!=m)&&n.setState({droppingPosition:y})}}else{var S={cols:a,margin:i,maxRows:c,rowHeight:l,containerWidth:d,containerPadding:u||i},w=(0,s.calcXY)(S,m,g,o.w,o.h);n.setState({droppingDOMNode:r.default.createElement("div",{key:o.i}),droppingPosition:y,layout:[].concat(f(p),[h(h({},o),{},{x:w.x,y:w.y,static:!1,isDraggable:!0})])})}e.stopPropagation(),e.preventDefault()})),S(O(n),"removeDroppingPlaceholder",(function(){var e=n.props,t=e.droppingItem,r=e.cols,o=n.state.layout,i=(0,a.compact)(o.filter((function(e){return e.i!==t.i})),(0,a.compactType)(n.props),r);n.setState({layout:i,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})})),S(O(n),"onDragLeave",(function(){n.dragEnterCounter--,0===n.dragEnterCounter&&n.removeDroppingPlaceholder()})),S(O(n),"onDragEnter",(function(){n.dragEnterCounter++})),S(O(n),"onDrop",(function(e){var t=n.props.droppingItem,r=n.state.layout,o=r.find((function(e){return e.i===t.i}));n.dragEnterCounter=0,n.removeDroppingPlaceholder(),n.props.onDrop(r,o,e)})),(0,a.autoBindHandlers)(O(n),["onDragStart","onDrag","onDragStop","onResizeStart","onResize","onResizeStop"]),n}return t=u,c=[{key:"getDerivedStateFromProps",value:function(e,t){var n;return t.activeDrag?null:((0,o.default)(e.layout,t.propsLayout)&&e.compactType===t.compactType?(0,a.childrenEqual)(e.children,t.children)||(n=t.layout):n=e.layout,n?{layout:(0,a.synchronizeLayoutWithChildren)(n,e.children,e.cols,(0,a.compactType)(e)),compactType:e.compactType,children:e.children,propsLayout:e.layout}:null)}}],(n=[{key:"componentDidMount",value:function(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.children!==e.children||!(0,a.fastRGLPropsEqual)(this.props,e,o.default)||this.state.activeDrag!==t.activeDrag||this.state.mounted!==t.mounted||this.state.droppingPosition!==t.droppingPosition}},{key:"componentDidUpdate",value:function(e,t){if(!this.state.activeDrag){var n=this.state.layout,r=t.layout;this.onLayoutMaybeChanged(n,r)}}},{key:"containerHeight",value:function(){if(this.props.autoSize){var e=(0,a.bottom)(this.state.layout),t=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return e*this.props.rowHeight+(e-1)*this.props.margin[1]+2*t+"px"}}},{key:"onDragStart",value:function(e,t,n,r){var o=r.e,i=r.node,s=this.state.layout,l=(0,a.getLayoutItem)(s,e);if(l)return this.setState({oldDragItem:(0,a.cloneLayoutItem)(l),oldLayout:this.state.layout}),this.props.onDragStart(s,l,l,null,o,i)}},{key:"onDrag",value:function(e,t,n,r){var o=r.e,i=r.node,s=this.state.oldDragItem,l=this.state.layout,c=this.props.cols,d=(0,a.getLayoutItem)(l,e);if(d){var u={w:d.w,h:d.h,x:d.x,y:d.y,placeholder:!0,i:e};l=(0,a.moveElement)(l,d,t,n,!0,this.props.preventCollision,(0,a.compactType)(this.props),c),this.props.onDrag(l,s,d,u,o,i),this.setState({layout:(0,a.compact)(l,(0,a.compactType)(this.props),c),activeDrag:u})}}},{key:"onDragStop",value:function(e,t,n,r){var o=r.e,i=r.node;if(this.state.activeDrag){var s=this.state.oldDragItem,l=this.state.layout,c=this.props,d=c.cols,u=c.preventCollision,p=(0,a.getLayoutItem)(l,e);if(p){l=(0,a.moveElement)(l,p,t,n,!0,u,(0,a.compactType)(this.props),d),this.props.onDragStop(l,s,p,null,o,i);var h=(0,a.compact)(l,(0,a.compactType)(this.props),d),f=this.state.oldLayout;this.setState({activeDrag:null,layout:h,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(h,f)}}}},{key:"onLayoutMaybeChanged",value:function(e,t){t||(t=this.state.layout),(0,o.default)(t,e)||this.props.onLayoutChange(e)}},{key:"onResizeStart",value:function(e,t,n,r){var o=r.e,i=r.node,s=this.state.layout,l=(0,a.getLayoutItem)(s,e);l&&(this.setState({oldResizeItem:(0,a.cloneLayoutItem)(l),oldLayout:this.state.layout}),this.props.onResizeStart(s,l,l,null,o,i))}},{key:"onResize",value:function(e,t,n,r){var o=r.e,i=r.node,s=this.state,l=s.layout,c=s.oldResizeItem,d=this.props,u=d.cols,p=d.preventCollision,f=(0,a.getLayoutItem)(l,e);if(f){var b;if(p){var g=(0,a.getAllCollisions)(l,h(h({},f),{},{w:t,h:n})).filter((function(e){return e.i!==f.i}));if(b=g.length>0){var m=1/0,y=1/0;g.forEach((function(e){e.x>f.x&&(m=Math.min(m,e.x)),e.y>f.y&&(y=Math.min(y,e.y))})),Number.isFinite(m)&&(f.w=m-f.x),Number.isFinite(y)&&(f.h=y-f.y)}}b||(f.w=t,f.h=n);var v={w:f.w,h:f.h,x:f.x,y:f.y,static:!0,i:e};this.props.onResize(l,c,f,v,o,i),this.setState({layout:(0,a.compact)(l,(0,a.compactType)(this.props),u),activeDrag:v})}}},{key:"onResizeStop",value:function(e,t,n,r){var o=r.e,i=r.node,s=this.state,l=s.layout,c=s.oldResizeItem,d=this.props.cols,u=(0,a.getLayoutItem)(l,e);this.props.onResizeStop(l,c,u,null,o,i);var p=(0,a.compact)(l,(0,a.compactType)(this.props),d),h=this.state.oldLayout;this.setState({activeDrag:null,layout:p,oldResizeItem:null,oldLayout:null}),this.onLayoutMaybeChanged(p,h)}},{key:"placeholder",value:function(){var e=this.state.activeDrag;if(!e)return null;var t=this.props,n=t.width,o=t.cols,i=t.margin,a=t.containerPadding,s=t.rowHeight,c=t.maxRows,d=t.useCSSTransforms,u=t.transformScale;return r.default.createElement(l.default,{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,className:"react-grid-placeholder",containerWidth:n,cols:o,margin:i,containerPadding:a||i,maxRows:c,rowHeight:s,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:d,transformScale:u},r.default.createElement("div",null))}},{key:"processGridItem",value:function(e,t){if(e&&e.key){var n=(0,a.getLayoutItem)(this.state.layout,String(e.key));if(!n)return null;var o=this.props,i=o.width,s=o.cols,c=o.margin,d=o.containerPadding,u=o.rowHeight,p=o.maxRows,h=o.isDraggable,f=o.isResizable,b=o.isBounded,g=o.useCSSTransforms,m=o.transformScale,y=o.draggableCancel,v=o.draggableHandle,O=o.resizeHandles,j=o.resizeHandle,S=this.state,x=S.mounted,w=S.droppingPosition,M="boolean"==typeof n.isDraggable?n.isDraggable:!n.static&&h,k="boolean"==typeof n.isResizable?n.isResizable:!n.static&&f,C=n.resizeHandles||O,P=M&&b&&!1!==n.isBounded;return r.default.createElement(l.default,{containerWidth:i,cols:s,margin:c,containerPadding:d||c,maxRows:p,rowHeight:u,cancel:y,handle:v,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:M,isResizable:k,isBounded:P,useCSSTransforms:g&&x,usePercentages:!x,transformScale:m,w:n.w,h:n.h,x:n.x,y:n.y,i:n.i,minH:n.minH,minW:n.minW,maxH:n.maxH,maxW:n.maxW,static:n.static,droppingPosition:t?w:void 0,resizeHandles:C,resizeHandle:j},e)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,o=t.style,s=t.isDroppable,l=t.innerRef,c=(0,i.default)("react-grid-layout",n),d=h({height:this.containerHeight()},o);return r.default.createElement("div",{ref:l,className:c,style:d,onDrop:s?this.onDrop:a.noop,onDragLeave:s?this.onDragLeave:a.noop,onDragEnter:s?this.onDragEnter:a.noop,onDragOver:s?this.onDragOver:a.noop},r.default.Children.map(this.props.children,(function(t){return e.processGridItem(t)})),s&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}])&&g(t.prototype,n),c&&g(t,c),u}(r.default.Component);t.default=w,S(w,"displayName","ReactGridLayout"),S(w,"propTypes",c.default),S(w,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:a.noop,onDragStart:a.noop,onDrag:a.noop,onDragStop:a.noop,onResizeStart:a.noop,onResize:a.noop,onResizeStop:a.noop,onDrop:a.noop})},fJi3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];var a=e.props.bounds;a="string"==typeof a?a:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(a);var s=i(e);if("string"==typeof a){var l,c=s.ownerDocument,d=c.defaultView;if(!((l="parent"===a?s.parentNode:c.querySelector(a))instanceof d.HTMLElement))throw new Error('Bounds selector "'+a+'" could not find an element.');var u=d.getComputedStyle(s),p=d.getComputedStyle(l);a={left:-s.offsetLeft+(0,r.int)(p.paddingLeft)+(0,r.int)(u.marginLeft),top:-s.offsetTop+(0,r.int)(p.paddingTop)+(0,r.int)(u.marginTop),right:(0,o.innerWidth)(l)-(0,o.outerWidth)(s)-s.offsetLeft+(0,r.int)(p.paddingRight)-(0,r.int)(u.marginRight),bottom:(0,o.innerHeight)(l)-(0,o.outerHeight)(s)-s.offsetTop+(0,r.int)(p.paddingBottom)-(0,r.int)(u.marginBottom)}}(0,r.isNum)(a.right)&&(t=Math.min(t,a.right));(0,r.isNum)(a.bottom)&&(n=Math.min(n,a.bottom));(0,r.isNum)(a.left)&&(t=Math.max(t,a.left));(0,r.isNum)(a.top)&&(n=Math.max(n,a.top));return[t,n]},t.snapToGrid=function(e,t,n){var r=Math.round(t/e[0])*e[0],o=Math.round(n/e[1])*e[1];return[r,o]},t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.getControlPosition=function(e,t,n){var r="number"==typeof t?(0,o.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;var a=i(n),s=n.props.offsetParent||a.offsetParent||a.ownerDocument.body;return(0,o.offsetXYFromParent)(r||e,s,n.props.scale)},t.createCoreData=function(e,t,n){var o=e.state,a=!(0,r.isNum)(o.lastX),s=i(e);return a?{node:s,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:s,deltaX:t-o.lastX,deltaY:n-o.lastY,lastX:o.lastX,lastY:o.lastY,x:t,y:n}},t.createDraggableData=function(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}};var r=n("gbW8"),o=n("8N4D");function i(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},gR9h:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("q1tI"),o=n("/MKj"),i=n("kDLi"),a=n("p1x6"),s=n("nKUr");const l=({repeat:e,onChange:t})=>{const n=Object(o.useSelector)(e=>Object(a.g)(e)),l=Object(r.useMemo)(()=>{const e=n.map(e=>({label:e.name,value:e.name}));return 0===e.length&&e.unshift({label:"No template variables found",value:null}),e.unshift({label:"Disable repeating",value:null}),e},[n]),c=Object(r.useCallback)(e=>t(e.value),[t]);return Object(s.jsx)(i.Select,{value:e,onChange:c,options:l})}},gbW8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findInArray=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.isFunction=function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"==typeof e&&!isNaN(e)},t.int=function(e){return parseInt(e,10)},t.dontSetMe=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}},ihjy:function(e,t,n){var r=n("Fxvz"),o=n("17x9");e.exports=function(e,t,n){var o=e[t];if(o){var i=[];if(Object.keys(o).forEach((function(e){-1===r.indexOf(e)&&i.push(e)})),i.length)throw new Error("Prop "+t+" passed to "+n+". Has invalid keys "+i.join(", "))}},e.exports.isRequired=function(t,n,r){if(!t[n])throw new Error("Prop "+n+" passed to "+r+" is required");return e.exports(t,n,r)},e.exports.supportingArrays=o.oneOfType([o.arrayOf(e.exports),e.exports])},jcCG:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("q1tI");var r=n("vF1F"),o=n("nKUr");const i=({logoUrl:e,title:t,description:n,labels:i,actions:a,onClick:s,ariaLabel:l,className:c})=>{const d=Object(r.cx)("add-data-source-item",c);return Object(o.jsxs)("div",{className:d,onClick:s,"aria-label":l,children:[e&&Object(o.jsx)("img",{className:"add-data-source-item-logo",src:e}),Object(o.jsxs)("div",{className:"add-data-source-item-text-wrapper",children:[Object(o.jsx)("span",{className:"add-data-source-item-text",children:t}),n&&Object(o.jsx)("span",{className:"add-data-source-item-desc",children:n}),i&&Object(o.jsx)("div",{className:"add-data-source-item-badge",children:i})]}),a&&Object(o.jsx)("div",{className:"add-data-source-item-actions",children:a})]})}},jqYm:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n("q1tI"))&&r.__esModule?r:{default:r},i=n("doQp"),a=n("VzO5"),s=n("H4m+");function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return p(u(t=e.call.apply(e,[this].concat(r))||this),"state",void 0),p(u(t),"lastHandleRect",null),p(u(t),"slack",null),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=r.prototype;return s.componentWillUnmount=function(){this.resetData()},s.lockAspectRatio=function(e,t,n){return[e=(t=e/n)*n,t]},s.resetData=function(){this.lastHandleRect=this.slack=null},s.runConstraints=function(e,t){var n=[this.props.minConstraints,this.props.maxConstraints],r=n[0],o=n[1];if(!r&&!o)return[e,t];if(this.props.lockAspectRatio)if(t===this.props.height){var i=this.props.width/this.props.height;e=(t=e/i)*i}else{var a=this.props.height/this.props.width;t=(e=t/a)*a}var s=e,l=t,c=this.slack||[0,0],d=c[0],u=c[1];return e+=d,t+=u,r&&(e=Math.max(r[0],e),t=Math.max(r[1],t)),o&&(e=Math.min(o[0],e),t=Math.min(o[1],t)),this.slack=[d+(s-e),u+(l-t)],[e,t]},s.resizeHandler=function(e,t){var n=this;return function(r,o){var i=o.node,a=o.deltaX,s=o.deltaY;"onResizeStart"===e&&n.resetData();var l=("both"===n.props.axis||"x"===n.props.axis)&&"n"!==t&&"s"!==t,c=("both"===n.props.axis||"y"===n.props.axis)&&"e"!==t&&"w"!==t;if(l||c){var d=t[0],u=t[t.length-1],p=i.getBoundingClientRect();if(null!=n.lastHandleRect){if("w"===u)a+=p.left-n.lastHandleRect.left;if("n"===d)s+=p.top-n.lastHandleRect.top}n.lastHandleRect=p,"w"===u&&(a=-a),"n"===d&&(s=-s);var h=n.props.width+(l?a/n.props.transformScale:0),f=n.props.height+(c?s/n.props.transformScale:0),b=n.runConstraints(h,f);h=b[0],f=b[1];var g=h!==n.props.width||f!==n.props.height,m="function"==typeof n.props[e]?n.props[e]:null;m&&!("onResize"===e&&!g)&&("function"==typeof r.persist&&r.persist(),m(r,{node:i,size:{width:h,height:f},handle:t})),"onResizeStop"===e&&n.resetData()}}},s.renderResizeHandle=function(e){var t=this.props.handle;return t?"function"==typeof t?t(e):t:o.default.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+e})},s.render=function(){var e=this,t=this.props,n=t.children,r=t.className,s=t.draggableOpts,c=(t.width,t.height,t.handle,t.handleSize,t.lockAspectRatio,t.axis,t.minConstraints,t.maxConstraints,t.onResize,t.onResizeStop,t.onResizeStart,t.resizeHandles),u=(t.transformScale,function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"]));return(0,a.cloneElement)(n,d(d({},u),{},{className:(r?r+" ":"")+"react-resizable",children:[].concat(n.props.children,c.map((function(t){return o.default.createElement(i.DraggableCore,l({},s,{key:"resizableHandle-"+t,onStop:e.resizeHandler("onResizeStop",t),onStart:e.resizeHandler("onResizeStart",t),onDrag:e.resizeHandler("onResize",t)}),e.renderResizeHandle(t))})))}))},r}(o.default.Component);t.default=h,p(h,"propTypes",s.resizableProps),p(h,"defaultProps",{handleSize:[20,20],lockAspectRatio:!1,axis:"both",minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1})},kt0J:function(e,t,n){"use strict";var r,o=n("q1tI"),i=n("/MKj"),a=n("t8hP"),s=n("UlFs"),l=n("kDLi"),c=n("Hi79"),d=n("nKUr");const u=({data:e,metadataDatasource:t})=>{var n;return t&&null!==(n=t.components)&&void 0!==n&&n.MetadataInspector?Object(d.jsx)(t.components.MetadataInspector,{datasource:t,data:e.series}):r||(r=Object(d.jsx)("div",{children:"No Metadata Inspector"}))};var p=n("vF1F"),h=n("Obii");const f=({tab:e,tabs:t,onSelectTab:n,data:r})=>{const o=Object(l.useTheme)(),i=b(o);return Object(d.jsxs)(d.Fragment,{children:[r&&Object(d.jsx)("div",{className:"muted",children:g(r)}),Object(d.jsx)(l.TabsBar,{className:i.tabsBar,children:t.map((t,r)=>Object(d.jsx)(l.Tab,{label:t.label,active:t.value===e,onChangeTab:()=>n(t)},`${t.value}-${r}`))})]})},b=Object(l.stylesFactory)(e=>({tabsBar:p.css`
      padding-left: ${e.spacing.md};
      margin: ${e.spacing.lg} -${e.spacing.sm} -${e.spacing.lg} -${e.spacing.lg};
    `}));function g(e){const{request:t}=e;if(!t)return"";const n=t.targets.length,r=t.endTime?t.endTime-t.startTime:0;return`${n} queries with total query time of ${Object(h.formattedValueToString)(Object(h.getValueFormat)("ms")(r))}`}var m,y,v=n("HgkN"),O=n("LInY"),j=n("SVrL"),S=n("qGIo"),x=n("6PW0"),w=n("/e1h");const M=({panel:e,data:t})=>{const n=window.grafanaPanelInspectActionSupplier;if(!n)return m||(m=Object(d.jsx)("div",{children:"Missing actions"}));const r=n.getActions(e);return null!=r&&r.length?Object(d.jsx)("div",{children:r.map((n,r)=>Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:n.title}),Object(d.jsx)("span",{children:n.description}),Object(d.jsx)(n.component,{panel:e,data:t})]},r))}):y||(y=Object(d.jsx)("div",{children:"No actions avaliable"}))},k=({panel:e,plugin:t,dashboard:n,tabs:r,data:i,isDataLoading:s,dataOptions:p,metadataDatasource:h,defaultTab:b,onDataOptionsChange:g,onClose:m})=>{const[y,k]=Object(o.useState)(null!=b?b:w.a.Data);if(!t)return null;const C=Object(c.a)(),P=null==i?void 0:i.error;let z=y;r.find(e=>e.value===y)||(z=w.a.JSON);const D=Object(a.getTemplateSrv)().replace(e.title,e.scopedVars,"text");return Object(d.jsxs)(l.Drawer,{title:"Inspect: "+(D||"Panel"),subtitle:Object(d.jsx)(f,{tabs:r,tab:z,data:i,onSelectTab:e=>k(e.value||w.a.Data)}),width:"50%",onClose:m,expandable:!0,children:[z===w.a.Data&&Object(d.jsx)(x.a,{panel:e,data:i&&i.series,isLoading:s,options:p,onOptionsChange:g}),Object(d.jsx)(l.CustomScrollbar,{autoHeightMin:"100%",children:Object(d.jsxs)(l.TabContent,{className:C.tabContent,children:[i&&z===w.a.Meta&&Object(d.jsx)(u,{data:i,metadataDatasource:h}),z===w.a.JSON&&Object(d.jsx)(v.a,{panel:e,dashboard:n,data:i,onClose:m}),z===w.a.Error&&Object(d.jsx)(S.a,{error:P}),i&&z===w.a.Stats&&Object(d.jsx)(j.a,{data:i,timeZone:n.getTimezone()}),i&&z===w.a.Query&&Object(d.jsx)(O.a,{panel:e,data:i.series,onRefreshQuery:()=>e.refresh()}),z===w.a.Actions&&Object(d.jsx)(M,{panel:e,data:i})]})})]})};var C=n("aBYM"),P=n.n(C),z=n("sCrc");var D=n("Ty5D");n.d(t,"a",(function(){return T}));const T=Object(i.connect)((e,t)=>{const n=e.dashboard.panels[t.panel.id];return n?{plugin:n.plugin}:{plugin:null}})(({panel:e,dashboard:t,plugin:n})=>{const[r,i]=Object(o.useState)({withTransforms:!1,withFieldConfig:!0}),l=Object(D.l)(),{data:c,isLoading:u,error:p}=Object(s.a)(e,r,!0),h=(e=>P()(async()=>{var t;const n=(null==e||null===(t=e.request)||void 0===t?void 0:t.targets)||[];if(e&&e.series&&n.length)for(const t of e.series)if(t.meta&&t.meta.custom){var r;const e=await Object(a.getDataSourceSrv)().get(n[0].datasource);if(e&&null!==(r=e.components)&&void 0!==r&&r.MetadataInspector)return e}},[e]).value)(c),f=((e,t,n,r,i)=>Object(o.useMemo)(()=>{const o=[];Object(z.b)(n)&&(o.push({label:"Data",value:w.a.Data}),o.push({label:"Stats",value:w.a.Stats})),i&&o.push({label:"Meta Data",value:w.a.Meta}),o.push({label:"JSON",value:w.a.JSON}),r&&r.message&&o.push({label:"Error",value:w.a.Error});const a=window.grafanaPanelInspectActionSupplier;return a&&a.getActions(e)&&o.push({label:"Actions",value:w.a.Actions}),t.meta.canEdit&&Object(z.b)(n)&&o.push({label:"Query",value:w.a.Query}),o},[e,n,i,t,r]))(e,t,n,p,h),b=new URLSearchParams(l.search).get("inspectTab");return n?Object(d.jsx)(k,{dashboard:t,panel:e,plugin:n,defaultTab:b,tabs:f,data:c,isDataLoading:u,dataOptions:r,onDataOptionsChange:i,metadataDatasource:h,onClose:()=>{a.locationService.partial({inspect:null,inspectTab:null})}}):null})},lEZL:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("jYz7"),s=n("vF1F"),l=n("pugT"),c=n("Csm0"),d=n("kDLi"),u=n("ZFWI"),p=n("HJRA"),h=n("sCrc"),f=n("Obii"),b=n("jcCG");const g={[f.DocsId.Transformations]:"https://grafana.com/docs/grafana/latest/panels/transformations",[f.DocsId.FieldConfig]:"https://grafana.com/docs/grafana/latest/panels/field-configuration-options/",[f.DocsId.FieldConfigOverrides]:"https://grafana.com/docs/grafana/latest/panels/field-configuration-options/#override-a-field"};var m,y=n("ngQI"),v=n("psW0"),O=n("nKUr");function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const S=({debugMode:e,index:t,data:n,uiConfig:i,configs:a,onChange:s})=>{const l=Object(d.useStyles)(x),[u,p]=Object(r.useState)([]),[h,b]=Object(r.useState)([]),g=Object(r.useMemo)(()=>a[t],[a,t]);Object(r.useEffect)(()=>{const e=a.slice(0,t).map(e=>e.transformation),r=a.slice(t,t+1).map(e=>e.transformation),o=Object(f.transformDataFrame)(e,n).subscribe(p),i=Object(f.transformDataFrame)(e,n).pipe(Object(v.b)(e=>Object(f.transformDataFrame)(r,e))).subscribe(b);return function(){o.unsubscribe(),i.unsubscribe()}},[t,n,a]);const y=Object(r.useMemo)(()=>o.a.createElement(i.editor,{options:j({},i.transformation.defaultOptions,g.transformation.options),input:u,onChange:e=>{s(t,{id:g.transformation.id,options:e})}}),[i.editor,i.transformation.defaultOptions,g.transformation.options,g.transformation.id,u,s,t]);return Object(O.jsxs)("div",{className:l.editor,"aria-label":c.selectors.components.TransformTab.transformationEditor(i.name),children:[y,e&&Object(O.jsxs)("div",{className:l.debugWrapper,"aria-label":c.selectors.components.TransformTab.transformationEditorDebugger(i.name),children:[Object(O.jsxs)("div",{className:l.debug,children:[Object(O.jsx)("div",{className:l.debugTitle,children:"Transformation input data"}),Object(O.jsx)("div",{className:l.debugJson,children:Object(O.jsx)(d.JSONFormatter,{json:u})})]}),Object(O.jsx)("div",{className:l.debugSeparator,children:m||(m=Object(O.jsx)(d.Icon,{name:"arrow-right"}))}),Object(O.jsxs)("div",{className:l.debug,children:[Object(O.jsx)("div",{className:l.debugTitle,children:"Transformation output data"}),Object(O.jsx)("div",{className:l.debugJson,children:h&&Object(O.jsx)(d.JSONFormatter,{json:h})})]})]})]})},x=e=>{const t=e.isLight?e.palette.gray85:e.palette.gray15;return{title:s.css`
      display: flex;
      padding: 4px 8px 4px 8px;
      position: relative;
      height: 35px;
      border-radius: 4px 4px 0 0;
      flex-wrap: nowrap;
      justify-content: space-between;
      align-items: center;
    `,name:s.css`
      font-weight: ${e.typography.weight.semibold};
      color: ${e.colors.textBlue};
    `,iconRow:s.css`
      display: flex;
    `,icon:s.css`
      background: transparent;
      border: none;
      box-shadow: none;
      cursor: pointer;
      color: ${e.colors.textWeak};
      margin-left: ${e.spacing.sm};
      &:hover {
        color: ${e.colors.text};
      }
    `,editor:s.css``,debugWrapper:s.css`
      display: flex;
      flex-direction: row;
    `,debugSeparator:s.css`
      width: 48px;
      min-height: 300px;
      display: flex;
      align-items: center;
      align-self: stretch;
      justify-content: center;
      margin: 0 ${e.spacing.xs};
      color: ${e.colors.textBlue};
    `,debugTitle:s.css`
      padding: ${e.spacing.sm} ${e.spacing.xxs};
      font-family: ${e.typography.fontFamily.monospace};
      font-size: ${e.typography.size.sm};
      color: ${e.colors.text};
      border-bottom: 1px solid ${t};
      flex-grow: 0;
      flex-shrink: 1;
    `,debug:s.css`
      margin-top: ${e.spacing.sm};
      padding: 0 ${e.spacing.sm} ${e.spacing.sm} ${e.spacing.sm};
      border: 1px solid ${t};
      background: ${e.isLight?e.palette.white:e.palette.gray05};
      border-radius: ${e.border.radius.sm};
      width: 100%;
      min-height: 300px;
      display: flex;
      flex-direction: column;
      align-self: stretch;
    `,debugJson:s.css`
      flex-grow: 1;
      height: 100%;
      overflow: hidden;
      padding: ${e.spacing.xs};
    `}};var w=n("lcF4"),M=n("s51j");const k=({onRemove:e,index:t,id:n,data:o,configs:i,uiConfig:a,onChange:s})=>{const[l,c]=Object(r.useState)(!1);return Object(O.jsx)(w.a,{id:n,index:t,title:a.name,draggable:!0,actions:({isOpen:n})=>Object(O.jsxs)(d.HorizontalGroup,{align:"center",width:"auto",children:[Object(O.jsx)(M.a,{title:"Debug",disabled:!n,icon:"bug",onClick:()=>{c(!l)}}),Object(O.jsx)(M.a,{title:"Remove",icon:"trash-alt",onClick:()=>e(t)})]}),children:Object(O.jsx)(S,{debugMode:l,index:t,data:o,configs:i,uiConfig:a,onChange:s})})},C=({data:e,onChange:t,onRemove:n,configs:r})=>Object(O.jsx)(O.Fragment,{children:r.map((o,i)=>{const a=f.standardTransformersRegistry.getIfExists(o.transformation.id);return a?Object(O.jsx)(k,{index:i,id:""+o.id,data:e,configs:r,uiConfig:a,onRemove:n,onChange:t},""+o.id):null})});var P=n("bfds"),z=n("eLz+"),D=n("t8hP");const T=({message:e,dispatch:t})=>{let n=Object(i.useDispatch)();n=null!=t?t:n;const o=Object(r.useCallback)(()=>{D.locationService.partial({tab:z.b.Query})},[]);return Object(O.jsx)(P.c,{justify:"center",style:{marginTop:"100px"},children:Object(O.jsxs)(d.VerticalGroup,{spacing:"md",children:[Object(O.jsx)("h2",{children:e}),Object(O.jsx)("div",{children:Object(O.jsx)(d.Button,{size:"md",variant:"secondary",icon:"arrow-left",onClick:o,children:"Go back to Queries"})})]})})};var R,B,W,E=n("GQ3c"),I=n("mtHS");function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class A extends o.a.PureComponent{constructor(e){super(e),this.subscription=void 0,this.onSearchChange=e=>{this.setState({search:e.target.value})},this.onSearchKeyDown=e=>{if("Enter"===e.key){const{search:e}=this.state;if(e){const t=e.toLowerCase(),n=f.standardTransformersRegistry.list().filter(e=>(e.name+e.description).toLowerCase().indexOf(t)>=0);n.length>0&&this.onTransformationAdd({value:n[0].id})}}else 27===e.keyCode&&(this.setState({search:"",showPicker:!1}),e.stopPropagation())},this.getTransformationNextId=e=>{const{transformations:t}=this.state;let n=0;const r=t.filter(t=>t.id.startsWith(e)).map(e=>e.id);return 0!==r.length&&(n=Math.max(...r.map(e=>parseInt(e.match(/\d+/)[0],10)))+1),`${e}-${n}`},this.onTransformationAdd=e=>{const{transformations:t}=this.state,n=this.getTransformationNextId(e.value);this.setState({search:"",showPicker:!1}),this.onChange([...t,{id:n,transformation:{id:e.value,options:{}}}])},this.onTransformationChange=(e,t)=>{const{transformations:n}=this.state,r=Array.from(n);r[e].transformation=t,this.onChange(r)},this.onTransformationRemove=e=>{const{transformations:t}=this.state,n=Array.from(t);n.splice(e,1),this.onChange(n)},this.onDragEnd=e=>{const{transformations:t}=this.state;if(!e||!e.destination)return;const n=e.source.index,r=e.destination.index;if(n===r)return;const o=Array.from(t),[i]=o.splice(n,1);o.splice(r,0,i),this.onChange(o)},this.renderTransformationEditors=()=>{const{data:e,transformations:t}=this.state;return Object(O.jsx)(y.a,{onDragEnd:this.onDragEnd,children:Object(O.jsx)(y.c,{droppableId:"transformations-list",direction:"vertical",children:n=>Object(O.jsxs)("div",N({ref:n.innerRef},n.droppableProps,{children:[Object(O.jsx)(C,{configs:t,data:e,onRemove:this.onTransformationRemove,onChange:this.onTransformationChange}),n.placeholder]}))})})};const t=e.panel.transformations||[],n=this.buildTransformationIds(t);this.state={transformations:t.map((e,t)=>({transformation:e,id:n[t]})),data:[],search:""}}buildTransformationIds(e){const t={},n=[];for(let r=0;r<e.length;r++){const o=e[r];void 0===t[o.id]?t[o.id]=0:t[o.id]+=1,n.push(`${e[r].id}-${t[e[r].id]}`)}return n}componentDidMount(){this.subscription=this.props.panel.getQueryRunner().getData({withTransforms:!1,withFieldConfig:!1}).subscribe({next:e=>this.setState({data:e.series})})}componentWillUnmount(){this.subscription&&this.subscription.unsubscribe()}onChange(e){this.setState({transformations:e}),this.props.panel.setTransformations(e.map(e=>e.transformation))}renderTransformsPicker(){const{transformations:e,search:t}=this.state;let n=null,r=f.standardTransformersRegistry.list();if(t){const e=t.toLowerCase(),o=r.filter(t=>(t.name+t.description).toLowerCase().indexOf(e)>=0);n=Object(O.jsxs)(O.Fragment,{children:[o.length," / ",r.length,"   ",Object(O.jsx)(d.IconButton,{name:"times",surface:"header",onClick:()=>{this.setState({search:""})}})]}),r=o}const o=!(null!=e&&e.length),i=o||this.state.showPicker;return n||!i||o||(n=Object(O.jsx)(d.IconButton,{name:"times",surface:"header",onClick:()=>{this.setState({showPicker:!1})}})),Object(O.jsxs)(O.Fragment,{children:[o&&Object(O.jsx)(d.Container,{grow:1,children:Object(O.jsx)(I.a,{storageKey:"dashboard.components.TransformationEditor.featureInfoBox.isDismissed",defaultValue:!1,children:(e,t)=>{return e?null:Object(O.jsxs)(d.Alert,{title:"Transformations",onRemove:()=>{t(!0)},severity:"info",children:[R||(R=Object(O.jsxs)("p",{children:["Transformations allow you to join, calculate, re-order, hide, and rename your query results before they are visualized. ",Object(O.jsx)("br",{}),"Many transforms are not suitable if you're using the Graph visualization, as it currently only only supports time series data. ",Object(O.jsx)("br",{}),"It can help to switch to the Table visualization to understand what a transformation is doing."," "]})),Object(O.jsx)("a",{href:(n=f.DocsId.Transformations,g[n]),className:"external-link",target:"_blank",rel:"noreferrer",children:"Read more"})]});var n}})}),i?Object(O.jsxs)(d.VerticalGroup,{children:[Object(O.jsx)(d.Input,{"aria-label":c.selectors.components.Transforms.searchInput,value:null!=t?t:"",autoFocus:!o,placeholder:"Add transformation",onChange:this.onSearchChange,onKeyDown:this.onSearchKeyDown,suffix:n}),r.map(e=>Object(O.jsx)(L,{title:e.name,description:e.description,actions:B||(B=Object(O.jsx)(d.Button,{children:"Select"})),ariaLabel:c.selectors.components.TransformTab.newTransform(e.name),onClick:()=>{this.onTransformationAdd({value:e.id})}},e.name))]}):Object(O.jsx)(d.Button,{icon:"plus",variant:"secondary",onClick:()=>{this.setState({showPicker:!0})},children:"Add transformation"})]})}render(){const{panel:{alert:e}}=this.props,{transformations:t}=this.state,n=t.length>0;return!n&&e?W||(W=Object(O.jsx)(T,{message:"Transformations can't be used on a panel with existing alerts"})):Object(O.jsx)(d.CustomScrollbar,{autoHeightMin:"100%",children:Object(O.jsx)(d.Container,{padding:"md",children:Object(O.jsxs)("div",{"aria-label":c.selectors.components.TransformTab.content,children:[n&&e?Object(O.jsx)(d.Alert,{severity:E.AppNotificationSeverity.Error,title:"Transformations can't be used on a panel with alerts"}):null,n&&this.renderTransformationEditors(),this.renderTransformsPicker()]})})})}}const L=e=>{const t=Object(d.useStyles2)(F);return Object(O.jsx)(b.a,N({},e,{className:t.card}))},F=e=>({card:s.css`
      background: ${e.colors.background.secondary};
      width: 100%;
      border: none;
      padding: ${e.spacing(1)};

      // hack because these cards use classes from a very different card for some reason
      .add-data-source-item-text {
        font-size: ${e.typography.size.md};
      }

      &:hover {
        background: ${e.colors.action.hover};
        box-shadow: none;
        border: none;
      }
    `}),_=Object(d.withTheme)(A);var H=n("xAj+"),G=n("DcPX");function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class V extends r.PureComponent{constructor(...e){super(...e),this.onRemoveQuery=e=>{this.props.onQueriesChange(this.props.queries.filter(t=>t!==e))},this.onDragEnd=e=>{const{queries:t,onQueriesChange:n}=this.props;if(!e||!e.destination)return;const r=e.source.index,o=e.destination.index;if(r===o)return;const i=Array.from(t),[a]=i.splice(r,1);i.splice(o,0,a),n(i)}}onChangeQuery(e,t){const{queries:n,onQueriesChange:r}=this.props;r(n.map((n,r)=>r===t?e:n))}onDataSourceChange(e,t){const{queries:n,onQueriesChange:r}=this.props;r(n.map((n,r)=>{if(r!==t)return n;if(n.datasource){const t=Object(D.getDataSourceSrv)().getInstanceSettings(n.datasource);if((null==t?void 0:t.type)===e.type)return U({},n,{datasource:e.name})}return{refId:n.refId,hide:n.hide,datasource:e.name}}))}render(){const{dsSettings:e,data:t,queries:n}=this.props;return Object(O.jsx)(y.a,{onDragEnd:this.onDragEnd,children:Object(O.jsx)(y.c,{droppableId:"transformations-list",direction:"vertical",children:r=>Object(O.jsxs)("div",U({ref:r.innerRef},r.droppableProps,{children:[n.map((r,o)=>{const i=$(r,e),a=e.meta.mixed?e=>this.onDataSourceChange(e,o):void 0;return Object(O.jsx)(G.a,{id:r.refId,index:o,data:t,query:r,dataSource:i,onChangeDataSource:a,onChange:e=>this.onChangeQuery(e,o),onRemoveQuery:this.onRemoveQuery,onAddQuery:this.props.onAddQuery,onRunQuery:this.props.onRunQueries,queries:n},r.refId)}),r.placeholder]}))})})}}const $=(e,t)=>{if(!e.datasource)return t;return Object(D.getDataSourceSrv)().getInstanceSettings(e.datasource)||t};var q,Q,X,Y,K,J,Z,ee,te,ne=n("NXk7"),re=n("OG+f"),oe=n("bMS5"),ie=n("exx3");function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class se extends r.PureComponent{constructor(e){var t,n,r,o;super(e),this.onRelativeTimeChange=e=>{this.setState({timeRangeFrom:e.target.value})},this.onTimeShiftChange=e=>{this.setState({timeRangeShift:e.target.value})},this.onOverrideTime=e=>{var t;const{options:n,onChange:r}=this.props,o=ce(e.target.value),i=le(o);var a;i&&(null===(t=n.timeRange)||void 0===t?void 0:t.from)!==o&&r(ae({},n,{timeRange:ae({},null!==(a=n.timeRange)&&void 0!==a?a:{},{from:o})}));this.setState({relativeTimeIsValid:i})},this.onTimeShift=e=>{var t;const{options:n,onChange:r}=this.props,o=ce(e.target.value),i=le(o);var a;i&&(null===(t=n.timeRange)||void 0===t?void 0:t.shift)!==o&&r(ae({},n,{timeRange:ae({},null!==(a=n.timeRange)&&void 0!==a?a:{},{shift:o})}));this.setState({timeShiftIsValid:i})},this.onToggleTimeOverride=()=>{const{onChange:e,options:t}=this.props;this.setState({timeRangeHide:!this.state.timeRangeHide},()=>{var n;e(ae({},t,{timeRange:ae({},null!==(n=t.timeRange)&&void 0!==n?n:{},{hide:this.state.timeRangeHide})}))})},this.onCacheTimeoutBlur=e=>{const{options:t,onChange:n}=this.props;n(ae({},t,{cacheTimeout:ce(e.target.value)}))},this.onMaxDataPointsBlur=e=>{const{options:t,onChange:n}=this.props;let r=parseInt(e.target.value,10);(isNaN(r)||0===r)&&(r=null),r!==t.maxDataPoints&&n(ae({},t,{maxDataPoints:r}))},this.onMinIntervalBlur=e=>{const{options:t,onChange:n}=this.props,r=ce(e.target.value);r!==t.minInterval&&n(ae({},t,{minInterval:r}))},this.onOpenOptions=()=>{this.setState({isOpen:!0})},this.onCloseOptions=()=>{this.setState({isOpen:!1})};const{options:i}=e;this.state={timeRangeFrom:(null===(t=i.timeRange)||void 0===t?void 0:t.from)||"",timeRangeShift:(null===(n=i.timeRange)||void 0===n?void 0:n.shift)||"",timeRangeHide:null!==(r=null===(o=i.timeRange)||void 0===o?void 0:o.hide)&&void 0!==r&&r,isOpen:!1,relativeTimeIsValid:!0,timeShiftIsValid:!0}}renderCacheTimeoutOption(){var e,t;const{dataSource:n,options:r}=this.props;return null!==(e=n.meta.queryOptions)&&void 0!==e&&e.cacheTimeout?Object(O.jsx)("div",{className:"gf-form-inline",children:Object(O.jsxs)("div",{className:"gf-form",children:[Object(O.jsx)(d.InlineFormLabel,{width:9,tooltip:"If your time series store has a query cache this option can override the default cache timeout. Specify a\n    numeric value in seconds.",children:"Cache timeout"}),Object(O.jsx)(d.Input,{type:"text",className:"width-6",placeholder:"60",spellCheck:!1,onBlur:this.onCacheTimeoutBlur,defaultValue:null!==(t=r.cacheTimeout)&&void 0!==t?t:""})]})}):null}renderMaxDataPointsOption(){var e,t;const{data:n,options:r}=this.props,o=null===(e=n.request)||void 0===e?void 0:e.maxDataPoints,i=null!==(t=r.maxDataPoints)&&void 0!==t?t:"",a=""===i;return Object(O.jsx)("div",{className:"gf-form-inline",children:Object(O.jsxs)("div",{className:"gf-form",children:[q||(q=Object(O.jsx)(d.InlineFormLabel,{width:9,tooltip:Object(O.jsx)(O.Fragment,{children:"The maximum data points per series. Used directly by some data sources and used in calculation of auto interval. With streaming data this value is used for the rolling buffer."}),children:"Max data points"})),Object(O.jsx)(d.Input,{type:"number",className:"width-6",placeholder:""+o,spellCheck:!1,onBlur:this.onMaxDataPointsBlur,defaultValue:i}),a&&Object(O.jsxs)(O.Fragment,{children:[Q||(Q=Object(O.jsx)("div",{className:"gf-form-label query-segment-operator",children:"="})),X||(X=Object(O.jsx)("div",{className:"gf-form-label",children:"Width of panel"}))]})]})})}renderIntervalOption(){var e,t,n;const{data:r,dataSource:o,options:i}=this.props,a=null===(e=r.request)||void 0===e?void 0:e.interval,s=null!==(t=o.interval)&&void 0!==t?t:"No limit";return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"gf-form-inline",children:Object(O.jsxs)("div",{className:"gf-form",children:[Y||(Y=Object(O.jsx)(d.InlineFormLabel,{width:9,tooltip:Object(O.jsxs)(O.Fragment,{children:["A lower limit for the interval. Recommended to be set to write frequency, for example ",Object(O.jsx)("code",{children:"1m"})," ","if your data is written every minute. Default value can be set in data source settings for most data sources."]}),children:"Min interval"})),Object(O.jsx)(d.Input,{type:"text",className:"width-6",placeholder:""+s,spellCheck:!1,onBlur:this.onMinIntervalBlur,defaultValue:null!==(n=i.minInterval)&&void 0!==n?n:""})]})}),Object(O.jsx)("div",{className:"gf-form-inline",children:Object(O.jsxs)("div",{className:"gf-form",children:[K||(K=Object(O.jsx)(d.InlineFormLabel,{width:9,tooltip:Object(O.jsxs)(O.Fragment,{children:["The evaluated interval that is sent to data source and is used in ",Object(O.jsx)("code",{children:"$__interval"})," and"," ",Object(O.jsx)("code",{children:"$__interval_ms"})]}),children:"Interval"})),Object(O.jsx)(d.InlineFormLabel,{width:6,children:a}),J||(J=Object(O.jsx)("div",{className:"gf-form-label query-segment-operator",children:"="})),Z||(Z=Object(O.jsx)("div",{className:"gf-form-label",children:"Time range / max data points"}))]})})]})}renderCollapsedText(e){var t;const{data:n,options:r}=this.props,{isOpen:o}=this.state;if(o)return;let i=null!==(t=r.maxDataPoints)&&void 0!==t?t:"";""===i&&n.request&&(i="auto = "+n.request.maxDataPoints);let a=r.minInterval;return n.request&&(a=""+n.request.interval),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:e.collapsedText,children:["MD = ",i]}),Object(O.jsxs)("div",{className:e.collapsedText,children:["Interval = ",a]})]})}render(){const{timeRangeHide:e,relativeTimeIsValid:t,timeShiftIsValid:n}=this.state,{timeRangeFrom:r,timeRangeShift:o,isOpen:i}=this.state,a=de();return Object(O.jsxs)(w.a,{id:"Query options",index:0,title:"Query options",headerElement:this.renderCollapsedText(a),isOpen:i,onOpen:this.onOpenOptions,onClose:this.onCloseOptions,children:[this.renderMaxDataPointsOption(),this.renderIntervalOption(),this.renderCacheTimeoutOption(),Object(O.jsxs)("div",{className:"gf-form",children:[ee||(ee=Object(O.jsx)(d.InlineFormLabel,{width:9,children:"Relative time"})),Object(O.jsx)(d.Input,{type:"text",className:"width-6",placeholder:"1h",onChange:this.onRelativeTimeChange,onBlur:this.onOverrideTime,invalid:!t,value:r})]}),Object(O.jsxs)("div",{className:"gf-form",children:[te||(te=Object(O.jsx)("span",{className:"gf-form-label width-9",children:"Time shift"})),Object(O.jsx)(d.Input,{type:"text",className:"width-6",placeholder:"1h",onChange:this.onTimeShiftChange,onBlur:this.onTimeShift,invalid:!n,value:o})]}),(o||r)&&Object(O.jsx)("div",{className:"gf-form-inline",children:Object(O.jsx)(d.InlineField,{label:"Hide time info",labelWidth:18,children:Object(O.jsx)(d.Switch,{value:e,onChange:this.onToggleTimeOverride})})})]})}}const le=e=>!e||f.rangeUtil.isValidTimeSpan(e),ce=e=>""===e?null:e,de=Object(d.stylesFactory)(()=>{const{theme:e}=u.a;return{collapsedText:s.css`
      margin-left: ${e.spacing.md};
      font-size: ${e.typography.size.sm};
      color: ${e.colors.textWeak};
    `}});var ue,pe,he,fe=n("4RCQ");function be(){return(be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class ge extends r.PureComponent{constructor(...e){super(...e),this.backendSrv=ne.b,this.dataSourceSrv=Object(D.getDataSourceSrv)(),this.querySubscription=null,this.state={isLoadingHelp:!1,helpContent:null,isPickerOpen:!1,isAddingMixed:!1,isHelpOpen:!1,scrollTop:0,data:{state:f.LoadingState.NotStarted,series:[],timeRange:Object(f.getDefaultTimeRange)()}},this.onChangeDataSource=async e=>{let{queries:t}=this.props.options;const{dsSettings:n}=this.state;if(e.meta.mixed)for(const e of t)e.datasource!==ie.a&&(e.datasource=null==n?void 0:n.name,e.datasource||(e.datasource=u.b.defaultDatasource));else if(n)if(n.meta.mixed)for(const e of t)e.datasource!==ie.a&&delete e.datasource;else n.meta.id!==e.meta.id&&(t=[{refId:"A"}]);const r=await this.dataSourceSrv.get(e.name);this.onChange({queries:t,dataSource:{name:e.name,uid:e.uid,default:e.isDefault}}),this.setState({dataSource:r,dsSettings:e})},this.onAddQueryClick=()=>{const{options:e}=this.props;this.onChange({queries:Object(oe.a)(e.queries,this.newQuery())}),this.onScrollBottom()},this.onAddExpressionClick=()=>{this.onChange({queries:Object(oe.a)(this.props.options.queries,ie.c.newQuery())}),this.onScrollBottom()},this.onScrollBottom=()=>{this.setState({scrollTop:1e3})},this.onUpdateAndRun=e=>{this.props.onOptionsChange(e),this.props.onRunQueries()},this.onOpenHelp=()=>{this.setState({isHelpOpen:!0})},this.onCloseHelp=()=>{this.setState({isHelpOpen:!1})},this.renderMixedPicker=()=>Object(O.jsx)(D.DataSourcePicker,{mixed:!1,onChange:this.onAddMixedQuery,current:null,autoFocus:!0,variables:!0,onBlur:this.onMixedPickerBlur,openMenuOnFocus:!0}),this.onAddMixedQuery=e=>{this.onAddQuery({datasource:e.name}),this.setState({isAddingMixed:!1,scrollTop:this.state.scrollTop+1e4})},this.onMixedPickerBlur=()=>{this.setState({isAddingMixed:!1})},this.onAddQuery=e=>{const{queries:t}=this.props.options;this.onChange({queries:Object(oe.a)(t,e)}),this.onScrollBottom()},this.setScrollTop=({scrollTop:e})=>{this.setState({scrollTop:e})},this.onQueriesChange=e=>{this.onChange({queries:e})}}async componentDidMount(){const{queryRunner:e,options:t}=this.props;this.querySubscription=e.getData({withTransforms:!1,withFieldConfig:!1}).subscribe({next:e=>this.onPanelDataUpdate(e)});try{const e=await this.dataSourceSrv.get(t.dataSource.name),n=this.dataSourceSrv.getInstanceSettings(t.dataSource.name),r=await this.dataSourceSrv.get();this.setState({dataSource:e,dsSettings:n,defaultDataSource:r})}catch(e){console.log("failed to load data source",e)}}componentWillUnmount(){this.querySubscription&&(this.querySubscription.unsubscribe(),this.querySubscription=null)}onPanelDataUpdate(e){this.setState({data:e})}newQuery(){const{dsSettings:e,defaultDataSource:t}=this.state;return null!=e&&e.meta.mixed?{datasource:null==t?void 0:t.name}:{}}onChange(e){this.props.onOptionsChange(be({},this.props.options,e))}renderTopSection(e){const{onOpenQueryInspector:t,options:n}=this.props,{dataSource:r,data:o}=this.state;return Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:e.dataSourceRow,children:[ue||(ue=Object(O.jsx)(d.InlineFormLabel,{width:"auto",children:"Data source"})),Object(O.jsx)("div",{className:e.dataSourceRowItem,children:Object(O.jsx)(D.DataSourcePicker,{onChange:this.onChangeDataSource,current:n.dataSource.name,metrics:!0,mixed:!0,dashboard:!0,variables:!0})}),r&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:e.dataSourceRowItem,children:Object(O.jsx)(d.Button,{variant:"secondary",icon:"question-circle",title:"Open data source help",onClick:this.onOpenHelp})}),Object(O.jsx)("div",{className:e.dataSourceRowItemOptions,children:Object(O.jsx)(se,{options:n,dataSource:r,data:o,onChange:this.onUpdateAndRun})}),t&&Object(O.jsx)("div",{className:e.dataSourceRowItem,children:Object(O.jsx)(d.Button,{variant:"secondary",onClick:t,"aria-label":c.selectors.components.QueryTab.queryInspectorButton,children:"Query inspector"})})]})]})})}renderQueries(e){const{options:t,onRunQueries:n}=this.props,{data:r}=this.state;return Object(fe.b)(e.name)?Object(O.jsx)(fe.a,{queries:t.queries,panelData:r,onChange:this.onQueriesChange,onRunQueries:n}):Object(O.jsx)("div",{"aria-label":c.selectors.components.QueryTab.content,children:Object(O.jsx)(V,{queries:t.queries,dsSettings:e,onQueriesChange:this.onQueriesChange,onAddQuery:this.onAddQuery,onRunQueries:n,data:r})})}isExpressionsSupported(e){return!0===(e.meta.alerting||e.meta.mixed)}renderAddQueryRow(e,t){const{isAddingMixed:n}=this.state,r=!(n||Object(fe.b)(e.name));return Object(O.jsxs)(d.HorizontalGroup,{spacing:"md",align:"flex-start",children:[r&&Object(O.jsx)(d.Button,{icon:"plus",onClick:this.onAddQueryClick,variant:"secondary","aria-label":c.selectors.components.QueryTab.addQuery,children:"Query"}),u.b.expressionsEnabled&&this.isExpressionsSupported(e)&&Object(O.jsx)(d.Tooltip,{content:"Beta feature: queries could stop working in next version",placement:"right",children:Object(O.jsxs)(d.Button,{icon:"plus",onClick:this.onAddExpressionClick,variant:"secondary",className:t.expressionButton,children:[pe||(pe=Object(O.jsx)("span",{children:"Expression "})),he||(he=Object(O.jsx)(d.Icon,{name:"exclamation-triangle",className:"muted",size:"sm"}))]})})]})}render(){const{scrollTop:e,isHelpOpen:t,dsSettings:n}=this.state,r=me();return Object(O.jsx)(d.CustomScrollbar,{autoHeightMin:"100%",scrollTop:e,setScrollTop:this.setScrollTop,children:Object(O.jsxs)("div",{className:r.innerWrapper,children:[this.renderTopSection(r),n&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:r.queriesWrapper,children:this.renderQueries(n)}),this.renderAddQueryRow(n,r),t&&Object(O.jsx)(d.Modal,{title:"Data source help",isOpen:!0,onDismiss:this.onCloseHelp,children:Object(O.jsx)(re.a,{plugin:n.meta,type:"query_help"})})]})]})})}}const me=Object(d.stylesFactory)(()=>{const{theme:e}=u.b;return{innerWrapper:s.css`
      display: flex;
      flex-direction: column;
      height: 100%;
      padding: ${e.spacing.md};
    `,dataSourceRow:s.css`
      display: flex;
      margin-bottom: ${e.spacing.md};
    `,dataSourceRowItem:s.css`
      margin-right: ${e.spacing.inlineFormMargin};
    `,dataSourceRowItemOptions:s.css`
      flex-grow: 1;
      margin-right: ${e.spacing.inlineFormMargin};
    `,queriesWrapper:s.css`
      padding-bottom: 16px;
    `,expressionWrapper:s.css``,expressionButton:s.css`
      margin-right: ${e.spacing.sm};
    `}});class ye extends r.PureComponent{constructor(e){super(e),this.onRunQueries=()=>{this.props.panel.refresh()},this.onOpenQueryInspector=()=>{Object(D.getLocationSrv)().update({query:{inspect:this.props.panel.id,inspectTab:"query"},partial:!0})},this.onOptionsChange=e=>{const{panel:t}=this.props,n=(e.dataSource.default?null:e.dataSource.name)!==t.datasource;t.updateQueries(e),n&&setTimeout(this.onRunQueries,10),this.forceUpdate()}}buildQueryOptions(e){return{dataSource:{name:e.datasource},queries:e.targets,maxDataPoints:e.maxDataPoints,minInterval:e.interval,timeRange:{from:e.timeFrom,shift:e.timeShift,hide:e.hideTimeOverride}}}render(){const{panel:e}=this.props,t=this.buildQueryOptions(e);return Object(O.jsx)(ge,{options:t,queryRunner:e.getQueryRunner(),onRunQueries:this.onRunQueries,onOpenQueryInspector:this.onOpenQueryInspector,onOptionsChange:this.onOptionsChange})}}var ve,Oe,je=n("2nhE"),Se=n("QQVG"),xe=n("3ulR");class we extends r.PureComponent{constructor(...e){super(...e),this.state={stateHistoryItems:[]},this.clearHistory=async()=>{const{dashboard:e,panelId:t,onRefresh:n}=this.props;await Object(D.getBackendSrv)().post("/api/annotations/mass-delete",{dashboardId:e.id,panelId:t}),this.setState({stateHistoryItems:[]}),n()}}componentDidMount(){const{dashboard:e,panelId:t}=this.props;Object(D.getBackendSrv)().get(`/api/annotations?dashboardId=${e.id}&panelId=${t}&limit=50&type=alert`,{},`state-history-${e.id}-${t}`).then(t=>{const n=t.map(t=>({stateModel:xe.b.getStateDisplayModel(t.newState),time:e.formatDate(t.time,"MMM D, YYYY HH:mm:ss"),info:xe.b.getAlertAnnotationInfo(t)}));this.setState({stateHistoryItems:n})})}render(){const{stateHistoryItems:e}=this.state;return Object(O.jsxs)("div",{children:[e.length>0&&Object(O.jsxs)("div",{className:"p-b-1",children:[ve||(ve=Object(O.jsx)("span",{className:"muted",children:"Last 50 state changes"})),Object(O.jsx)(d.ConfirmButton,{onConfirm:this.clearHistory,confirmVariant:"destructive",confirmText:"Clear",children:Object(O.jsx)(d.Button,{className:s.css`
                  direction: ltr;
                `,variant:"destructive",icon:"trash-alt",children:"Clear history"})})]}),Object(O.jsx)("ol",{className:"alert-rule-list",children:e.length>0?e.map((e,t)=>Object(O.jsxs)("li",{className:"alert-rule-item",children:[Object(O.jsx)("div",{className:"alert-rule-item__icon "+e.stateModel.stateClass,children:Object(O.jsx)(d.Icon,{name:e.stateModel.iconClass,size:"xl"})}),Object(O.jsxs)("div",{className:"alert-rule-item__body",children:[Object(O.jsxs)("div",{className:"alert-rule-item__header",children:[Object(O.jsx)("p",{className:"alert-rule-item__name",children:e.alertName}),Object(O.jsx)("div",{className:"alert-rule-item__text",children:Object(O.jsx)("span",{className:""+e.stateModel.stateClass,children:e.stateModel.text})})]}),e.info]}),Object(O.jsx)("div",{className:"alert-rule-item__time",children:e.time})]},`${e.time}-${t}`)):Oe||(Oe=Object(O.jsx)("i",{children:"No state changes recorded"}))})]})}}var Me,ke,Ce,Pe,ze,De=we,Te=(n("eK0o"),n("Xmxp")),Re=n("ttS0");function Be(){return(Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class We extends r.PureComponent{constructor(...e){super(...e),this.state={isLoading:!1,allNodesExpanded:null,testRuleResponse:{}},this.formattedJson=void 0,this.clipboard=void 0,this.setFormattedJson=e=>{this.formattedJson=e},this.getTextForClipboard=()=>JSON.stringify(this.formattedJson,null,2),this.onClipboardSuccess=()=>{Te.b.emit(f.AppEvents.alertSuccess,["Content copied to clipboard"])},this.onToggleExpand=()=>{this.setState(e=>Be({},e,{allNodesExpanded:!this.state.allNodesExpanded}))},this.getNrOfOpenNodes=()=>null===this.state.allNodesExpanded?3:this.state.allNodesExpanded?20:1,this.renderExpandCollapse=()=>{const{allNodesExpanded:e}=this.state,t=Object(O.jsxs)(O.Fragment,{children:[Me||(Me=Object(O.jsx)(d.Icon,{name:"minus-circle"}))," Collapse All"]}),n=Object(O.jsxs)(O.Fragment,{children:[ke||(ke=Object(O.jsx)(d.Icon,{name:"plus-circle"}))," Expand All"]});return e?t:n}}componentDidMount(){this.testRule()}async testRule(){const{dashboard:e,panel:t}=this.props,n=e.getSaveModelClone();n.panels=n.panels.map(e=>e.id===t.editSourceId?t.getSaveModel():e);const r={dashboard:n,panelId:t.id};this.setState({isLoading:!0});const o=await Object(D.getBackendSrv)().post("/api/alerts/test",r);this.setState({isLoading:!1,testRuleResponse:o})}render(){const{testRuleResponse:e,isLoading:t}=this.state;if(!0===t)return Ce||(Ce=Object(O.jsx)(d.LoadingPlaceholder,{text:"Evaluating rule"}));const n=this.getNrOfOpenNodes();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"pull-right",children:Object(O.jsxs)(d.HorizontalGroup,{spacing:"md",children:[Object(O.jsx)("div",{onClick:this.onToggleExpand,children:this.renderExpandCollapse()}),Object(O.jsxs)(Re.a,{elType:"div",text:this.getTextForClipboard,onSuccess:this.onClipboardSuccess,children:[Pe||(Pe=Object(O.jsx)(d.Icon,{name:"copy"}))," Copy to Clipboard"]})]})}),Object(O.jsx)(d.JSONFormatter,{json:e,open:n,onDidRender:this.setFormattedJson})]})}}function Ee(){return(Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class Ie extends r.PureComponent{constructor(...e){super(...e),this.element=void 0,this.component=void 0,this.panelCtrl=void 0,this.state={validationMessage:"",showStateHistory:!1,showDeleteConfirmation:!1,showTestRule:!1},this.onAngularPanelUpdated=()=>{this.forceUpdate()},this.onAddAlert=()=>{var e,t;null===(e=this.panelCtrl)||void 0===e||e._enableAlert(),null===(t=this.component)||void 0===t||t.digest(),this.forceUpdate()},this.onToggleModal=e=>{const t=this.state[e];this.setState(Ee({},this.state,{[e]:!t}))},this.renderTestRule=()=>{if(!this.state.showTestRule)return null;const{panel:e,dashboard:t}=this.props,n=()=>this.onToggleModal("showTestRule");return Object(O.jsx)(d.Modal,{isOpen:!0,icon:"bug",title:"Testing rule",onDismiss:n,onClickBackdrop:n,children:Object(O.jsx)(We,{panel:e,dashboard:t})})},this.renderDeleteConfirmation=()=>{if(!this.state.showDeleteConfirmation)return null;const{panel:e}=this.props,t=()=>this.onToggleModal("showDeleteConfirmation");return Object(O.jsx)(d.ConfirmModal,{isOpen:!0,icon:"trash-alt",title:"Delete",body:ze||(ze=Object(O.jsxs)("div",{children:["Are you sure you want to delete this alert rule?",Object(O.jsx)("br",{}),Object(O.jsx)("small",{children:"You need to save dashboard for the delete to take effect."})]})),confirmText:"Delete alert",onDismiss:t,onConfirm:()=>{var n;delete e.alert,e.thresholds=[],this.panelCtrl&&(this.panelCtrl.alertState=null,this.panelCtrl.render()),null===(n=this.component)||void 0===n||n.digest(),t()}})},this.renderStateHistory=()=>{var e;if(!this.state.showStateHistory)return null;const{panel:t,dashboard:n}=this.props,r=()=>this.onToggleModal("showStateHistory");return Object(O.jsx)(d.Modal,{isOpen:!0,icon:"history",title:"State history",onDismiss:r,onClickBackdrop:r,children:Object(O.jsx)(De,{dashboard:n,panelId:null!==(e=t.editSourceId)&&void 0!==e?e:t.id,onRefresh:()=>{var e;return null===(e=this.panelCtrl)||void 0===e?void 0:e.refresh()}})})}}componentDidMount(){this.loadAlertTab()}componentDidUpdate(e){this.loadAlertTab()}componentWillUnmount(){this.component&&this.component.destroy()}async loadAlertTab(){const{panel:e,angularPanelComponent:t}=this.props;if(!this.element||this.component)return;if(t){const e=t.getScope();if(!e.$$childHead)return void setTimeout(()=>{this.forceUpdate()});this.panelCtrl=e.$$childHead.ctrl}else this.panelCtrl=this.getReactAlertPanelCtrl();const n=Object(D.getAngularLoader)(),r={ctrl:this.panelCtrl};this.component=n.load(this.element,r,"<alert-tab />");const o=await Object(je.a)(e.transformations,e.targets,Object(D.getDataSourceSrv)(),e.datasource);o&&this.setState({validationMessage:o})}getReactAlertPanelCtrl(){return{panel:this.props.panel,events:new f.EventBusSrv,render:()=>{this.props.panel.render()}}}render(){const{alert:e,transformations:t}=this.props.panel,{validationMessage:n}=this.state,r=t&&t.length>0;if(!e&&n)return Object(O.jsx)(T,{message:n});const o={title:"Panel has no alert rule defined",buttonIcon:"bell",onClick:this.onAddAlert,buttonTitle:"Create Alert"};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(d.CustomScrollbar,{autoHeightMin:"100%",children:Object(O.jsx)(d.Container,{padding:"md",children:Object(O.jsxs)("div",{"aria-label":c.selectors.components.AlertTab.content,children:[e&&r&&Object(O.jsx)(d.Alert,{severity:E.AppNotificationSeverity.Error,title:"Transformations are not supported in alert queries"}),Object(O.jsx)("div",{ref:e=>this.element=e}),e&&Object(O.jsxs)(d.HorizontalGroup,{children:[Object(O.jsx)(d.Button,{onClick:()=>this.onToggleModal("showStateHistory"),variant:"secondary",children:"State history"}),Object(O.jsx)(d.Button,{onClick:()=>this.onToggleModal("showTestRule"),variant:"secondary",children:"Test rule"}),Object(O.jsx)(d.Button,{onClick:()=>this.onToggleModal("showDeleteConfirmation"),variant:"destructive",children:"Delete"})]}),!e&&!n&&Object(O.jsx)(Se.a,Ee({},o))]})})}),this.renderTestRule(),this.renderDeleteConfirmation(),this.renderStateHistory()]})}}const Ne=Object(i.connect)((e,t)=>({angularPanelComponent:e.dashboard.panels[t.panel.id].angularComponent}),{})(Ie);var Ae,Le=n("R6rR"),Fe=n("Ty5D");const _e=({dashboard:e,panel:t,className:n})=>{const r=Object(Le.e)(t,e),o=Object(Fe.l)();if(!r)return Ae||(Ae=Object(O.jsx)(d.Alert,{severity:"info",title:"No alerting capable query found",children:"Cannot create alerts from this panel because no query to an alerting capable datasource is found."}));const i=f.urlUtil.renderUrl("alerting/new",{defaults:JSON.stringify(r),returnTo:o.pathname+o.search});return Object(O.jsx)(d.LinkButton,{icon:"bell",href:i,className:n,children:"Create alert rule from this panel"})};var He,Ge,Ue,Ve=n("RLby"),$e=n("4Yfp"),qe=n("d6cIB"),Qe=n("Jzaf"),Xe=n("fXZ9"),Ye=n("O6qV"),Ke=n("w+lj");function Je({dashboard:e,panel:t,poll:n=!1}){var o,a;const s=Object(i.useDispatch)(),l=null!==(o=Object(Ke.a)(e=>e.promRules[Qe.b]))&&void 0!==o?o:Xe.c,c=null!==(a=Object(Ke.a)(e=>e.rulerRules[Qe.b]))&&void 0!==a?a:Xe.c;Object(r.useEffect)(()=>{const e=()=>{s(Object($e.n)(Qe.b)),s(Object($e.o)(Qe.b))};if(e(),n){const t=setInterval(e,qe.e);return()=>{clearInterval(t)}}return()=>{}},[s,n]);const d=l.loading||c.loading,u=[l.error,c.error].filter(e=>!!e),p=Object(Ye.a)(Qe.b);return{rules:Object(r.useMemo)(()=>p.flatMap(e=>e.groups).flatMap(e=>e.rules).filter(n=>n.annotations[qe.c.dashboardUID]===e.uid&&n.annotations[qe.c.panelID]===String(t.editSourceId)),[p,e,t]),errors:u,loading:d}}const Ze=e=>({newButton:s.css`
    margin-top: ${e.spacing(3)};
  `,innerWrapper:s.css`
    padding: ${e.spacing(2)};
  `,noRulesWrapper:s.css`
    margin: ${e.spacing(2)};
    background-color: ${e.colors.background.secondary};
    padding: ${e.spacing(3)};
  `});var et=D.config.featureToggles.ngalert?({dashboard:e,panel:t})=>{var n;const r=Object(d.useStyles2)(Ze),{errors:o,loading:i,rules:a}=Je({dashboard:e,panel:t,poll:!0}),s=o.length?Object(O.jsx)(d.Alert,{title:"Errors loading rules",severity:"error",children:o.map((e,t)=>Object(O.jsxs)("div",{children:["Failed to load Grafana rules state: ",e.message||"Unknown error."]},t))}):null;return i&&!a.length?Object(O.jsxs)("div",{className:r.innerWrapper,children:[s,He||(He=Object(O.jsx)(d.LoadingPlaceholder,{text:"Loading rules..."}))]}):a.length?Object(O.jsx)(d.CustomScrollbar,{autoHeightMin:"100%",children:Object(O.jsxs)("div",{className:r.innerWrapper,children:[s,n||(n=Object(O.jsx)(Ve.a,{rules:a})),!!e.meta.canSave&&Object(O.jsx)(_e,{className:r.newButton,panel:t,dashboard:e})]})}):Object(O.jsxs)("div",{className:r.noRulesWrapper,children:[s,!!e.uid&&Object(O.jsxs)(O.Fragment,{children:[Ge||(Ge=Object(O.jsx)("p",{children:"There are no alert rules linked to this panel."})),!!e.meta.canSave&&Object(O.jsx)(_e,{panel:t,dashboard:e})]}),!e.uid&&!!e.meta.canSave&&(Ue||(Ue=Object(O.jsx)(d.Alert,{severity:"info",title:"Dashboard not saved",children:"Dashboard must be saved before alerts can be added."})))]})}:Ne,tt=n("cYXP");function nt(){return(nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const rt=e=>{let{panel:t,dashboard:n}=e,r=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["panel","dashboard"]);const{rules:o,loading:i}=Je({panel:t,dashboard:n});return Object(O.jsx)(tt.a,nt({},r,{counter:i?null:o.length}))},ot=o.a.memo(({panel:e,dashboard:t,tabs:n,onChangeTab:o})=>{const i=Object(d.useForceUpdate)(),a=Object(d.useStyles2)(at);Object(r.useEffect)(()=>{const t=new l.a;return t.add(e.events.subscribe(H.PanelQueriesChangedEvent,i)),t.add(e.events.subscribe(H.PanelTransformationsChangedEvent,i)),()=>t.unsubscribe()},[e,i]);const s=n.find(e=>e.active);return 0===n.length?null:Object(O.jsxs)("div",{className:a.wrapper,children:[Object(O.jsx)(d.TabsBar,{className:a.tabBar,children:n.map(n=>D.config.featureToggles.ngalert&&n.id===z.b.Alert?Object(O.jsx)(rt,{label:n.text,active:n.active,onChangeTab:()=>o(n),icon:n.icon,panel:e,dashboard:t},n.id):Object(O.jsx)(d.Tab,{label:n.text,active:n.active,onChangeTab:()=>o(n),icon:n.icon,counter:it(e,n)},n.id))}),Object(O.jsxs)(d.TabContent,{className:a.tabContent,children:[s.id===z.b.Query&&Object(O.jsx)(ye,{panel:e,queries:e.targets}),s.id===z.b.Alert&&Object(O.jsx)(et,{panel:e,dashboard:t}),s.id===z.b.Transform&&Object(O.jsx)(_,{panel:e})]})]})});function it(e,t){var n;switch(t.id){case z.b.Query:return e.targets.length;case z.b.Alert:return e.alert?1:0;case z.b.Transform:return(null!==(n=e.getTransformations())&&void 0!==n?n:[]).length}return null}ot.displayName="PanelEditorTabs";const at=e=>({wrapper:s.css`
      display: flex;
      flex-direction: column;
      height: 100%;
    `,tabBar:s.css`
      padding-left: ${e.spacing(2)};
    `,tabContent:s.css`
      padding: 0;
      display: flex;
      flex-direction: column;
      flex-grow: 1;
      min-height: 0;
      background: ${e.colors.background.primary};
      border-right: 1px solid ${e.components.panel.borderColor};
    `});var st=n("maUf"),lt=n("tEy8");const ct=({plugin:e,toggleVizPicker:t,isPanelOptionsVisible:n,isVizPickerOpen:r,setPanelEditorUIState:o})=>{const i=Object(d.useStyles)(dt);return e?Object(O.jsx)("div",{className:i.wrapper,children:Object(O.jsxs)(d.ButtonGroup,{children:[Object(O.jsx)(d.ToolbarButton,{className:i.vizButton,tooltip:"Click to change visualization",imgSrc:e.meta.info.logos.small,isOpen:r,onClick:()=>{t(!r)},"aria-label":c.selectors.components.PanelEditor.toggleVizPicker,fullWidth:!0,children:e.meta.name}),Object(O.jsx)(d.ToolbarButton,{tooltip:n?"Close options pane":"Show options pane",icon:n?"angle-right":"angle-left",onClick:()=>{o({isPanelOptionsVisible:!n})},"aria-label":c.selectors.components.PanelEditor.toggleVizOptions})]})}):null};ct.displayName="VisualizationTabUnconnected";const dt=e=>({wrapper:s.css`
      display: flex;
      flex-direction: column;
    `,vizButton:s.css`
      text-align: left;
    `}),ut={toggleVizPicker:lt.g,setPanelEditorUIState:lt.e},pt=Object(i.connect)((e,t)=>({plugin:e.plugins.panels[t.panel.type],isPanelOptionsVisible:e.panelEditor.ui.isPanelOptionsVisible,isVizPickerOpen:e.panelEditor.isVizPickerOpen}),ut,void 0,{forwardRef:!0})(ct);var ht=n("GkHB"),ft=n("gR9h"),bt=n("WG1l"),gt=n.n(bt);class mt{constructor(e){this.parent=void 0,this.props=e}getLabel(e){const{title:t,description:n}=this.props;if(!e)return this.parent.props.title===t?null:t;const r=[];return this.parent.parent&&r.push(this.highlightWord(this.parent.parent.props.title,e)),this.parent.props.title!==t&&r.push(this.highlightWord(this.parent.props.title,e)),Object(O.jsx)(d.Label,{description:n&&this.highlightWord(n,e),category:r,children:this.highlightWord(t,e)})}highlightWord(e,t){return Object(O.jsx)(gt.a,{textToHighlight:e,searchWords:[t],highlightClassName:"search-fragment-highlight"})}render(e){const{title:t,description:n,render:r,showIf:o,skipField:i}=this.props,a=`${this.parent.props.id} ${t}`;return o&&!o()?null:i?r():Object(O.jsx)(d.Field,{label:this.getLabel(e),description:n,"aria-label":c.selectors.components.PanelEditor.OptionsPane.fieldLabel(a),children:r()},a)}}var yt=n("EnUn");const vt=o.a.memo(({id:e,title:t,children:n,forceOpen:o,isOpenDefault:i,renderTitle:a,className:l,itemsCount:u,isNested:p=!1})=>{var h;const[f,b]=Object(yt.a)(jt(e),{isExpanded:!1!==i}),[g,m]=Object(r.useState)(f.isExpanded),y=Object(d.useStyles2)(Ot);Object(r.useEffect)(()=>{!g&&o&&o>0&&m(!0)},[o,g]);const v=Object(r.useCallback)(()=>{b({isExpanded:!g}),m(!g)},[b,m,g]);a||(a=function(e){return e||void 0===u||0===u?t:h||(h=Object(O.jsxs)("span",{children:[t," ",Object(O.jsx)(d.Counter,{value:u})]}))});const j=Object(s.cx)({[y.box]:!0,[y.boxExpanded]:g,[y.boxNestedExpanded]:p&&g},l,"options-group"),S=Object(s.cx)(y.header,{[y.headerExpanded]:g,[y.headerNested]:p}),x=Object(s.cx)(y.body,{[y.bodyNested]:p});return Object(O.jsxs)("div",{className:j,"data-testid":"options-category","aria-label":c.selectors.components.OptionsGroup.group(e),children:[Object(O.jsxs)("div",{className:S,onClick:v,"aria-label":c.selectors.components.OptionsGroup.toggle(e),children:[Object(O.jsx)("div",{className:Object(s.cx)(y.toggle,"editor-options-group-toggle"),children:Object(O.jsx)(d.Icon,{name:g?"angle-down":"angle-right"})}),Object(O.jsx)("div",{className:y.title,role:"heading",children:a(g)})]}),g&&Object(O.jsx)("div",{className:x,children:n})]})}),Ot=e=>({box:s.css`
      border-bottom: 1px solid ${e.colors.border.weak};
      &:last-child {
        border-bottom: none;
      }
    `,boxExpanded:s.css`
      border-bottom: 0;
    `,boxNestedExpanded:s.css`
      margin-bottom: ${e.spacing(2)};
    `,toggle:s.css`
      color: ${e.colors.text.secondary};
      margin-right: ${e.spacing(1)};
    `,title:s.css`
      flex-grow: 1;
      overflow: hidden;
    `,header:s.css`
      display: flex;
      cursor: pointer;
      align-items: baseline;
      padding: ${e.spacing(1)};
      color: ${e.colors.text.primary};
      font-weight: ${e.typography.fontWeightMedium};

      &:hover {
        background: ${e.colors.emphasize(e.colors.background.primary,.03)};
      }
    `,headerExpanded:s.css`
      color: ${e.colors.text.primary};
    `,headerNested:s.css`
      padding: ${e.spacing(.5,0,.5,0)};
    `,body:s.css`
      padding: ${e.spacing(1,2,1,4)};
    `,bodyNested:s.css`
      position: relative;
      padding-right: 0;
      &:before {
        content: '';
        position: absolute;
        top: 0;
        left: 8px;
        width: 1px;
        height: 100%;
        background: ${e.colors.border.weak};
      }
    `}),jt=e=>`${lt.a}.optionGroup[${e}]`;function St(){return(St=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class xt{constructor(e){this.items=[],this.categories=[],this.parent=void 0,this.props=e}addItem(e){return e.parent=this,this.items.push(e),this}addCategory(e){return e.props.isNested=!0,e.parent=this,this.categories.push(e),this}render(e){return this.props.customRender?this.props.customRender():Object(O.jsxs)(vt,St({},this.props,{children:[this.items.map(e=>e.render()),this.categories.map(e=>e.render())]}),this.props.title)}}var wt,Mt=n("Mk6Z");const kt=({panel:e,formatDate:t})=>{var n;const r=Object(d.useStyles)(Ct);return Object(Mt.a)(e)?Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("p",{className:r.libraryPanelInfo,children:[`Used on ${e.libraryPanel.meta.connectedDashboards} `,1===e.libraryPanel.meta.connectedDashboards?"dashboard":"dashboards",wt||(wt=Object(O.jsx)("br",{})),"Last edited on ",null!==(n=null==t?void 0:t(e.libraryPanel.meta.updated,"L"))&&void 0!==n?n:e.libraryPanel.meta.updated," by",e.libraryPanel.meta.updatedBy.avatarUrl&&Object(O.jsx)("img",{width:"22",height:"22",className:r.userAvatar,src:e.libraryPanel.meta.updatedBy.avatarUrl,alt:"Avatar for "+e.libraryPanel.meta.updatedBy.name}),e.libraryPanel.meta.updatedBy.name]})}):null},Ct=e=>({libraryPanelInfo:s.css`
      color: ${e.colors.textSemiWeak};
      font-size: ${e.typography.size.sm};
      margin-left: ${e.spacing.xxs};
    `,userAvatar:s.css`
      border-radius: 50%;
      box-sizing: content-box;
      width: 22px;
      height: 22px;
      padding-left: ${e.spacing.sm};
      padding-right: ${e.spacing.sm};
    `});function Pt(e){var t;const{panel:n,onPanelConfigChange:r,dashboard:o}=e,i=new xt({title:"Panel options",id:"Panel options",isOpenDefault:!0});return Object(Mt.a)(n)&&i.addItem(new mt({title:"Library panel information",render:function(){return Object(O.jsx)(kt,{panel:n,formatDate:o.formatDate})}})),i.addItem(new mt({title:"Title",value:n.title,popularRank:1,render:function(){return Object(O.jsx)(d.Input,{id:"PanelFrameTitle",defaultValue:n.title,onBlur:e=>r("title",e.currentTarget.value)})}})).addItem(new mt({title:"Description",description:n.description,value:n.description,render:function(){return Object(O.jsx)(d.TextArea,{defaultValue:n.description,onBlur:e=>r("description",e.currentTarget.value)})}})).addItem(new mt({title:"Transparent background",render:function(){return Object(O.jsx)(d.Switch,{value:n.transparent,id:"Transparent background",onChange:e=>r("transparent",e.currentTarget.checked)})}})).addCategory(new xt({title:"Panel links",id:"Panel links",isOpenDefault:!1,itemsCount:null===(t=n.links)||void 0===t?void 0:t.length}).addItem(new mt({title:"Panel links",render:function(){return Object(O.jsx)(d.DataLinksInlineEditor,{links:n.links,onChange:e=>r("links",e),getSuggestions:ht.c,data:[]})}}))).addCategory(new xt({title:"Repeat options",id:"Repeat options",isOpenDefault:!1}).addItem(new mt({title:"Repeat by variable",description:"Repeat this panel for each value in the selected variable. This is not visible while in edit mode. You need to go back to dashboard and then update the variable or reload the dashboard.",render:function(){return Object(O.jsx)(ft.a,{repeat:n.repeat,onChange:e=>{r("repeat",e)}})}})).addItem(new mt({title:"Repeat direction",showIf:()=>!!n.repeat,render:function(){return Object(O.jsx)(d.RadioButtonGroup,{options:[{label:"Horizontal",value:"h"},{label:"Vertical",value:"v"}],value:n.repeatDirection||"h",onChange:e=>r("repeatDirection",e)})}})).addItem(new mt({title:"Max per row",showIf:()=>Boolean(n.repeat&&"h"===n.repeatDirection),render:function(){const e=[2,3,4,6,8,12].map(e=>({label:e.toString(),value:e}));return Object(O.jsx)(d.Select,{options:e,value:n.maxPerRow,onChange:e=>r("maxPerRow",e.value)})}})))}var zt=n("LvDl");function Dt(){return(Dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Tt(e){const{plugin:t,panel:n,onPanelOptionsChanged:r,onFieldConfigsChange:o,data:i,dashboard:a}=e,s=n.getOptions(),l=n.fieldConfig,c={},d={data:(null==i?void 0:i.series)||[],replaceVariables:n.replaceVariables,options:s,eventBus:a.events,getSuggestions:e=>i?Object(ht.a)(i.series,e):[]},u=e=>{var n;const r=null!==(n=e&&e[0])&&void 0!==n?n:""+t.meta.name,o=c[r];return o||(c[r]=new xt({title:r,id:r}))};for(const e of t.optionEditors.list()){if(e.showIf&&!e.showIf(s,null==i?void 0:i.series))continue;const t=u(e.category),n=e.editor;t.addItem(new mt({title:e.name,description:e.description,render:function(){return Object(O.jsx)(n,{value:Object(zt.get)(s,e.path),onChange:t=>{const n=Object(zt.set)(Dt({},s),e.path,t);r(n)},item:e,context:d})}}))}for(const e of t.fieldConfigRegistry.list()){if(e.isCustom&&e.showIf&&!e.showIf(l.defaults.custom,null==i?void 0:i.series))continue;if(e.hideFromDefaults)continue;const t=u(e.category),n=e.editor,r=l.defaults,a=e.isCustom?r.custom?Object(zt.get)(r.custom,e.path):void 0:Object(zt.get)(r,e.path);e.getItemsCount&&(t.props.itemsCount=e.getItemsCount(a)),t.addItem(new mt({title:e.name,description:e.description,render:function(){return Object(O.jsx)(n,{value:a,onChange:t=>{o(Object(h.c)(l,e.path,t,e.isCustom))},item:e,context:d})}}))}return Object.values(c)}var Rt=n("EKT6");const Bt=({property:e,context:t,registry:n,onChange:r,onRemove:o,isSystemOverride:i})=>{var a,l;const c=Object(d.useTheme)(),u=Wt(c),p=null==n?void 0:n.getIfExists(e.id);if(!p)return null;const h=Array.isArray(e.value)||e.id===f.FieldConfigProperty.Thresholds||e.id===f.FieldConfigProperty.Links||e.id===f.FieldConfigProperty.Mappings,b=null===(a=p.category)||void 0===a?void 0:a.filter(e=>e!==p.name);let g;const m=(t=!0,n=!1)=>(r=!1)=>Object(O.jsxs)(d.HorizontalGroup,{justify:"space-between",children:[Object(O.jsxs)(d.Label,{category:b,description:t?p.description:void 0,children:[p.name,!r&&n&&p.getItemsCount&&Object(O.jsx)(d.Counter,{value:p.getItemsCount(e.value)})]}),!i&&(l||(l=Object(O.jsx)("div",{children:Object(O.jsx)(d.IconButton,{name:"times",onClick:o})})))]});return g=h?Object(O.jsx)(vt,{id:p.name,renderTitle:m(!1,!0),className:s.css`
          padding-left: 0;
          padding-right: 0;
        `,isNested:!0,isOpenDefault:void 0!==e.value,children:Object(O.jsx)(p.override,{value:e.value,onChange:e=>{r(e)},item:p,context:t})}):Object(O.jsx)("div",{children:Object(O.jsx)(d.Field,{label:m()(),description:p.description,children:Object(O.jsx)(p.override,{value:e.value,onChange:e=>{r(e)},item:p,context:t})})}),Object(O.jsx)("div",{className:Object(s.cx)(h&&u.collapsibleOverrideEditor,!h&&"dynamicConfigValueEditor--nonCollapsible"),children:g})},Wt=Object(d.stylesFactory)(e=>({collapsibleOverrideEditor:s.css`
      label: collapsibleOverrideEditor;
      & + .dynamicConfigValueEditor--nonCollapsible {
        margin-top: ${e.spacing.formSpacingBase}px;
      }
    `}));var Et;const It=({isExpanded:e,registry:t,matcherUi:n,overrideName:r,override:o,onOverrideRemove:i})=>{const a=Object(d.useStyles)(Nt),s=o.properties.map(e=>t.getIfExists(e.id)).filter(e=>!!e).map(e=>null==e?void 0:e.name).join(", "),l=n.optionsToLabel(o.matcher.options);return Object(O.jsxs)("div",{children:[Object(O.jsxs)(d.HorizontalGroup,{justify:"space-between",children:[Object(O.jsx)("div",{children:r}),e&&Object(O.jsx)(d.IconButton,{name:"trash-alt",onClick:i,title:"Remove override"})]}),!e&&Object(O.jsx)("div",{className:a.overrideDetails,children:Object(O.jsxs)("div",{className:a.options,title:l,children:[l," ",Et||(Et=Object(O.jsx)(d.Icon,{name:"angle-right"}))," ",s]})})]})};It.displayName="OverrideTitle";const Nt=e=>({matcherUi:s.css`
      padding: ${e.spacing.sm};
    `,propertyPickerWrapper:s.css`
      margin-top: ${2*e.spacing.formSpacingBase}px;
    `,overrideDetails:s.css`
      font-size: ${e.typography.size.sm};
      color: ${e.colors.textWeak};
      font-weight: ${e.typography.weight.regular};
    `,options:s.css`
      overflow: hidden;
      padding-right: ${e.spacing.xl};
    `,unknownLabel:s.css`
      margin-bottom: 0;
    `});function At(){return(At=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Lt(e){var t,n;const r=[],o=e.panel.fieldConfig,i=e.plugin.fieldConfigRegistry,a=null!==(t=null===(n=e.data)||void 0===n?void 0:n.series)&&void 0!==t?t:[];if(i.isEmpty())return[];const s=(t,n)=>{let r=Object(zt.cloneDeep)(o.overrides);r[t]=n,e.onFieldConfigsChange(At({},o,{overrides:r}))},l=t=>{let n=Object(zt.cloneDeep)(o.overrides);n.splice(t,1),e.onFieldConfigsChange(At({},o,{overrides:n}))},c={data:a,getSuggestions:e=>Object(ht.a)(a,e),isOverride:!0};for(let t=0;t<o.overrides.length;t++){const n=o.overrides[t],a="Override "+(t+1),u=d.fieldMatchersUI.get(n.matcher.id),p=Ft(i),h=Object(f.isSystemOverride)(n),b=0===n.properties.length?1:0,g=new xt({title:a,id:a,forceOpen:b,renderTitle:function(e){return Object(O.jsx)(It,{override:n,isExpanded:e,registry:i,overrideName:a,matcherUi:u,onOverrideRemove:()=>l(t)})}}),m=e=>{n.matcher.options=e,s(t,n)},y=(e,r)=>{const o=i.get(r.value),a={id:o.id,value:o.defaultValue};n.properties?e.properties.push(a):e.properties=[a],s(t,e)};g.addItem(new mt({title:u.name,render:function(){var t,r;return Object(O.jsx)(u.component,{matcher:u.matcher,data:null!==(t=null===(r=e.data)||void 0===r?void 0:r.series)&&void 0!==t?t:[],options:n.matcher.options,onChange:m})}}));for(let e=0;e<n.properties.length;e++){const r=n.properties[e],o=i.getIfExists(r.id);if(!o)continue;const a=r=>{n.properties[e].value=r,s(t,n)},l=()=>{n.properties.splice(e,1),s(t,n)};g.addItem(new mt({title:o.name,skipField:!0,render:function(){return Object(O.jsx)(Bt,{isSystemOverride:h,onChange:a,onRemove:l,property:r,registry:i,context:c},`${r.id}/${e}`)}}))}!h&&n.matcher.options&&g.addItem(new mt({title:"----------",skipField:!0,render:function(){return Object(O.jsx)(d.ValuePicker,{label:"Add override property",variant:"secondary",isFullWidth:!0,icon:"plus",menuPlacement:"auto",options:p,onChange:e=>y(n,e)})}})),r.push(g)}return r.push(new xt({title:"add button",id:"add button",customRender:function(){return Object(O.jsx)(d.Container,{padding:"md",children:Object(O.jsx)(d.ValuePicker,{icon:"plus",label:"Add field override",variant:"secondary",menuPlacement:"auto",isFullWidth:!0,size:"md",options:d.fieldMatchersUI.list().filter(e=>!e.excludeFromPicker).map(e=>({label:e.name,value:e.id,description:e.description})),onChange:t=>(t=>{e.onFieldConfigsChange(At({},o,{overrides:[...o.overrides,{matcher:{id:t.value},properties:[]}]}))})(t)})},"Add override")}})),r}function Ft(e){return e.list().filter(e=>!e.hideFromOverrides).map(e=>{let t=e.name;return e.category&&(t=[...e.category,e.name].join(" > ")),{label:t,value:e.id,description:e.description}})}class _t{constructor(e,t){this.categories=e,this.overrides=t}search(e){const t=new RegExp(e,"i"),n=this.collectHits(this.categories,t,[]).sort(Ht).map(e=>e.item),r=this.collectHits(this.overrides,t,[]).sort(Ht).map(e=>e.item);return{optionHits:n,overrideHits:this.buildOverrideHitCategories(r),totalCount:this.getAllOptionsCount(this.categories)}}collectHits(e,t,n){for(const r of e){const e=t.test(r.props.title);for(const o of r.items)t.test(o.props.title)?n.push({item:o,rank:1}):o.props.description&&t.test(o.props.description)?n.push({item:o,rank:2}):e&&n.push({item:o,rank:3});r.categories.length>0&&this.collectHits(r.categories,t,n)}return n}getAllOptionsCount(e){var t=0;for(const n of e)t+=n.items.length,n.categories.length>0&&(t+=this.getAllOptionsCount(n.categories));return t}buildOverrideHitCategories(e){const t={};for(const n of e){let e=t[n.parent.props.title];e||(e=t[n.parent.props.title]=new xt(n.parent.props),e.addItem(n.parent.items[0])),e.items[0].props.title!==n.props.title&&e.addItem(n)}return Object.values(t)}}function Ht(e,t){return e.rank-t.rank}var Gt=n("J4KJ"),Ut=n("SMGL");const Vt=(e,t)=>({angularPanelComponent:e.dashboard.panels[t.panel.id].angularComponent}),$t={changePanelPlugin:Gt.b};Object(i.connect)(Vt,$t);class qt extends r.PureComponent{constructor(e){super(e),this.element=void 0,this.angularOptions=void 0}componentDidMount(){this.loadAngularOptions()}componentDidUpdate(e){this.props.plugin!==e.plugin&&this.cleanUpAngularOptions(),this.loadAngularOptions()}componentWillUnmount(){this.cleanUpAngularOptions()}cleanUpAngularOptions(){this.angularOptions&&(this.angularOptions.destroy(),this.angularOptions=null)}loadAngularOptions(){const{panel:e,angularPanelComponent:t,changePanelPlugin:n}=this.props;if(!this.element||!t||this.angularOptions)return;const r=t.getScope();if(!r.$$childHead)return void setTimeout(()=>{this.forceUpdate()});const o=r.$$childHead.ctrl;o.initEditMode(),o.onPluginTypeChange=t=>{n(e,t.id)};let i="";for(let e=0;e<o.editorTabs.length;e++){const t=o.editorTabs[e];t.isOpen=(a=t.title,s=0===e,Ut.a.getBool("panel-edit-section-"+a,s)),i+=`\n      <div class="panel-options-group" ng-cloak>\n        <div class="panel-options-group__header" ng-click="toggleOptionGroup(${e})" aria-label="${t.title} section">\n          <div class="panel-options-group__icon">\n            <icon name="ctrl.editorTabs[${e}].isOpen ? 'angle-down' : 'angle-right'"></icon>\n          </div>\n          <div class="panel-options-group__title">${t.title}</div>\n        </div>\n        <div class="panel-options-group__body" ng-if="ctrl.editorTabs[${e}].isOpen">\n          <panel-editor-tab editor-tab="ctrl.editorTabs[${e}]" ctrl="ctrl"></panel-editor-tab>\n        </div>\n      </div>\n      `}var a,s;const l=Object(D.getAngularLoader)(),c={ctrl:o,toggleOptionGroup:e=>{const t=o.editorTabs[e];t.isOpen=!t.isOpen,function(e,t){Ut.a.set("panel-edit-section-"+e,t?"true":"false")}(t.title,t.isOpen)}};this.angularOptions=l.load(this.element,c,i),this.angularOptions.digest()}render(){return Object(O.jsx)("div",{ref:e=>this.element=e})}}const Qt=Object(i.connect)(Vt,$t)(qt);function Xt(e){const t=[];for(const n of e)for(const e of n.items)"Unit"===e.props.title&&(e.props.popularRank=2),"Min"===e.props.title&&(e.props.popularRank=3),"Max"===e.props.title&&(e.props.popularRank=4),"Display name"===e.props.title&&(e.props.popularRank=5),e.props.popularRank&&t.push(e);return t.sort((e,t)=>e.props.popularRank-t.props.popularRank)}const Yt=e=>{const{plugin:t,dashboard:n,panel:o}=e,[i,a]=Object(r.useState)(""),[s,l]=Object(r.useState)(Jt.All),c=Object(d.useStyles2)(Zt),[u,p,h]=Object(r.useMemo)(()=>[Pt(e),Tt(e),Lt(e)],[o.configRev,e.data]),f=[],b=i.length>0,g=Object(r.useMemo)(Kt,[]),m=[u,...p];if(b)f.push(function(e,t,n){const r=new _t(e,t),{optionHits:o,totalCount:i,overrideHits:a}=r.search(n);return Object(O.jsxs)("div",{children:[Object(O.jsx)(vt,{id:"Found options",title:`Matched ${o.length}/${i} options`,forceOpen:1,children:o.map(e=>e.render(n))},"Normal options"),a.map(e=>e.render(n))]},"search results")}(m,h,i)),e.plugin.angularPanelCtrl&&f.push(Object(O.jsx)("div",{className:c.searchNotice,children:"This is an old visualization type that does not support searching all options."},"Search notice"));else switch(s){case Jt.All:f.push(u.render()),e.plugin.angularPanelCtrl&&f.push(Object(O.jsx)(Qt,{plugin:t,dashboard:n,panel:o},"AngularOptions"));for(const e of p)f.push(e.render());for(const e of h)f.push(e.render());break;case Jt.Overrides:for(const e of h)f.push(e.render());break;case Jt.Recent:f.push(Object(O.jsx)(vt,{id:"Recent options",title:"Recent options",forceOpen:1,children:Xt(m).map(e=>e.render())},"Recent options"))}const y=!b&&!t.fieldConfigRegistry.isEmpty();return Object(O.jsxs)("div",{className:c.wrapper,children:[Object(O.jsxs)("div",{className:c.formBox,children:[Object(O.jsx)("div",{className:c.formRow,children:Object(O.jsx)(Rt.a,{width:0,value:i,onChange:a,placeholder:"Search options"})}),y&&Object(O.jsx)("div",{className:c.formRow,children:Object(O.jsx)(d.RadioButtonGroup,{options:g,value:s,fullWidth:!0,onChange:l})})]}),Object(O.jsx)("div",{className:c.scrollWrapper,children:Object(O.jsx)(d.CustomScrollbar,{autoHeightMin:"100%",children:Object(O.jsx)("div",{className:c.mainBox,children:f})})})]})};function Kt(){return[{label:Jt.All,value:Jt.All},{label:Jt.Overrides,value:Jt.Overrides}]}let Jt;!function(e){e.All="All",e.Overrides="Overrides",e.Recent="Recent"}(Jt||(Jt={}));const Zt=e=>({wrapper:s.css`
    height: 100%;
    display: flex;
    flex-direction: column;
    flex: 1 1 0;

    .search-fragment-highlight {
      color: ${e.colors.warning.text};
      background: transparent;
    }
  `,searchBox:s.css`
    display: flex;
    flex-direction: column;
    min-height: 0;
  `,formRow:s.css`
    margin-bottom: ${e.spacing(1)};
  `,formBox:s.css`
    padding: ${e.spacing(1)};
    background: ${e.colors.background.primary};
    border: 1px solid ${e.components.panel.borderColor};
    border-bottom: none;
  `,closeButton:s.css`
    margin-left: ${e.spacing(1)};
  `,searchHits:s.css`
    padding: ${e.spacing(1,1,0,1)};
  `,scrollWrapper:s.css`
    flex-grow: 1;
    min-height: 0;
  `,searchNotice:s.css`
    font-size: ${e.typography.size.sm};
    color: ${e.colors.text.secondary};
    padding: ${e.spacing(1)};
    text-align: center;
  `,mainBox:s.css`
    background: ${e.colors.background.primary};
    border: 1px solid ${e.components.panel.borderColor};
    border-top: none;
    flex-grow: 1;
  `});var en=n("1S9k"),tn=n("DR0N"),nn=n("c3cd"),rn=n("ZAQQ"),on=n("K0rs"),an=n("p+Sq");const sn=({onConfirm:e,onDismiss:t,panel:n})=>{const r=Object(Mt.a)(n),o=(r?"Changing":"Replace with")+" library panel",i=(r?"Changing":"Replacing with a")+" library panel will remove any changes since last save.";return Object(O.jsx)(d.ConfirmModal,{onConfirm:e,onDismiss:t,confirmText:r?"Change":"Replace",title:o,body:i,dismissText:"Cancel",isOpen:!0})};var ln=n("uC62");function cn(){return(cn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const dn=({panel:e,searchQuery:t})=>{var n;const o=Object(d.useStyles2)(un),[a,s]=Object(r.useState)(!1),[l,c]=Object(r.useState)(void 0),[u,p]=Object(r.useState)([]),h=Object(r.useCallback)(e=>{p(e.map(e=>e.id))},[p]),f=Object(an.a)().getCurrent(),b=Object(i.useDispatch)();return Object(O.jsxs)(d.VerticalGroup,{spacing:"md",children:[!e.libraryPanel&&Object(O.jsx)(d.VerticalGroup,{align:"center",children:Object(O.jsx)(d.Button,{icon:"plus",onClick:()=>{s(!0)},variant:"secondary",fullWidth:!0,children:"Create new library panel"})}),Object(O.jsx)(ln.a,{onChange:h}),Object(O.jsx)("div",{className:o.libraryPanelsView,children:Object(O.jsx)(rn.a,{currentPanelId:null===(n=e.libraryPanel)||void 0===n?void 0:n.uid,searchString:t,panelFilter:u,onClickCard:e=>{c(e)},showSecondaryActions:!0})}),a&&Object(O.jsx)(nn.b,{panel:e,onDismiss:()=>s(!1),initialFolderId:null==f?void 0:f.meta.folderId,isOpen:a}),l&&Object(O.jsx)(sn,{panel:e,onDismiss:()=>{c(void 0)},onConfirm:async()=>{if(!l)return;c(void 0);e.type!==l.model.type&&await b(Object(Gt.b)(e,l.model.type)),e.restoreModel(cn({},l.model,{gridPos:e.gridPos,id:e.id,libraryPanel:Object(on.d)(l)})),e.configRev=0,e.refresh();const t=e.events.subscribe(H.PanelDirectiveReadyEvent,()=>{e.refresh(),t.unsubscribe()});e.events.publish(H.PanelQueriesChangedEvent),e.events.publish(H.PanelOptionsChangedEvent)}})]})},un=e=>({libraryPanelsView:s.css`
      width: 100%;
    `});var pn;const hn=({panel:e})=>{const t=Object(i.useSelector)(t=>t.plugins.panels[e.type]),[n,o]=Object(r.useState)(""),[a,s]=Object(r.useState)(fn.Visualizations),l=Object(i.useDispatch)(),u=Object(d.useStyles)(bn),p=Object(r.useRef)(null),h=Object(r.useCallback)((n,r)=>{n.id!==t.meta.id&&l(Object(Gt.b)(e,n.id)),r||l(Object(lt.g)(!1))},[l,e,t.meta.id]);Object(r.useEffect)(()=>{p.current&&p.current.focus()},[a]);const f=Object(r.useCallback)(e=>{if("Enter"===e.key){const n=e.currentTarget.value,r=Object(en.c)(),o=Object(en.b)(r,n,t.meta);o&&o.length&&h(o[0],!1)}},[h,t.meta]),b=""!==n?Object(O.jsx)(d.Button,{icon:"times",fill:"text",size:"sm",onClick:()=>o(""),children:"Clear"}):null;if(!t)return null;const g=[{label:"Visualizations",value:fn.Visualizations},{label:"Library panels",value:fn.LibraryPanels,description:"Reusable panels you can share between multiple dashboards."}];return Object(O.jsxs)("div",{className:u.openWrapper,children:[Object(O.jsxs)("div",{className:u.formBox,children:[Object(O.jsxs)("div",{className:u.searchRow,children:[Object(O.jsx)(d.Input,{value:n,onChange:e=>o(e.currentTarget.value),onKeyPress:f,prefix:pn||(pn=Object(O.jsx)(d.Icon,{name:"search"})),suffix:b,ref:p,placeholder:"Search for..."}),Object(O.jsx)(d.Button,{title:"Close",variant:"secondary",icon:"angle-up",className:u.closeButton,"aria-label":c.selectors.components.PanelEditor.toggleVizPicker,onClick:()=>{l(Object(lt.g)(!1))}})]}),Object(O.jsx)(tn.a,{className:u.customFieldMargin,children:Object(O.jsx)(d.RadioButtonGroup,{options:g,value:a,onChange:s,fullWidth:!0})})]}),Object(O.jsx)("div",{className:u.scrollWrapper,children:Object(O.jsx)(d.CustomScrollbar,{autoHeightMin:"100%",children:Object(O.jsxs)("div",{className:u.scrollContent,children:[a===fn.Visualizations&&Object(O.jsx)(en.a,{current:t.meta,onTypeChange:h,searchQuery:n,onClose:()=>{}}),a===fn.LibraryPanels&&Object(O.jsx)(dn,{searchQuery:n,panel:e},"Panel Library")]})})})]})};var fn;!function(e){e[e.Visualizations=0]="Visualizations",e[e.LibraryPanels=1]="LibraryPanels"}(fn||(fn={})),hn.displayName="VisualizationSelectPane";const bn=e=>({icon:s.css`
      color: ${e.palette.gray33};
    `,wrapper:s.css`
      display: flex;
      flex-direction: column;
      flex: 1 1 0;
      height: 100%;
    `,vizButton:s.css`
      text-align: left;
    `,scrollWrapper:s.css`
      flex-grow: 1;
      min-height: 0;
    `,scrollContent:s.css`
      padding: ${e.spacing.sm};
    `,openWrapper:s.css`
      display: flex;
      flex-direction: column;
      flex: 1 1 100%;
      height: 100%;
      background: ${e.colors.bg1};
      border: 1px solid ${e.colors.border1};
    `,searchRow:s.css`
      display: flex;
      margin-bottom: ${e.spacing.sm};
    `,closeButton:s.css`
      margin-left: ${e.spacing.sm};
    `,customFieldMargin:s.css`
      margin-bottom: ${e.spacing.sm};
    `,formBox:s.css`
      padding: ${e.spacing.sm};
      padding-bottom: 0;
    `});var gn=n("UlFs");const mn=({plugin:e,panel:t,width:n,onFieldConfigsChange:r,onPanelOptionsChanged:o,onPanelConfigChange:a,dashboard:s})=>{const l=Object(d.useStyles)(yn),u=Object(i.useSelector)(e=>e.panelEditor.isVizPickerOpen),{data:p}=Object(gn.a)(t,{withTransforms:!0,withFieldConfig:!1},!0);return Object(O.jsxs)("div",{className:l.wrapper,"aria-label":c.selectors.components.PanelEditor.OptionsPane.content,children:[!u&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:l.vizButtonWrapper,children:Object(O.jsx)(pt,{panel:t})}),Object(O.jsx)("div",{className:l.optionsWrapper,children:Object(O.jsx)(Yt,{panel:t,dashboard:s,plugin:e,data:p,onFieldConfigsChange:r,onPanelOptionsChanged:o,onPanelConfigChange:a})})]}),u&&Object(O.jsx)(hn,{panel:t})]})},yn=e=>({wrapper:s.css`
      height: 100%;
      width: 100%;
      display: flex;
      flex: 1 1 0;
      flex-direction: column;
      padding: 0;
    `,optionsWrapper:s.css`
      flex-grow: 1;
      min-height: 0;
    `,vizButtonWrapper:s.css`
      padding: 0 ${e.spacing.md} ${e.spacing.md} 0;
    `,legacyOptions:s.css`
      label: legacy-options;
      .panel-options-grid {
        display: flex;
        flex-direction: column;
      }
      .panel-options-group {
        margin-bottom: 0;
      }
      .panel-options-group__body {
        padding: ${e.spacing.md} 0;
      }

      .section {
        display: block;
        margin: ${e.spacing.md} 0;

        &:first-child {
          margin-top: 0;
        }
      }
    `});var vn=n("VBuW"),On=n("17x9"),jn=n.n(On),Sn=n("ihjy"),xn=n.n(Sn),wn=n("VCL8");function Mn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cn(e,t,n){return t&&kn(e.prototype,t),n&&kn(e,n),e}function Pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Pn(e,t,n[t])}))}return e}function Dn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rn(e,t)}function Tn(e){return(Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rn(e,t){return(Rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?Bn(e):t}var En=function(e){function t(){return Mn(this,t),Wn(this,Tn(t).apply(this,arguments))}return Dn(t,e),Cn(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.split,i=e.style,a=e.size,s=e.eleRef,l=["Pane",r,n],c={flex:1,position:"relative",outline:"none"};return void 0!==a&&("vertical"===r?c.width=a:(c.height=a,c.display="flex"),c.flex="none"),c=Object.assign({},c,i||{}),o.a.createElement("div",{ref:s,className:l.join(" "),style:c},t)}}]),t}(o.a.PureComponent);En.propTypes={className:jn.a.string.isRequired,children:jn.a.node.isRequired,size:jn.a.oneOfType([jn.a.string,jn.a.number]),split:jn.a.oneOf(["vertical","horizontal"]),style:xn.a,eleRef:jn.a.func},En.defaultProps={};var In=function(e){function t(){return Mn(this,t),Wn(this,Tn(t).apply(this,arguments))}return Dn(t,e),Cn(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.onClick,r=e.onDoubleClick,i=e.onMouseDown,a=e.onTouchEnd,s=e.onTouchStart,l=e.resizerClassName,c=e.split,d=e.style,u=[l,c,t];return o.a.createElement("span",{role:"presentation",className:u.join(" "),style:d,onMouseDown:function(e){return i(e)},onTouchStart:function(e){e.preventDefault(),s(e)},onTouchEnd:function(e){e.preventDefault(),a(e)},onClick:function(e){n&&(e.preventDefault(),n(e))},onDoubleClick:function(e){r&&(e.preventDefault(),r(e))}})}}]),t}(o.a.Component);function Nn(e,t){if(e.selection)e.selection.empty();else try{t.getSelection().removeAllRanges()}catch(e){}}function An(e,t,n,r){if("number"==typeof r){var o="number"==typeof t?t:0,i="number"==typeof n&&n>=0?n:1/0;return Math.max(o,Math.min(i,r))}return void 0!==e?e:t}In.propTypes={className:jn.a.string.isRequired,onClick:jn.a.func,onDoubleClick:jn.a.func,onMouseDown:jn.a.func.isRequired,onTouchStart:jn.a.func.isRequired,onTouchEnd:jn.a.func.isRequired,split:jn.a.oneOf(["vertical","horizontal"]),style:xn.a,resizerClassName:jn.a.string.isRequired},In.defaultProps={resizerClassName:"Resizer"};var Ln=function(e){function t(e){var n;Mn(this,t),(n=Wn(this,Tn(t).call(this,e))).onMouseDown=n.onMouseDown.bind(Bn(Bn(n))),n.onTouchStart=n.onTouchStart.bind(Bn(Bn(n))),n.onMouseMove=n.onMouseMove.bind(Bn(Bn(n))),n.onTouchMove=n.onTouchMove.bind(Bn(Bn(n))),n.onMouseUp=n.onMouseUp.bind(Bn(Bn(n)));var r=e.size,o=e.defaultSize,i=e.minSize,a=e.maxSize,s=e.primary,l=void 0!==r?r:An(o,i,a,null);return n.state={active:!1,resized:!1,pane1Size:"first"===s?l:void 0,pane2Size:"second"===s?l:void 0,instanceProps:{size:r}},n}return Dn(t,e),Cn(t,[{key:"componentDidMount",value:function(){document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("touchmove",this.onTouchMove),this.setState(t.getSizeUpdate(this.props,this.state))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("touchmove",this.onTouchMove)}},{key:"onMouseDown",value:function(e){var t=Object.assign({},e,{touches:[{clientX:e.clientX,clientY:e.clientY}]});this.onTouchStart(t)}},{key:"onTouchStart",value:function(e){var t=this.props,n=t.allowResize,r=t.onDragStarted,o=t.split;if(n){Nn(document,window);var i="vertical"===o?e.touches[0].clientX:e.touches[0].clientY;"function"==typeof r&&r(),this.setState({active:!0,position:i})}}},{key:"onMouseMove",value:function(e){var t=Object.assign({},e,{touches:[{clientX:e.clientX,clientY:e.clientY}]});this.onTouchMove(t)}},{key:"onTouchMove",value:function(e){var t=this.props,n=t.allowResize,r=t.maxSize,o=t.minSize,i=t.onChange,a=t.split,s=t.step,l=this.state,c=l.active,d=l.position;if(n&&c){Nn(document,window);var u="first"===this.props.primary,p=u?this.pane1:this.pane2,h=u?this.pane2:this.pane1;if(p){var f=p,b=h;if(f.getBoundingClientRect){var g=f.getBoundingClientRect().width,m=f.getBoundingClientRect().height,y="vertical"===a?g:m,v=d-("vertical"===a?e.touches[0].clientX:e.touches[0].clientY);if(s){if(Math.abs(v)<s)return;v=~~(v/s)*s}var O=u?v:-v;parseInt(window.getComputedStyle(f).order)>parseInt(window.getComputedStyle(b).order)&&(O=-O);var j=r;if(void 0!==r&&r<=0){var S=this.splitPane;j="vertical"===a?S.getBoundingClientRect().width+r:S.getBoundingClientRect().height+r}var x=y-O,w=d-v;x<o?x=o:void 0!==r&&x>j?x=j:this.setState({position:w,resized:!0}),i&&i(x),this.setState(Pn({draggedSize:x},u?"pane1Size":"pane2Size",x))}}}}},{key:"onMouseUp",value:function(){var e=this.props,t=e.allowResize,n=e.onDragFinished,r=this.state,o=r.active,i=r.draggedSize;t&&o&&("function"==typeof n&&n(i),this.setState({active:!1}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.allowResize,r=t.children,i=t.className,a=t.onResizerClick,s=t.onResizerDoubleClick,l=t.paneClassName,c=t.pane1ClassName,d=t.pane2ClassName,u=t.paneStyle,p=t.pane1Style,h=t.pane2Style,f=t.resizerClassName,b=t.resizerStyle,g=t.split,m=t.style,y=this.state,v=y.pane1Size,O=y.pane2Size,j=n?"":"disabled",S=f?"".concat(f," ").concat("Resizer"):f,x=function(e){return o.a.Children.toArray(e).filter((function(e){return e}))}(r),w=zn({display:"flex",flex:1,height:"100%",position:"absolute",outline:"none",overflow:"hidden",MozUserSelect:"text",WebkitUserSelect:"text",msUserSelect:"text",userSelect:"text"},m);"vertical"===g?Object.assign(w,{flexDirection:"row",left:0,right:0}):Object.assign(w,{bottom:0,flexDirection:"column",minHeight:"100%",top:0,width:"100%"});var M=["SplitPane",i,g,j],k=zn({},u,p),C=zn({},u,h),P=["Pane1",l,c].join(" "),z=["Pane2",l,d].join(" ");return o.a.createElement("div",{className:M.join(" "),ref:function(t){e.splitPane=t},style:w},o.a.createElement(En,{className:P,key:"pane1",eleRef:function(t){e.pane1=t},size:v,split:g,style:k},x[0]),o.a.createElement(In,{className:j,onClick:a,onDoubleClick:s,onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onTouchEnd:this.onMouseUp,key:"resizer",resizerClassName:S,split:g,style:b||{}}),o.a.createElement(En,{className:z,key:"pane2",eleRef:function(t){e.pane2=t},size:O,split:g,style:C},x[1]))}}],[{key:"getDerivedStateFromProps",value:function(e,n){return t.getSizeUpdate(e,n)}},{key:"getSizeUpdate",value:function(e,t){var n={};if(t.instanceProps.size===e.size&&void 0!==e.size)return{};var r=void 0!==e.size?e.size:An(e.defaultSize,e.minSize,e.maxSize,t.draggedSize);void 0!==e.size&&(n.draggedSize=r);var o="first"===e.primary;return n[o?"pane1Size":"pane2Size"]=r,n[o?"pane2Size":"pane1Size"]=void 0,n.instanceProps={size:e.size},n}}]),t}(o.a.Component);Ln.propTypes={allowResize:jn.a.bool,children:jn.a.arrayOf(jn.a.node).isRequired,className:jn.a.string,primary:jn.a.oneOf(["first","second"]),minSize:jn.a.oneOfType([jn.a.string,jn.a.number]),maxSize:jn.a.oneOfType([jn.a.string,jn.a.number]),defaultSize:jn.a.oneOfType([jn.a.string,jn.a.number]),size:jn.a.oneOfType([jn.a.string,jn.a.number]),split:jn.a.oneOf(["vertical","horizontal"]),onDragStarted:jn.a.func,onDragFinished:jn.a.func,onChange:jn.a.func,onResizerClick:jn.a.func,onResizerDoubleClick:jn.a.func,style:xn.a,resizerStyle:xn.a,paneClassName:jn.a.string,pane1ClassName:jn.a.string,pane2ClassName:jn.a.string,paneStyle:xn.a,pane1Style:xn.a,pane2Style:xn.a,resizerClassName:jn.a.string,step:jn.a.number},Ln.defaultProps={allowResize:!0,minSize:50,primary:"first",split:"vertical",paneClassName:"",pane1ClassName:"",pane2ClassName:""},Object(wn.polyfill)(Ln);var Fn,_n,Hn=Ln;(_n=Fn||(Fn={}))[_n.Right=0]="Right",_n[_n.Top=1]="Top";class Gn extends r.PureComponent{constructor(...e){super(...e),this.rafToken=Object(r.createRef)(),this.updateSplitPaneSize=()=>{void 0!==this.rafToken.current&&window.cancelAnimationFrame(this.rafToken.current),this.rafToken.current=window.requestAnimationFrame(()=>{this.forceUpdate()})},this.onDragFinished=(e,t)=>{if(document.body.style.cursor="auto",!t)return;const{updateUiState:n}=this.props;e===Fn.Top?n({topPaneSize:t/window.innerHeight}):n({rightPaneSize:t/window.innerWidth})},this.onDragStarted=()=>{document.body.style.cursor="row-resize"}}componentDidMount(){window.addEventListener("resize",this.updateSplitPaneSize)}componentWillUnmount(){window.removeEventListener("resize",this.updateSplitPaneSize)}renderHorizontalSplit(){const{leftPaneComponents:e,uiState:t}=this.props,n=Un(u.a.theme),r=t.topPaneSize>=1?t.topPaneSize:t.topPaneSize*window.innerHeight;return Array.isArray(e)?Object(O.jsx)(Hn,{split:"horizontal",maxSize:-200,primary:"first",size:r,pane2Style:{minHeight:0},resizerClassName:n.resizerH,onDragStarted:this.onDragStarted,onDragFinished:e=>this.onDragFinished(Fn.Top,e),children:e}):e}render(){const{rightPaneVisible:e,rightPaneComponents:t,uiState:n}=this.props,r=Un(u.a.theme),o=n.rightPaneSize<=1?n.rightPaneSize*window.innerWidth:n.rightPaneSize;return e?Object(O.jsxs)(Hn,{split:"vertical",maxSize:-300,size:o,primary:"second",resizerClassName:r.resizerV,onDragStarted:()=>document.body.style.cursor="col-resize",onDragFinished:e=>this.onDragFinished(Fn.Right,e),children:[this.renderHorizontalSplit(),t]}):this.renderHorizontalSplit()}}Gn.defaultProps={rightPaneVisible:!0};const Un=Object(d.stylesFactory)(e=>{const t=e.palette.blue95,n=e.spacing.md,r=s.css`
    font-style: italic;
    background: transparent;
    border-top: 0;
    border-right: 0;
    border-bottom: 0;
    border-left: 0;
    border-color: transparent;
    border-style: solid;
    transition: 0.2s border-color ease-in-out;

    &:hover {
      border-color: ${t};
    }
  `;return{resizerV:Object(s.cx)(r,s.css`
        cursor: col-resize;
        width: ${n};
        border-right-width: 1px;
        margin-top: 18px;
      `),resizerH:Object(s.cx)(r,s.css`
        height: ${n};
        cursor: row-resize;
        position: relative;
        top: 0px;
        z-index: 1;
        border-top-width: 1px;
        margin-left: ${n};
      `)}});var Vn=n("KODV"),$n=n("Yuww"),qn=n("waAV"),Qn=n("Gqk0"),Xn=n("Wwog");const Yn=Object(Xn.default)((e,t)=>{var n;const r=[];if(!t)return r;let o=z.b.Visualize;if(t.meta.skipDataQuery)return[];t.meta.skipDataQuery||(o=z.b.Query,r.push({id:z.b.Query,text:"Query",icon:"database",active:!1}),r.push({id:z.b.Transform,text:"Transform",icon:"process",active:!1})),(Object(u.c)().alertingEnabled&&"graph"===t.meta.id||"timeseries"===t.meta.id)&&r.push({id:z.b.Alert,text:"Alert",icon:"bell",active:!1});return(null!==(n=r.find(t=>t.id===(e||o)))&&void 0!==n?n:r[0]).active=!0,r});var Kn,Jn=n("p1x6"),Zn=n("FyDh"),er=n("E5+Z"),tr=n("V8VS"),nr=n("3SGO"),rr=n("U+pZ"),or=n("+JUD"),ir=n("NPB1");function ar({width:e,height:t,panel:n,dashboard:o}){const{data:i}=Object(gn.a)(n,{withTransforms:!0,withFieldConfig:!1},!1),[a,s]=Object(r.useState)({frameIndex:0,showHeader:!0});return Object(r.useEffect)(()=>{const t=Object(ir.a)(),r=Object(or.b)(n,t.timeRange()),i=n.events.subscribe(H.RefreshEvent,()=>{n.runAllPanelQueries(o.id,o.getTimezone(),r,e)});return()=>{i.unsubscribe()}},[n,o,e]),i?Object(O.jsx)(d.PanelChrome,{width:e,height:t,padding:"none",children:(e,t)=>Object(O.jsx)(rr.a,{title:"Raw data",pluginId:"table",width:e,height:t,data:i,options:a,onOptionsChange:s})}):null}function sr(){return(sr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return ur}));const lr={initPanelEditor:qn.b,panelEditorCleanUp:qn.c,discardPanelChanges:qn.a,updatePanelEditorUIState:qn.d,updateTimeZoneForSession:Qn.i,toggleTableView:lt.f,notifyApp:nr.b},cr=Object(i.connect)(e=>{const t=e.panelEditor.getPanel(),{plugin:n}=function(e,t){var n;return t&&null!==(n=e.panels[t])&&void 0!==n?n:{}}(e.dashboard,t.id);return{plugin:n,panel:t,initDone:e.panelEditor.initDone,uiState:e.panelEditor.ui,tableViewEnabled:e.panelEditor.tableViewEnabled,variables:Object(Jn.g)(e)}},lr);class dr extends r.PureComponent{constructor(...e){super(...e),this.eventSubs=void 0,this.state={showSaveLibraryPanelModal:!1},this.triggerForceUpdate=()=>{this.forceUpdate()},this.onBack=()=>{D.locationService.partial({editPanel:null,tab:null})},this.onDiscard=()=>{this.props.discardPanelChanges(),this.onBack()},this.onOpenDashboardSettings=()=>{D.locationService.partial({editview:"settings"})},this.onSaveDashboard=()=>{p.a.publish(new H.ShowModalReactEvent({component:Vn.a,props:{dashboard:this.props.dashboard}}))},this.onSaveLibraryPanel=async()=>{if(!Object(Mt.a)(this.props.panel))return;const e=await Object(tr.e)(this.props.panel.libraryPanel.uid);if(0===e.length||1===e.length&&e.includes(this.props.dashboard.id))try{await Object(on.c)(this.props.panel,this.props.dashboard.meta.folderId),this.props.notifyApp(Object(on.b)("Library panel saved"))}catch(e){this.props.notifyApp(Object(on.a)(`Error saving library panel: "${e.statusText}"`))}else this.setState({showSaveLibraryPanelModal:!0})},this.onChangeTab=e=>{D.locationService.partial({tab:e.id})},this.onFieldConfigChange=e=>{this.props.panel.updateFieldConfig(sr({},e))},this.onPanelOptionsChanged=e=>{this.props.panel.updateOptions(e)},this.onPanelConfigChanged=(e,t)=>{this.props.panel.setProperty(e,t),this.props.panel.render(),this.forceUpdate()},this.onDisplayModeChange=e=>{const{updatePanelEditorUIState:t}=this.props;this.props.tableViewEnabled&&this.props.toggleTableView(),t({mode:e})},this.onToggleTableView=()=>{this.props.toggleTableView()},this.onTogglePanelOptions=()=>{const{uiState:e,updatePanelEditorUIState:t}=this.props;t({isPanelOptionsVisible:!e.isPanelOptionsVisible})},this.renderPanel=e=>{var t;const{dashboard:n,panel:r,uiState:o,plugin:i,tab:l,tableViewEnabled:c}=this.props,d=Yn(l,i);return Object(O.jsxs)("div",{className:Object(s.cx)(e.mainPaneWrapper,0===d.length&&e.mainPaneWrapperNoTabs),children:[this.renderPanelToolbar(e),Object(O.jsx)("div",{className:e.panelWrapper,children:Object(O.jsx)(a.a,{children:({width:i,height:a})=>i<3||a<3?null:c?Object(O.jsx)(ar,{width:i,height:a,panel:r,dashboard:n}):Object(O.jsx)("div",{className:e.centeringContainer,style:{width:i,height:a},children:Object(O.jsx)("div",{style:Object(h.a)(o.mode,i,a,r),"data-panelid":r.editSourceId,children:t||(t=Object(O.jsx)($n.a,{dashboard:n,panel:r,isEditing:!0,isViewing:!1,isInView:!0}))})})})})]},"panel")},this.onGoBackToDashboard=()=>{D.locationService.partial({editPanel:null,tab:null})},this.onConfirmAndDismissLibarayPanelModel=()=>{this.setState({showSaveLibraryPanelModal:!1})}}componentDidMount(){this.props.initPanelEditor(this.props.sourcePanel,this.props.dashboard)}componentDidUpdate(){const{panel:e,initDone:t}=this.props;t&&!this.eventSubs&&(this.eventSubs=new l.a,this.eventSubs.add(e.events.subscribe(H.PanelOptionsChangedEvent,this.triggerForceUpdate)))}componentWillUnmount(){var e;this.props.panelEditorCleanUp(),null===(e=this.eventSubs)||void 0===e||e.unsubscribe()}renderPanelAndEditor(e){const{panel:t,dashboard:n,plugin:r,tab:o}=this.props,i=Yn(o,r);return i.length>0?[this.renderPanel(e),Object(O.jsx)("div",{className:e.tabsWrapper,"aria-label":c.selectors.components.PanelEditor.DataPane.content,children:Object(O.jsx)(ot,{panel:t,dashboard:n,tabs:i,onChangeTab:this.onChangeTab})},"panel-editor-tabs")]:this.renderPanel(e)}renderTemplateVariables(e){const{variables:t}=this.props;return t.length?Object(O.jsx)("div",{className:e.variablesWrapper,children:Object(O.jsx)(vn.a,{variables:t})}):null}renderPanelToolbar(e){const{dashboard:t,uiState:n,variables:r,updateTimeZoneForSession:o,panel:i,tableViewEnabled:a}=this.props;return Object(O.jsx)("div",{className:e.panelToolbar,children:Object(O.jsxs)(d.HorizontalGroup,{justify:r.length>0?"space-between":"flex-end",align:"flex-start",children:[this.renderTemplateVariables(e),Object(O.jsxs)(d.HorizontalGroup,{children:[Object(O.jsx)(d.InlineSwitch,{label:"Table view",showLabel:!0,id:"table-view",value:a,onClick:this.onToggleTableView,"aria-label":c.selectors.components.PanelEditor.toggleTableView}),Object(O.jsx)(d.RadioButtonGroup,{value:n.mode,options:z.c,onChange:this.onDisplayModeChange}),Object(O.jsx)(st.a,{dashboard:t,onChangeTimeZone:o}),!n.isPanelOptionsVisible&&Object(O.jsx)(pt,{panel:i})]})]})})}renderEditorActions(){let e=[Object(O.jsx)(d.ToolbarButton,{icon:"cog",onClick:this.onOpenDashboardSettings,title:"Open dashboard settings"},"settings"),Object(O.jsx)(d.ToolbarButton,{onClick:this.onDiscard,title:"Undo all changes",children:"Discard"},"discard"),this.props.panel.libraryPanel?Object(O.jsx)(d.ToolbarButton,{onClick:this.onSaveLibraryPanel,variant:"primary",title:"Apply changes and save library panel",children:"Save library panel"},"save-panel"):Object(O.jsx)(d.ToolbarButton,{onClick:this.onSaveDashboard,title:"Apply changes and save dashboard",children:"Save"},"save"),Object(O.jsx)(d.ToolbarButton,{onClick:this.onBack,variant:"primary",title:"Apply changes and go back to dashboard","aria-label":c.selectors.components.PanelEditor.applyButton,children:"Apply"},"apply")];return this.props.panel.libraryPanel&&(e.splice(1,0,Object(O.jsx)(d.ModalsController,{children:({showModal:e,hideModal:t})=>Object(O.jsx)(d.ToolbarButton,{onClick:()=>{e(Zn.a,{onConfirm:()=>{delete this.props.panel.libraryPanel,this.props.panel.render(),this.forceUpdate()},onDismiss:t,isOpen:!0})},title:"Disconnects this panel from the library panel so that you can edit it regularly.",children:"Unlink"},"unlink")},"unlink-controller")),e.pop()),e}renderOptionsPane(){const{plugin:e,dashboard:t,panel:n,uiState:r}=this.props,o=r.rightPaneSize<=1?r.rightPaneSize*window.innerWidth:r.rightPaneSize;return e?Object(O.jsx)(mn,{plugin:e,dashboard:t,panel:n,width:o,onFieldConfigsChange:this.onFieldConfigChange,onPanelOptionsChanged:this.onPanelOptionsChanged,onPanelConfigChange:this.onPanelConfigChanged}):Kn||(Kn=Object(O.jsx)("div",{}))}render(){const{dashboard:e,initDone:t,updatePanelEditorUIState:n,uiState:r}=this.props,o=pr(u.b.theme,this.props);return t?Object(O.jsxs)("div",{className:o.wrapper,"aria-label":c.selectors.components.PanelEditor.General.content,children:[Object(O.jsx)(d.PageToolbar,{title:e.title+" / Edit Panel",onGoBack:this.onGoBackToDashboard,children:this.renderEditorActions()}),Object(O.jsx)("div",{className:o.verticalSplitPanesWrapper,children:Object(O.jsx)(Gn,{leftPaneComponents:this.renderPanelAndEditor(o),rightPaneComponents:this.renderOptionsPane(),uiState:r,updateUiState:n,rightPaneVisible:r.isPanelOptionsVisible})}),this.state.showSaveLibraryPanelModal&&Object(O.jsx)(er.a,{panel:this.props.panel,folderId:this.props.dashboard.meta.folderId,onConfirm:this.onConfirmAndDismissLibarayPanelModel,onDiscard:this.onDiscard,onDismiss:this.onConfirmAndDismissLibarayPanelModel})]}):null}}const ur=cr(dr),pr=Object(d.stylesFactory)((e,t)=>{const{uiState:n}=t,r=e.spacing.md;return{wrapper:s.css`
      width: 100%;
      height: 100%;
      position: fixed;
      z-index: ${e.zIndex.sidemenu};
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: ${e.colors.dashboardBg};
      display: flex;
      flex-direction: column;
    `,verticalSplitPanesWrapper:s.css`
      display: flex;
      flex-direction: column;
      height: 100%;
      width: 100%;
      position: relative;
    `,mainPaneWrapper:s.css`
      display: flex;
      flex-direction: column;
      height: 100%;
      width: 100%;
      padding-right: ${n.isPanelOptionsVisible?0:r};
    `,mainPaneWrapperNoTabs:s.css`
      padding-bottom: ${r};
    `,variablesWrapper:s.css`
      label: variablesWrapper;
      display: flex;
      flex-grow: 1;
      flex-wrap: wrap;
    `,panelWrapper:s.css`
      flex: 1 1 0;
      min-height: 0;
      width: 100%;
      padding-left: ${r};
      padding-right: 2px;
    `,tabsWrapper:s.css`
      height: 100%;
      width: 100%;
    `,panelToolbar:s.css`
      display: flex;
      padding: 0 0 ${r} ${r};
      justify-content: space-between;
      flex-wrap: wrap;
    `,toolbarLeft:s.css`
      padding-left: ${e.spacing.sm};
    `,centeringContainer:s.css`
      display: flex;
      justify-content: center;
      align-items: center;
    `}})},lIMf:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"UnthemedDashboardPage",(function(){return W})),n.d(t,"mapStateToProps",(function(){return E})),n.d(t,"getStyles",(function(){return N})),n.d(t,"DashboardPage",(function(){return A}));var r,o=n("+2Rf"),i=n.n(o),a=n("q1tI"),s=n("kDDq"),l=n("0cfB"),c=n("/MKj"),d=n("t8hP"),u=n("Csm0"),p=n("kDLi"),h=n("UvM7"),f=n("ibPz"),b=n("nU/Z"),g=n("hfOi"),m=n("2t1j"),y=n("lEZL"),v=n("8M//"),O=n("3SGO"),j=n("GQ3c"),S=n("kt0J"),x=n("3ISj"),w=n("J4KJ"),M=n("50r9"),k=n("+JjO"),C=n("HH2e"),P=n("NPB1"),z=n("DTq7"),D=n("p6vy"),T=n("aq+K"),R=n("Zu+4"),B=n("nKUr");class W extends a.PureComponent{constructor(...e){super(...e),this.forceRouteReloadCounter=0,this.state=this.getCleanState(),this.setScrollTop=({scrollTop:e})=>{this.setState({scrollTop:e,updateScrollTop:void 0})},this.onAddPanel=()=>{const{dashboard:e}=this.props;e&&(e.panels.length>0&&"add-panel"===e.panels[0].type||(e.addPanel({type:"add-panel",gridPos:{x:0,y:0,w:12,h:8},title:"Panel Title"}),this.setState({updateScrollTop:0})))}}getCleanState(){return{editPanel:null,viewPanel:null,showLoadingState:!1,scrollTop:0,rememberScrollTop:0}}componentDidMount(){var e;this.initDashboard(),this.forceRouteReloadCounter=(null===(e=this.props.history.location.state)||void 0===e?void 0:e.routeReloadCounter)||0}componentWillUnmount(){this.closeDashboard()}closeDashboard(){this.props.cleanUpDashboardAndVariables(),this.setPanelFullscreenClass(!1),this.setState(this.getCleanState())}initDashboard(){const{dashboard:e,match:t,queryParams:n}=this.props;e&&this.closeDashboard(),this.props.initDashboard({urlSlug:t.params.slug,urlUid:t.params.uid,urlType:t.params.type,urlFolderId:n.folderId,routeName:this.props.route.routeName,fixUrl:!0})}componentDidUpdate(e){var t;const{dashboard:n,match:r,queryParams:o,templateVarsChangedInUrl:i}=this.props,{editPanel:a,viewPanel:s}=this.state,l=null===(t=this.props.history.location.state)||void 0===t?void 0:t.routeReloadCounter;if(!n)return;if(e.dashboard!==n&&(document.title=n.title+" - "+f.a.AppTitle),e.match.params.uid!==r.params.uid||void 0!==l&&this.forceRouteReloadCounter!==l)return this.initDashboard(),void(this.forceRouteReloadCounter=l);if(e.location.search!==this.props.location.search){const t=e.queryParams,n=this.props.queryParams;(null==n?void 0:n.from)!==(null==t?void 0:t.from)&&(null==n?void 0:n.to)!==(null==t?void 0:t.to)&&Object(P.a)().updateTimeRangeFromUrl(),null!=t&&t.refresh||null==n||!n.refresh||Object(P.a)().setAutoRefresh(n.refresh);const r=Object(k.d)(this.props.queryParams,e.queryParams);r&&i(r)}const c=o.editPanel,d=o.viewPanel;!a&&c&&(C.a.setEditingState(!0),this.getPanelByIdFromUrlParam(c,e=>{n.canEditPanel(e)?this.setState({editPanel:e}):this.props.notifyApp(Object(h.a)("Permission to edit panel denied"))})),a&&!c&&(C.a.setEditingState(!1),this.setState({editPanel:null})),!s&&d&&this.getPanelByIdFromUrlParam(d,e=>{this.setPanelFullscreenClass(!0),n.initViewPanel(e),this.setState({viewPanel:e,rememberScrollTop:this.state.scrollTop,updateScrollTop:0})}),s&&!d&&(this.setPanelFullscreenClass(!1),n.exitViewPanel(s),this.setState({viewPanel:null,updateScrollTop:this.state.rememberScrollTop},this.triggerPanelsRendering.bind(this)))}getPanelByIdFromUrlParam(e,t){const{dashboard:n}=this.props,r=parseInt(e,10);n.expandParentRowFor(r);const o=n.getPanelById(r);if(!o)return this.props.notifyApp(Object(h.a)(`Panel with ID ${e} not found`)),void d.locationService.partial({editPanel:null,viewPanel:null});t(o)}triggerPanelsRendering(){try{this.props.dashboard.render()}catch(e){console.error(e),this.props.notifyApp(Object(h.a)("Panel rendering error",e))}}setPanelFullscreenClass(e){i()("body").toggleClass("panel-in-fullscreen",e)}getInspectPanel(){const{dashboard:e,queryParams:t}=this.props,n=t.inspect;if(!e||!n)return null;const r=e.getPanelById(parseInt(n,10));return r||null}render(){const{dashboard:e,isInitSlow:t,initError:n,isPanelEditorOpen:o,queryParams:i,theme:a}=this.props,{editPanel:s,viewPanel:l,scrollTop:c,updateScrollTop:d}=this.state,h=Object(z.b)(i.kiosk),f=N(a,h);if(!e)return t?Object(B.jsx)(D.a,{initPhase:this.props.initPhase}):null;const v=25*Math.round(c/25),O=this.getInspectPanel();return Object(B.jsxs)("div",{className:f.dashboardContainer,children:[h!==j.KioskMode.Full&&Object(B.jsx)("div",{"aria-label":u.selectors.pages.Dashboard.DashNav.nav,children:Object(B.jsx)(g.a,{dashboard:e,title:e.title,folderTitle:e.meta.folderTitle,isFullscreen:!!l,onAddPanel:this.onAddPanel,kioskMode:h,hideTimePicker:e.timepicker.hidden})}),Object(B.jsx)(R.a,{dashboard:e}),Object(B.jsx)("div",{className:f.dashboardScroll,children:Object(B.jsx)(p.CustomScrollbar,{autoHeightMin:"100%",setScrollTop:this.setScrollTop,scrollTop:d,hideHorizontalTrack:!0,updateAfterMountMs:500,children:Object(B.jsxs)("div",{className:f.dashboardContent,children:[n&&(r||(r=Object(B.jsx)(T.a,{}))),!s&&h===j.KioskMode.Off&&Object(B.jsx)("div",{"aria-label":u.selectors.pages.Dashboard.SubMenu.submenu,children:Object(B.jsx)(x.a,{dashboard:e,annotations:e.annotations.list,links:e.links})}),Object(B.jsx)(b.a,{dashboard:e,viewPanel:l,editPanel:s,scrollTop:v,isPanelEditorOpen:o})]})})}),O&&Object(B.jsx)(S.a,{dashboard:e,panel:O}),s&&Object(B.jsx)(y.a,{dashboard:e,sourcePanel:s,tab:this.props.queryParams.tab}),i.editview&&Object(B.jsx)(m.a,{dashboard:e,editview:i.editview})]})}}const E=e=>({initPhase:e.dashboard.initPhase,isInitSlow:e.dashboard.isInitSlow,initError:e.dashboard.initError,dashboard:e.dashboard.getModel(),isPanelEditorOpen:e.panelEditor.isOpen}),I={initDashboard:v.a,cleanUpDashboardAndVariables:w.c,notifyApp:O.b,cancelVariables:M.a,templateVarsChangedInUrl:M.g},N=Object(p.stylesFactory)((e,t)=>{const n=t!==j.KioskMode.Full?e.spacing(0,2,2):e.spacing(2);return{dashboardContainer:s.css`
      position: absolute;
      top: 0;
      bottom: 0;
      width: 100%;
      height: 100%;
      display: flex;
      flex: 1 1 0;
      flex-direction: column;
    `,dashboardScroll:s.css`
      width: 100%;
      flex-grow: 1;
      min-height: 0;
      display: flex;
    `,dashboardContent:s.css`
      padding: ${n};
      flex-basis: 100%;
      flex-grow: 1;
    `}}),A=Object(p.withTheme2)(W);A.displayName="DashboardPage",t.default=Object(l.hot)(e)(Object(c.connect)(E,I)(A))}.call(this,n("3UD+")(e))},"nU/Z":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return j}));var r=n("q1tI"),o=n("0cfB"),i=n("ChGz"),a=n.n(i),s=n("TSYQ"),l=n.n(s),c=n("IZOP"),d=n.n(c),u=n("eIbz"),p=n("FFox"),h=n("eXZ6"),f=n("Yuww"),b=n("pugT"),g=n("xAj+"),m=n("nKUr");let y=1200,v=!1;const O=d()({monitorWidth:!0})((function({size:e,layout:t,onLayoutChange:n,children:r,onDragStop:o,onResize:i,onResizeStop:s,className:l,isResizable:c,isDraggable:d,viewPanel:u}){const p=e.width>0?e.width:y;p!==y&&(v?v=!1:!u&&Math.abs(p-y)>8&&(y=p));const f=!(p<=769)&&d;return Object(m.jsx)(a.a,{width:y,className:l,isDraggable:f,isResizable:c,containerPadding:[0,0],useCSSTransforms:!1,margin:[h.f,h.f],cols:h.g,rowHeight:h.e,draggableHandle:".grid-drag-handle",layout:t,onResize:i,onResizeStop:s,onDragStop:o,onLayoutChange:n,children:r})}));class j extends r.PureComponent{constructor(...e){super(...e),this.panelMap={},this.panelRef={},this.eventSubs=new b.a,this.onLayoutChange=e=>{for(const t of e)this.panelMap[t.i].updateGridPos(t);this.props.dashboard.sortPanelsByGridPos(),this.forceUpdate()},this.triggerForceUpdate=()=>{this.forceUpdate()},this.updateGridPos=(e,t)=>{this.panelMap[e.i].updateGridPos(e),this.onLayoutChange(t)},this.onResize=(e,t,n)=>{this.panelMap[n.i].updateGridPos(n)},this.onResizeStop=(e,t,n)=>{this.updateGridPos(n,e)},this.onDragStop=(e,t,n)=>{this.updateGridPos(n,e)},this.isInView=e=>{if(e.isViewing||e.isEditing)return!0;const t=this.panelRef[e.id.toString()];if(!t)return!1;const n=t.offsetTop,r=n+(e.gridPos.h*h.e+40),o=this.props.scrollTop;if(o>r+250)return!1;return!(n>o+(isNaN(window.innerHeight)?window.clientHeight:window.innerHeight)+250)&&!this.props.dashboard.otherPanelInFullscreen(e)}}componentDidMount(){const{dashboard:e}=this.props;this.eventSubs.add(e.events.subscribe(g.DashboardPanelsChangedEvent,this.triggerForceUpdate))}componentWillUnmount(){this.eventSubs.unsubscribe()}buildLayout(){const e=[];this.panelMap={};for(const t of this.props.dashboard.panels){const n=t.id.toString();if(this.panelMap[n]=t,!t.gridPos){console.log("panel without gridpos");continue}const r={i:n,x:t.gridPos.x,y:t.gridPos.y,w:t.gridPos.w,h:t.gridPos.h};"row"===t.type&&(r.w=h.g,r.h=1,r.isResizable=!1,r.isDraggable=t.collapsed),e.push(r)}return e}renderPanels(){const e=[];for(const t of this.props.dashboard.panels){const n=l()({"react-grid-item--fullscreen":t.isViewing}),r=t.id.toString();t.isInView=this.isInView(t),e.push(Object(m.jsx)("div",{className:n,"data-panelid":r,ref:e=>e&&(this.panelRef[r]=e),children:this.renderPanel(t)},r))}return e}renderPanel(e){return"row"===e.type?Object(m.jsx)(p.a,{panel:e,dashboard:this.props.dashboard}):"add-panel"===e.type?Object(m.jsx)(u.a,{panel:e,dashboard:this.props.dashboard}):Object(m.jsx)(f.a,{panel:e,dashboard:this.props.dashboard,isEditing:e.isEditing,isViewing:e.isViewing,isInView:e.isInView})}render(){const{dashboard:e,viewPanel:t}=this.props;return Object(m.jsx)(O,{className:l()({layout:!0}),layout:this.buildLayout(),isResizable:e.meta.canEdit,isDraggable:e.meta.canEdit,onLayoutChange:this.onLayoutChange,onDragStop:this.onDragStop,onResize:this.onResize,onResizeStop:this.onResizeStop,viewPanel:t,children:this.renderPanels()})}}Object(o.hot)(e)(j)}).call(this,n("3UD+")(e))},p6vy:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n("q1tI");var r,o=n("kDDq"),i=n("kDLi"),a=n("t8hP"),s=n("nKUr");const l=({initPhase:e})=>{const t=Object(i.useStyles)(c);return Object(s.jsx)("div",{className:t.dashboardLoading,children:Object(s.jsx)("div",{className:t.dashboardLoadingText,children:Object(s.jsxs)(i.VerticalGroup,{spacing:"md",children:[Object(s.jsxs)(i.HorizontalGroup,{align:"center",justify:"center",spacing:"xs",children:[r||(r=Object(s.jsx)(i.Spinner,{inline:!0}))," ",e]})," ",Object(s.jsx)(i.HorizontalGroup,{align:"center",justify:"center",children:Object(s.jsx)(i.Button,{variant:"secondary",size:"md",icon:"repeat",onClick:()=>{a.locationService.push("/")},children:"Cancel loading dashboard"})})]})})})},c=e=>({dashboardLoading:o.css`
      height: 60vh;
      display: flex;
      align-items: center;
      justify-content: center;
    `,dashboardLoadingText:o.css`
      font-size: ${e.typography.size.lg};
    `})},pzsr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return d.default}}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n("q1tI")),o=p(n("17x9")),i=p(n("i8i4")),a=p(n("TSYQ")),s=n("8N4D"),l=n("fJi3"),c=n("gbW8"),d=p(n("R155")),u=p(n("sS6v"));function p(e){return e&&e.__esModule?e:{default:e}}function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),e}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var o=C(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return M(this,n)}}function M(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(n,e);var t=w(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),P(k(r=t.call(this,e)),"onDragStart",(function(e,t){if((0,u.default)("Draggable: onDragStart: %j",t),!1===r.props.onStart(e,(0,l.createDraggableData)(k(r),t)))return!1;r.setState({dragging:!0,dragged:!0})})),P(k(r),"onDrag",(function(e,t){if(!r.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",t);var n=(0,l.createDraggableData)(k(r),t),o={x:n.x,y:n.y};if(r.props.bounds){var i=o.x,a=o.y;o.x+=r.state.slackX,o.y+=r.state.slackY;var s=m((0,l.getBoundPosition)(k(r),o.x,o.y),2),c=s[0],d=s[1];o.x=c,o.y=d,o.slackX=r.state.slackX+(i-o.x),o.slackY=r.state.slackY+(a-o.y),n.x=o.x,n.y=o.y,n.deltaX=o.x-r.state.x,n.deltaY=o.y-r.state.y}if(!1===r.props.onDrag(e,n))return!1;r.setState(o)})),P(k(r),"onDragStop",(function(e,t){if(!r.state.dragging)return!1;if(!1===r.props.onStop(e,(0,l.createDraggableData)(k(r),t)))return!1;(0,u.default)("Draggable: onDragStop: %j",t);var n={dragging:!1,slackX:0,slackY:0};if(Boolean(r.props.position)){var o=r.props.position,i=o.x,a=o.y;n.x=i,n.y=a}r.setState(n)})),r.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:O({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),r}return S(n,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,r=t.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:O({},n)})}}]),S(n,[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:i.default.findDOMNode(this)}},{key:"render",value:function(){var e,t=this.props,n=(t.axis,t.bounds,t.children),o=t.defaultPosition,i=t.defaultClassName,c=t.defaultClassNameDragging,u=t.defaultClassNameDragged,p=t.position,h=t.positionOffset,f=(t.scale,g(t,["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"])),m={},y=null,v=!Boolean(p)||this.state.dragging,j=p||o,S={x:(0,l.canDragX)(this)&&v?this.state.x:j.x,y:(0,l.canDragY)(this)&&v?this.state.y:j.y};this.state.isElementSVG?y=(0,s.createSVGTransform)(S,h):m=(0,s.createCSSTransform)(S,h);var x=(0,a.default)(n.props.className||"",i,(P(e={},c,this.state.dragging),P(e,u,this.state.dragged),e));return r.createElement(d.default,b({},f,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(n),{className:x,style:O(O({},n.props.style),m),transform:y}))}}]),n}(r.Component);t.default=z,P(z,"displayName","Draggable"),P(z,"propTypes",O(O({},d.default.propTypes),{},{axis:o.default.oneOf(["both","x","y","none"]),bounds:o.default.oneOfType([o.default.shape({left:o.default.number,right:o.default.number,top:o.default.number,bottom:o.default.number}),o.default.string,o.default.oneOf([!1])]),defaultClassName:o.default.string,defaultClassNameDragging:o.default.string,defaultClassNameDragged:o.default.string,defaultPosition:o.default.shape({x:o.default.number,y:o.default.number}),positionOffset:o.default.shape({x:o.default.oneOfType([o.default.number,o.default.string]),y:o.default.oneOfType([o.default.number,o.default.string])}),position:o.default.shape({x:o.default.number,y:o.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe})),P(z,"defaultProps",O(O({},d.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}))},q78g:function(e,t,n){"use strict";function r(e){var t=e.margin,n=e.containerPadding,r=e.containerWidth,o=e.cols;return(r-t[0]*(o-1)-2*n[0])/o}function o(e,t,n){return Number.isFinite(e)?Math.round(t*e+Math.max(0,e-1)*n):e}function i(e,t,n){return Math.max(Math.min(e,n),t)}Object.defineProperty(t,"__esModule",{value:!0}),t.calcGridColWidth=r,t.calcGridItemWHPx=o,t.calcGridItemPosition=function(e,t,n,i,a,s){var l=e.margin,c=e.containerPadding,d=e.rowHeight,u=r(e),p={};s&&s.resizing?(p.width=Math.round(s.resizing.width),p.height=Math.round(s.resizing.height)):(p.width=o(i,u,l[0]),p.height=o(a,d,l[1]));s&&s.dragging?(p.top=Math.round(s.dragging.top),p.left=Math.round(s.dragging.left)):(p.top=Math.round((d+l[1])*n+c[1]),p.left=Math.round((u+l[0])*t+c[0]));return p},t.calcXY=function(e,t,n,o,a){var s=e.margin,l=e.cols,c=e.rowHeight,d=e.maxRows,u=r(e),p=Math.round((n-s[0])/(u+s[0])),h=Math.round((t-s[1])/(c+s[1]));return p=i(p,0,l-o),h=i(h,0,d-a),{x:p,y:h}},t.calcWH=function(e,t,n,o,a){var s=e.margin,l=e.maxRows,c=e.cols,d=e.rowHeight,u=r(e),p=Math.round((t+s[0])/(u+s[0])),h=Math.round((n+s[1])/(d+s[1]));return p=i(p,0,c-o),h=i(h,0,l-a),{w:p,h:h}},t.clamp=i},q7TX:function(e,t,n){"use strict";e.exports=function(e){function t(){}var n={log:t,warn:t,error:t};if(!e&&window.console){var r=function(e,t){e[t]=function(){var e=console[t];if(e.apply)e.apply(console,arguments);else for(var n=0;n<arguments.length;n++)e(arguments[n])}};r(n,"log"),r(n,"warn"),r(n,"error")}return n}},sS6v:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){void 0}},t3DW:function(e,t,n){"use strict";(e.exports={}).forEach=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n]);if(r)return r}}},waAV:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u}));var r=n("tEy8"),o=n("KyLG"),i=n("SMGL"),a=n("LvDl");n("t8hP");function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){return n=>{const o=t.initEditPanel(e);n(Object(r.h)({panel:o,sourcePanel:e}))}}function c(){return async(e,t)=>{const{getPanel:n}=t().panelEditor;n().configRev=0,e(Object(r.d)(!0))}}function d(){return(e,t)=>{const n=t().dashboard.getModel(),{getPanel:i,getSourcePanel:l,shouldDiscardChanges:c}=t().panelEditor;if(!c){const t=i(),r=t.getSaveModel(),c=l(),d=c.type!==t.type;!function(e,t,n){var r;if(void 0===(null===(r=e.libraryPanel)||void 0===r?void 0:r.uid)||!t)return;const i=e.getSaveModel();for(const r of t.panels){var l,c,d;if((null===(l=r.libraryPanel)||void 0===l?void 0:l.uid)!==e.libraryPanel.uid)continue;r.restoreModel(s({},i,Object(a.pick)(r,"gridPos","id")));const t=(null===(c=r.plugin)||void 0===c?void 0:c.meta.id)!==(null===(d=e.plugin)||void 0===d?void 0:d.meta.id);r.plugin=e.plugin,r.configRev++,t&&n(Object(o.l)({panelId:r.id,plugin:r.plugin})),setTimeout(()=>{r.getQueryRunner().useLastResultFrom(e.getQueryRunner())},20)}}(t,n,e),r.id=c.id,c.restoreModel(r),c.configRev++,c.plugin=t.plugin,d&&e(Object(o.l)({panelId:c.id,plugin:t.plugin})),setTimeout(()=>{c.getQueryRunner().useLastResultFrom(t.getQueryRunner())},20)}n&&n.exitPanelEditor(),e(Object(o.c)()),e(Object(r.b)())}}function u(e){return(t,n)=>{const o=s({},n().panelEditor.ui,e);t(Object(r.e)(o));try{i.a.setObject(r.a,o)}catch(e){console.error(e)}}}},wnTG:function(e,t,n){"use strict";var r=n("UL9e");function o(){var e={},t=0,n=0,r=0;return{add:function(o,i){i||(i=o,o=0),o>n?n=o:o<r&&(r=o),e[o]||(e[o]=[]),e[o].push(i),t++},process:function(){for(var t=r;t<=n;t++)for(var o=e[t],i=0;i<o.length;i++){(0,o[i])()}},size:function(){return t}}}e.exports=function(e){var t=(e=e||{}).reporter,n=r.getOption(e,"async",!0),i=r.getOption(e,"auto",!0);i&&!n&&(t&&t.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),n=!0);var a,s=o(),l=!1;function c(){for(l=!0;s.size();){var e=s;s=o(),e.process()}l=!1}function d(){var e;e=c,a=setTimeout(e,0)}return{add:function(e,t){!l&&i&&n&&0===s.size()&&d(),s.add(e,t)},force:function(e){l||(void 0===e&&(e=n),a&&(clearTimeout(a),a=null),e?d():c())}}}},yUZ2:function(e,t,n){"use strict";var r=n("t3DW").forEach;e.exports=function(e){var t=(e=e||{}).reporter,n=e.batchProcessor,o=e.stateHandler.getState,i=(e.stateHandler.hasState,e.idHandler);if(!n)throw new Error("Missing required dependency: batchProcessor");if(!t)throw new Error("Missing required dependency: reporter.");var a=function(){var e=document.createElement("div");e.style.cssText=l(["position: absolute","width: 1000px","height: 1000px","visibility: hidden","margin: 0","padding: 0"]);var t=document.createElement("div");t.style.cssText=l(["position: absolute","width: 500px","height: 500px","overflow: scroll","visibility: none","top: -1500px","left: -1500px","visibility: hidden","margin: 0","padding: 0"]),t.appendChild(e),document.body.insertBefore(t,document.body.firstChild);var n=500-t.clientWidth,r=500-t.clientHeight;return document.body.removeChild(t),{width:n,height:r}}();function s(e){!function(e,t,n){if(!e.getElementById(t)){var r=n+"_animation",o=n+"_animation_active",i="/* Created by the element-resize-detector library. */\n";i+="."+n+" > div::-webkit-scrollbar { "+l(["display: none"])+" }\n\n",i+="."+o+" { "+l(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+r,"animation-name: "+r])+" }\n",i+="@-webkit-keyframes "+r+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",function(n,r){r=r||function(t){e.head.appendChild(t)};var o=e.createElement("style");o.innerHTML=n,o.id=t,r(o)}(i+="@keyframes "+r+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }")}}(e,"erd_scroll_detection_scrollbar_style","erd_scroll_detection_container")}function l(t){var n=e.important?" !important; ":"; ";return(t.join(n)+n).trim()}function c(e,n,r){if(e.addEventListener)e.addEventListener(n,r);else{if(!e.attachEvent)return t.error("[scroll] Don't know how to add event listeners.");e.attachEvent("on"+n,r)}}function d(e,n,r){if(e.removeEventListener)e.removeEventListener(n,r);else{if(!e.detachEvent)return t.error("[scroll] Don't know how to remove event listeners.");e.detachEvent("on"+n,r)}}function u(e){return o(e).container.childNodes[0].childNodes[0].childNodes[0]}function p(e){return o(e).container.childNodes[0].childNodes[0].childNodes[1]}return s(window.document),{makeDetectable:function(e,s,d){function h(){if(e.debug){var n=Array.prototype.slice.call(arguments);if(n.unshift(i.get(s),"Scroll: "),t.log.apply)t.log.apply(null,n);else for(var r=0;r<n.length;r++)t.log(n[r])}}function f(e){var t=o(e).container.childNodes[0],n=window.getComputedStyle(t);return!n.width||-1===n.width.indexOf("px")}function b(){var e=window.getComputedStyle(s),t={};return t.position=e.position,t.width=s.offsetWidth,t.height=s.offsetHeight,t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left,t.widthCSS=e.width,t.heightCSS=e.height,t}function g(){if(h("storeStyle invoked."),o(s)){var e=b();o(s).style=e}else h("Aborting because element has been uninstalled")}function m(e,t,n){o(e).lastWidth=t,o(e).lastHeight=n}function y(){return 2*a.width+1}function v(){return 2*a.height+1}function O(e){return e+10+y()}function j(e){return e+10+v()}function S(e,t,n){var r=u(e),o=p(e),i=O(t),a=j(n),s=function(e){return 2*e+y()}(t),l=function(e){return 2*e+v()}(n);r.scrollLeft=i,r.scrollTop=a,o.scrollLeft=s,o.scrollTop=l}function x(){var e=o(s).container;if(!e){(e=document.createElement("div")).className="erd_scroll_detection_container",e.style.cssText=l(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),o(s).container=e,function(e){e.className+=" erd_scroll_detection_container_animation_active"}(e),s.appendChild(e);var t=function(){o(s).onRendered&&o(s).onRendered()};c(e,"animationstart",t),o(s).onAnimationStart=t}return e}function w(){if(h("Injecting elements"),o(s)){!function(){var n=o(s).style;if("static"===n.position){s.style.setProperty("position","relative",e.important?"important":"");var r=function(e,t,n,r){var o=n[r];"auto"!==o&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(o)&&(e.warn("An element that is positioned static has style."+r+"="+o+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+r+" will be set to 0. Element: ",t),t.style[r]=0)};r(t,s,n,"top"),r(t,s,n,"right"),r(t,s,n,"bottom"),r(t,s,n,"left")}}();var n=o(s).container;n||(n=x());var r,i,d,u,p=a.width,f=a.height,b=l(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),g=l(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(["left: "+(r=(r=-(1+p))?r+"px":"0"),"top: "+(i=(i=-(1+f))?i+"px":"0"),"right: "+(u=(u=-p)?u+"px":"0"),"bottom: "+(d=(d=-f)?d+"px":"0")])),m=l(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),y=l(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),v=l(["position: absolute","left: 0","top: 0"]),O=l(["position: absolute","width: 200%","height: 200%"]),j=document.createElement("div"),S=document.createElement("div"),w=document.createElement("div"),M=document.createElement("div"),k=document.createElement("div"),C=document.createElement("div");j.dir="ltr",j.style.cssText=b,j.className="erd_scroll_detection_container",S.className="erd_scroll_detection_container",S.style.cssText=g,w.style.cssText=m,M.style.cssText=v,k.style.cssText=y,C.style.cssText=O,w.appendChild(M),k.appendChild(C),S.appendChild(w),S.appendChild(k),j.appendChild(S),n.appendChild(j),c(w,"scroll",P),c(k,"scroll",z),o(s).onExpandScroll=P,o(s).onShrinkScroll=z}else h("Aborting because element has been uninstalled");function P(){o(s).onExpand&&o(s).onExpand()}function z(){o(s).onShrink&&o(s).onShrink()}}function M(){function a(t,n,r){var o=function(e){return u(e).childNodes[0]}(t),i=O(n),a=j(r);o.style.setProperty("width",i+"px",e.important?"important":""),o.style.setProperty("height",a+"px",e.important?"important":"")}function l(r){var l=s.offsetWidth,d=s.offsetHeight,u=l!==o(s).lastWidth||d!==o(s).lastHeight;h("Storing current size",l,d),m(s,l,d),n.add(0,(function(){if(u)if(o(s))if(c()){if(e.debug){var n=s.offsetWidth,r=s.offsetHeight;n===l&&r===d||t.warn(i.get(s),"Scroll: Size changed before updating detector elements.")}a(s,l,d)}else h("Aborting because element container has not been initialized");else h("Aborting because element has been uninstalled")})),n.add(1,(function(){o(s)?c()?S(s,l,d):h("Aborting because element container has not been initialized"):h("Aborting because element has been uninstalled")})),u&&r&&n.add(2,(function(){o(s)?c()?r():h("Aborting because element container has not been initialized"):h("Aborting because element has been uninstalled")}))}function c(){return!!o(s).container}function d(){h("notifyListenersIfNeeded invoked");var e=o(s);return void 0===o(s).lastNotifiedWidth&&e.lastWidth===e.startSize.width&&e.lastHeight===e.startSize.height?h("Not notifying: Size is the same as the start size, and there has been no notification yet."):e.lastWidth===e.lastNotifiedWidth&&e.lastHeight===e.lastNotifiedHeight?h("Not notifying: Size already notified"):(h("Current size not notified, notifying..."),e.lastNotifiedWidth=e.lastWidth,e.lastNotifiedHeight=e.lastHeight,void r(o(s).listeners,(function(e){e(s)})))}function b(){h("Scroll detected."),f(s)?h("Scroll event fired while unrendered. Ignoring..."):l(d)}if(h("registerListenersAndPositionElements invoked."),o(s)){o(s).onRendered=function(){if(h("startanimation triggered."),f(s))h("Ignoring since element is still unrendered...");else{h("Element rendered.");var e=u(s),t=p(s);0!==e.scrollLeft&&0!==e.scrollTop&&0!==t.scrollLeft&&0!==t.scrollTop||(h("Scrollbars out of sync. Updating detector elements..."),l(d))}},o(s).onExpand=b,o(s).onShrink=b;var g=o(s).style;a(s,g.width,g.height)}else h("Aborting because element has been uninstalled")}function k(){if(h("finalizeDomMutation invoked."),o(s)){var e=o(s).style;m(s,e.width,e.height),S(s,e.width,e.height)}else h("Aborting because element has been uninstalled")}function C(){d(s)}function P(){var e;h("Installing..."),o(s).listeners=[],e=b(),o(s).startSize={width:e.width,height:e.height},h("Element start size",o(s).startSize),n.add(0,g),n.add(1,w),n.add(2,M),n.add(3,k),n.add(4,C)}d||(d=s,s=e,e=null),e=e||{},h("Making detectable..."),!function(e){return!function(e){var t=e.getRootNode&&e.getRootNode().contains(e);return e===e.ownerDocument.body||e.ownerDocument.body.contains(e)||t}(e)||null===window.getComputedStyle(e)}(s)?P():(h("Element is detached"),x(),h("Waiting until element is attached..."),o(s).onRendered=function(){h("Element is now attached"),P()})},addListener:function(e,t){if(!o(e).listeners.push)throw new Error("Cannot add listener to an element that is not detectable.");o(e).listeners.push(t)},uninstall:function(e){var t=o(e);t&&(t.onExpandScroll&&d(u(e),"scroll",t.onExpandScroll),t.onShrinkScroll&&d(p(e),"scroll",t.onShrinkScroll),t.onAnimationStart&&d(t.container,"animationstart",t.onAnimationStart),t.container&&e.removeChild(t.container))},initDocument:s}}}}]);
//# sourceMappingURL=DashboardPage.17511e2bf08b06f121f8.js.map