"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[20],{"./packages/grafana-data/src/datetime/parser.ts":(e,t,a)=>{a.d(t,{J:()=>d});var n=a("./.yarn/cache/moment-timezone-npm-0.5.34-e4fe2d01f6-12a1d3d52e.zip/node_modules/moment-timezone/index.js"),s=a.n(n),r=a("./packages/grafana-data/src/datetime/moment_wrapper.ts"),i=a("./packages/grafana-data/src/datetime/common.ts"),o=a("./packages/grafana-data/src/datetime/datemath.ts"),l=a("./.yarn/cache/lodash-npm-4.17.21-6382451519-eb835a2e51.zip/node_modules/lodash/lodash.js"),c=a("./packages/grafana-data/src/datetime/formats.ts");const d=(e,t)=>(0,r.v9)(e)?e:"string"==typeof e?m(e,t):u(e,t),m=(e,t)=>{var a;if(-1!==e.indexOf("now")){if(!(0,o.isValid)(e))return s()();return(0,o.parse)(e,null==t?void 0:t.roundUp,null==t?void 0:t.timeZone,null==t?void 0:t.fiscalYearStartMonth)||s()()}const n=(0,i.Z)(t),r=s().tz.zone(n),d=null!==(a=null==t?void 0:t.format)&&void 0!==a?a:c.U6.fullDate;return r&&r.name?s().tz(e,d,r.name):"utc"===(0,l.lowerCase)(n)?s().utc(e,d):s()(e,d)},u=(e,t)=>{const a=e,n=(0,i.Z)(t),r=s().tz.zone(n);return r&&r.name?s().tz(a,r.name):"utc"===(0,l.lowerCase)(n)?s().utc(a):s()(a)}},"./packages/grafana-data/src/events/eventFactory.ts":(e,t,a)=>{a.d(t,{X:()=>s});const n=new Set;function s(e){if(n.has(e))throw new Error(`There is already an event defined with type '${e}'`);return n.add(e),{name:e}}},"./packages/grafana-data/src/events/types.ts":(e,t,a)=>{function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,{m:()=>s,R:()=>r});class s{constructor(){n(this,"type",void 0),n(this,"payload",void 0),n(this,"origin",void 0),this.type=this.__proto__.constructor.type}}class r extends s{constructor(e){super(),n(this,"payload",void 0),this.payload=e}}},"./packages/grafana-data/src/field/FieldConfigOptionsRegistry.tsx":(e,t,a)=>{a.d(t,{Z:()=>s});var n=a("./packages/grafana-data/src/utils/Registry.ts");class s extends n.B{}},"./packages/grafana-data/src/field/fieldComparers.ts":(e,t,a)=>{a.d(t,{Mo:()=>i});var n=a("./packages/grafana-data/src/types/dataFrame.ts"),s=a("./packages/grafana-data/src/datetime/index.ts"),r=a("./.yarn/cache/lodash-npm-4.17.21-6382451519-eb835a2e51.zip/node_modules/lodash/lodash.js");const i=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a=e.values;switch(e.type){case n.fS.number:return p(a,t);case n.fS.string:return g(a,t);case n.fS.boolean:return f(a,t);case n.fS.time:return u(a,t);default:return h(t)}},o=(e,t)=>e&&t?(0,r.isNumber)(e)&&(0,r.isNumber)(t)?l(e,t):(0,s.CQ)(e).isBefore(t)?-1:(0,s.CQ)(t).isBefore(e)?1:0:m(e,t),l=(e,t)=>e-t,c=(e,t)=>e&&t?e.localeCompare(t):m(e,t),d=(e,t)=>m(e,t),m=(e,t)=>!e&&t?1:e&&!t?-1:0,u=(e,t)=>(a,n)=>{const s=e.get(a),r=e.get(n);return t?o(r,s):o(s,r)},f=(e,t)=>(a,n)=>{const s=e.get(a),r=e.get(n);return t?d(r,s):d(s,r)},p=(e,t)=>(a,n)=>{const s=e.get(a),r=e.get(n);return t?l(r,s):l(s,r)},g=(e,t)=>(a,n)=>{const s=e.get(a),r=e.get(n);return t?c(r,s):c(s,r)},h=e=>(t,a)=>e?l(a,t):l(t,a)},"./packages/grafana-data/src/field/fieldState.ts":(e,t,a)=>{a.d(t,{n:()=>r,C:()=>i});var n=a("./packages/grafana-data/src/types/index.ts"),s=a("./packages/grafana-data/src/utils/labels.ts");function r(e,t){if(e.name)return e.name;const a=[];for(const t of e.fields)t.labels&&Object.keys(t.labels).length>0&&a.push(t);return 1===a.length?(0,s.aA)(a[0].labels):void 0===t?e.fields.filter((e=>e.type!==n.fS.time)).map((t=>i(t,e))).join(", "):e.refId?`Series (${e.refId})`:`Series (${t})`}function i(e,t,a){var r,i;const o=null===(r=e.state)||void 0===r?void 0:r.displayName,l=Boolean(a&&a.length>1);if(o&&l===(null===(i=e.state)||void 0===i?void 0:i.multipleFrames))return o;const c=function(e,t,a){var r,i,o;const l=(null===(r=e.config)||void 0===r?void 0:r.displayName)&&(null===(i=e.config)||void 0===i?void 0:i.displayName.length);let c=l?e.config.displayName:e.name;if(l)return c;if(t&&null!==(o=e.config)&&void 0!==o&&o.displayNameFromDS)return e.config.displayNameFromDS;var d;if(e.type===n.fS.time&&!e.labels)return null!==(d=c)&&void 0!==d?d:n.Ls;let m=[],u=!1;if(a&&a.length>1)for(let e=1;e<a.length;e++){if(a[e].name!==a[e-1].name){u=!0;break}}let f=!1,p=!1;u&&null!=t&&t.name&&(m.push(t.name),f=!0);e.name&&e.name!==n.M5&&m.push(e.name);if(e.labels&&t){let n=function(e){let t=null;for(let a=0;a<e.length;a++){const n=e[a];for(const e of n.fields)if(e.labels)for(const a in e.labels)if(null===t)t=a;else if(a!==t)return null}return t}(null!=a?a:[t]);if(n)e.labels[n]&&(m.push(e.labels[n]),p=!0);else{let t=(0,s.aA)(e.labels);t&&(m.push(t),p=!0)}}!t||f||p||e.name!==n.M5||t.name&&t.name.length>0&&(m.push(t.name),f=!0);c=m.length?m.join(" "):e.name?e.name:n.M5;c===e.name&&(c=function(e,t){let a=0,n=!1;if(t)for(let s=0;s<t.fields.length;s++){const r=t.fields[s];if(e===r){if(n=!0,a>0){a++;break}}else if(e.name===r.name&&(a++,n))break}if(a)return`${e.name} ${a}`;return e.name}(e,t));return c}(e,t,a);return e.state=e.state||{},e.state.displayName=c,e.state.multipleFrames=l,c}},"./packages/grafana-data/src/text/sanitize.ts":(e,t,a)=>{a.d(t,{Nw:()=>l,he:()=>c,Nm:()=>d,oT:()=>m,Xv:()=>u});var n=a("./.yarn/cache/xss-npm-1.0.10-5bbd5a7b94-0dbc70a716.zip/node_modules/xss/lib/index.js"),s=a("./.yarn/cache/@braintree-sanitize-url-npm-5.0.2-ef365f598a-c033f9a0e6.zip/node_modules/@braintree/sanitize-url/dist/index.js");const r=Object.keys(n.whiteList).reduce(((e,t)=>{var a;return e[t]=null===(a=n.whiteList[t])||void 0===a?void 0:a.concat(["class","style"]),e}),{}),i=new n.FilterXSS({whiteList:r}),o=new n.FilterXSS({whiteList:r,css:{whiteList:Object.assign({},n.getDefaultCSSWhiteList(),{"flex-direction":!0,"flex-wrap":!0,"flex-basis":!0,"flex-grow":!0,"flex-shrink":!0,"flex-flow":!0,gap:!0,order:!0,"justify-content":!0,"justify-items":!0,"justify-self":!0,"align-items":!0,"align-content":!0,"align-self":!0})}});function l(e){try{return i.process(e)}catch(t){return console.error("String could not be sanitized",e),e}}function c(e){try{return o.process(e)}catch(t){return console.error("String could not be sanitized",e),"Text string could not be sanitized"}}function d(e){return(0,s.N)(e)}function m(e){return/\u001b\[\d{1,2}m/.test(e)}function u(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}},"./packages/grafana-data/src/themes/createTheme.ts":(e,t,a)=>{a.d(t,{j:()=>h});var n=a("./packages/grafana-data/src/themes/breakpoints.ts");function s(e,t){const a={padding:1,headerHeight:4,background:e.background.primary,borderColor:e.border.weak,boxShadow:"none"},n={borderColor:e.border.medium,borderHover:e.border.strong,text:e.text.primary,background:"dark"===e.mode?e.background.canvas:e.background.primary};return{height:{sm:3,md:4,lg:6},input:n,panel:a,dropdown:{background:n.background},tooltip:{background:"light"===e.mode?"#555":e.background.secondary,text:"light"===e.mode?"#FFF":e.text.primary},dashboard:{background:e.background.canvas,padding:1},overlay:{background:"dark"===e.mode?"rgba(0, 0, 0, 0.45)":"rgba(208, 209, 211, 0.24)"},sidemenu:{width:48}}}var r=a("./packages/grafana-data/src/themes/createColors.ts"),i=a("./packages/grafana-data/src/themes/createShadows.ts"),o=a("./packages/grafana-data/src/themes/createShape.ts"),l=a("./packages/grafana-data/src/themes/createSpacing.ts"),c=a("./packages/grafana-data/src/themes/createTransitions.ts"),d=a("./packages/grafana-data/src/themes/createTypography.ts"),m=a("./packages/grafana-data/src/types/index.ts");function u(e){const t={name:"Grafana Default",typography:{fontFamily:{sansSerif:e.typography.fontFamily,monospace:e.typography.fontFamilyMonospace},size:{base:`${e.typography.fontSize}px`,xs:e.typography.size.xs,sm:e.typography.size.sm,md:e.typography.size.md,lg:e.typography.size.lg},heading:{h1:e.typography.h1.fontSize,h2:e.typography.h2.fontSize,h3:e.typography.h3.fontSize,h4:e.typography.h4.fontSize,h5:e.typography.h5.fontSize,h6:e.typography.h6.fontSize},weight:{light:e.typography.fontWeightLight,regular:e.typography.fontWeightRegular,semibold:e.typography.fontWeightMedium,bold:e.typography.fontWeightBold},lineHeight:{xs:e.typography.bodySmall.lineHeight,sm:e.typography.bodySmall.lineHeight,md:e.typography.body.lineHeight,lg:e.typography.h2.lineHeight},link:{decoration:"none",hoverDecoration:"none"}},breakpoints:{xs:`${e.breakpoints.values.xs}px`,sm:`${e.breakpoints.values.sm}px`,md:`${e.breakpoints.values.md}px`,lg:`${e.breakpoints.values.lg}px`,xl:`${e.breakpoints.values.xl}px`,xxl:`${e.breakpoints.values.xxl}px`},spacing:{base:e.spacing.gridSize,insetSquishMd:e.spacing(.5,1),d:e.spacing(2),xxs:e.spacing(.25),xs:e.spacing(.5),sm:e.spacing(1),md:e.spacing(2),lg:e.spacing(3),xl:e.spacing(4),gutter:e.spacing(4),formSpacingBase:e.spacing.gridSize,formMargin:4*e.spacing.gridSize+"px",formFieldsetMargin:2*e.spacing.gridSize+"px",formInputHeight:4*e.spacing.gridSize,formButtonHeight:4*e.spacing.gridSize,formInputPaddingHorizontal:`${e.spacing.gridSize}px`,formInputAffixPaddingHorizontal:e.spacing.gridSize/2+"px",formInputMargin:2*e.spacing.gridSize+"px",formLabelPadding:"0 0 0 2px",formLabelMargin:`0 0 ${e.spacing.gridSize/2+"px"} 0`,formValidationMessagePadding:"4px 8px",formValidationMessageMargin:"4px 0 0 0",inlineFormMargin:"4px"},border:{radius:{sm:e.shape.borderRadius(1),md:e.shape.borderRadius(2),lg:e.shape.borderRadius(3)},width:{sm:"1px"}},height:{sm:e.spacing.gridSize*e.components.height.sm,md:e.spacing.gridSize*e.components.height.md,lg:e.spacing.gridSize*e.components.height.lg},panelPadding:e.components.panel.padding*e.spacing.gridSize,panelHeaderHeight:e.spacing.gridSize*e.components.panel.headerHeight,zIndex:e.zIndex},a=Object.assign({},f,{black:"#000000",white:"#ffffff",dark1:"#141414",dark2:"#161719",dark3:"#1f1f20",dark4:"#212124",dark5:"#222426",dark6:"#262628",dark7:"#292a2d",dark8:"#2f2f32",dark9:"#343436",dark10:"#424345",gray1:"#555555",gray2:"#8e8e8e",gray3:"#b3b3b3",gray4:"#d8d9da",gray5:"#ececec",gray6:"#f4f5f8",gray7:"#fbfbfb",redBase:"#e02f44",redShade:"#c4162a",greenBase:"#299c46",greenShade:"#23843b",red:"#d44a3a",yellow:"#ecbb13",purple:"#9933cc",variable:"#32d1df",orange:"#eb7b18",orangeDark:"#ff780a"}),n={bg1:e.colors.background.primary,bg2:e.colors.background.secondary,bg3:e.colors.action.hover,dashboardBg:e.colors.background.canvas,bgBlue1:e.colors.primary.main,bgBlue2:e.colors.primary.shade},s={border1:e.colors.border.weak,border2:e.colors.border.medium,border3:e.colors.border.strong},r={textStrong:e.colors.text.maxContrast,textHeading:e.colors.text.primary,text:e.colors.text.primary,textSemiWeak:e.colors.text.secondary,textWeak:e.colors.text.secondary,textFaint:e.colors.text.disabled,textBlue:e.colors.primary.text},i={formLabel:e.colors.text.primary,formDescription:e.colors.text.secondary,formInputBg:e.components.input.background,formInputBgDisabled:e.colors.action.disabledBackground,formInputBorder:e.components.input.borderColor,formInputBorderHover:e.components.input.borderHover,formInputBorderActive:e.colors.primary.border,formInputBorderInvalid:e.colors.error.border,formInputPlaceholderText:e.colors.text.disabled,formInputText:e.components.input.text,formInputDisabledText:e.colors.action.disabledText,formFocusOutline:e.colors.primary.main,formValidationMessageText:e.colors.error.contrastText,formValidationMessageBg:e.colors.error.main};return Object.assign({},t,{type:"dark"===e.colors.mode?m.Qu.Dark:m.Qu.Light,isDark:e.isDark,isLight:e.isLight,name:e.name,palette:Object.assign({},a,{brandPrimary:a.orange,brandSuccess:e.colors.success.main,brandWarning:e.colors.warning.main,brandDanger:e.colors.error.main,queryRed:e.colors.error.text,queryGreen:e.colors.success.text,queryPurple:"#fe85fc",queryOrange:a.orange,online:e.colors.success.main,warn:e.colors.success.main,critical:e.colors.success.main}),colors:Object.assign({},n,s,i,r,{bodyBg:e.colors.background.canvas,panelBg:e.components.panel.background,panelBorder:e.components.panel.borderColor,pageHeaderBg:e.colors.background.canvas,pageHeaderBorder:e.colors.background.canvas,dropdownBg:i.formInputBg,dropdownShadow:a.black,dropdownOptionHoverBg:n.bg2,link:e.colors.text.primary,linkDisabled:e.colors.text.disabled,linkHover:e.colors.text.maxContrast,linkExternal:e.colors.text.link}),shadows:{listItem:"none"},visualization:e.visualization})}const f={gray98:"#f7f8fa",gray97:"#f1f5f9",gray95:"#e9edf2",gray90:"#dce1e6",gray85:"#c7d0d9",gray70:"#9fa7b3",gray60:"#7b8087",gray33:"#464c54",gray25:"#2c3235",gray15:"#202226",gray10:"#141619",gray05:"#0b0c0e",blue95:"#5794f2",blue85:"#33a2e5",blue80:"#3274d9",blue77:"#1f60c4",red88:"#e02f44"};var p=a("./packages/grafana-data/src/themes/zIndex.ts"),g=a("./packages/grafana-data/src/themes/createVisualizationColors.ts");function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{name:t="Dark",colors:a={},spacing:m={},shape:f={},typography:h={}}=e,b=(0,r.i)(a),y=(0,n._)(),v=(0,l._)(m),x=(0,o.r)(f),k=(0,d.f)(b,h),S=(0,i.G)(b),w=(0,c.ig)(),N=s(b),F=(0,g.x)(b),M={name:t,isDark:"dark"===b.mode,isLight:"light"===b.mode,colors:b,breakpoints:y,spacing:v,shape:x,components:N,typography:k,shadows:S,transitions:w,visualization:F,zIndex:Object.assign({},p.W)};return Object.assign({},M,{v1:u(M)})}},"./packages/grafana-data/src/themes/palette.ts":(e,t,a)=>{a.d(t,{D:()=>n});const n={white:"#FFFFFF",black:"#000000",gray25:"#2c3235",gray15:"#22252b",gray10:"#181b1f",gray05:"#111217",darkLayer0:"#18181A",darkLayer1:"#212124",darkLayer2:"#2a2a2f",darkBorder1:"#34343B",darkBorder2:"#64646B",gray90:"#F4F5F5",gray100:"#F4F5F5",gray80:"#D0D1D3",lightBorder1:"#E4E7E7",blueDarkMain:"#3D71D9",blueDarkText:"#6E9FFF",redDarkMain:"#D10E5C",redDarkText:"#FF5286",greenDarkMain:"#1A7F4B",greenDarkText:"#6CCF8E",orangeDarkMain:"#F5B73D",orangeDarkText:"#F8D06B",blueLightMain:"#3871DC",blueLightText:"#1F62E0",redLightMain:"#E0226E",redLightText:"#CF0E5B",greenLightMain:"#1B855E",greenLightText:"#0A764E",orangeLightMain:"#FAD34A",orangeLightText:"#8A6C00"}},"./packages/grafana-data/src/transformations/fieldReducer.ts":(e,t,a)=>{a.d(t,{gz:()=>i,Kx:()=>o,TB:()=>l,uP:()=>c});var n=a("./.yarn/cache/lodash-npm-4.17.21-6382451519-eb835a2e51.zip/node_modules/lodash/lodash.js"),s=a("./packages/grafana-data/src/types/index.ts"),r=a("./packages/grafana-data/src/utils/Registry.ts");let i;function o(e){var t;const{field:a,reducers:n}=e;if(!a||!n||n.length<1)return{};if(null!==(t=a.state)&&void 0!==t&&t.calcs){const e=[];for(const t of n)a.state.calcs.hasOwnProperty(t)||e.push(t);if(e.length<1)return Object.assign({},a.state.calcs)}a.state||(a.state={});const r=l.list(n);if(a.values.length<1){const e=Object.assign({},a.state.calcs);for(const t of r)e[t.id]=null!==t.emptyInputResult?t.emptyInputResult:null;return a.state.calcs=e}const{nullValueMode:i}=a.config,o=i===s.Gl.Ignore,d=i===s.Gl.AsZero;if(1===r.length&&r[0].reduce){const e=r[0].reduce(a,o,d);return a.state.calcs=Object.assign({},a.state.calcs,e),e}let m=c(a,o,d);for(const e of r)!m.hasOwnProperty(e.id)&&e.reduce&&(m=Object.assign({},m,e.reduce(a,o,d)));return a.state.calcs=Object.assign({},a.state.calcs,m),m}!function(e){e.sum="sum",e.max="max",e.min="min",e.logmin="logmin",e.mean="mean",e.last="last",e.first="first",e.count="count",e.range="range",e.diff="diff",e.diffperc="diffperc",e.delta="delta",e.step="step",e.firstNotNull="firstNotNull",e.lastNotNull="lastNotNull",e.changeCount="changeCount",e.distinctCount="distinctCount",e.allIsZero="allIsZero",e.allIsNull="allIsNull",e.allValues="allValues"}(i||(i={}));const l=new r.B((()=>[{id:i.lastNotNull,name:"Last *",description:"Last non-null value",standard:!0,aliasIds:["current"],reduce:f},{id:i.last,name:"Last",description:"Last value",standard:!0,reduce:u},{id:i.first,name:"First",description:"First Value",standard:!0,reduce:d},{id:i.firstNotNull,name:"First",description:"First non-null value",standard:!0,reduce:m},{id:i.min,name:"Min",description:"Minimum Value",standard:!0},{id:i.max,name:"Max",description:"Maximum Value",standard:!0},{id:i.mean,name:"Mean",description:"Average Value",standard:!0,aliasIds:["avg"]},{id:i.sum,name:"Total",description:"The sum of all values",emptyInputResult:0,standard:!0,aliasIds:["total"]},{id:i.count,name:"Count",description:"Number of values in response",emptyInputResult:0,standard:!0},{id:i.range,name:"Range",description:"Difference between minimum and maximum values",standard:!0},{id:i.delta,name:"Delta",description:"Cumulative change in value",standard:!0},{id:i.step,name:"Step",description:"Minimum interval between values",standard:!0},{id:i.diff,name:"Difference",description:"Difference between first and last values",standard:!0},{id:i.logmin,name:"Min (above zero)",description:"Used for log min scale",standard:!0},{id:i.allIsZero,name:"All Zeros",description:"All values are zero",emptyInputResult:!1,standard:!0},{id:i.allIsNull,name:"All Nulls",description:"All values are null",emptyInputResult:!0,standard:!0},{id:i.changeCount,name:"Change Count",description:"Number of times the value changes",standard:!1,reduce:p},{id:i.distinctCount,name:"Distinct Count",description:"Number of distinct values",standard:!1,reduce:g},{id:i.diffperc,name:"Difference percent",description:"Percentage difference between first and last values",standard:!0},{id:i.allValues,name:"All values",description:"Returns an array with all values",standard:!1,reduce:e=>({allValues:e.values.toArray()})}]));function c(e,t,a){const r={sum:0,max:-Number.MAX_VALUE,min:Number.MAX_VALUE,logmin:Number.MAX_VALUE,mean:null,last:null,first:null,lastNotNull:null,firstNotNull:null,count:0,nonNullCount:0,allIsNull:!0,allIsZero:!0,range:null,diff:null,delta:0,step:Number.MAX_VALUE,diffperc:0,previousDeltaUp:!0},i=e.values;r.count=i.length;const o=e.type===s.fS.number||s.fS.time;for(let e=0;e<i.length;e++){let n=i.get(e);if(0===e&&(r.first=n),r.last=n,null===n){if(t)continue;a&&(n=0)}if(null!=n){const t=null===r.firstNotNull;if(t&&(r.firstNotNull=n),o){if(r.sum+=n,r.allIsNull=!1,r.nonNullCount++,!t){const t=n-r.lastNotNull;r.step>t&&(r.step=t),r.lastNotNull>n?(r.previousDeltaUp=!1,e===i.length-1&&(r.delta+=n)):(r.previousDeltaUp?r.delta+=t:r.delta+=n,r.previousDeltaUp=!0)}n>r.max&&(r.max=n),n<r.min&&(r.min=n),n<r.logmin&&n>0&&(r.logmin=n)}0!==n&&(r.allIsZero=!1),r.lastNotNull=n}}return r.max===-Number.MAX_VALUE&&(r.max=null),r.min===Number.MAX_VALUE&&(r.min=null),r.step===Number.MAX_VALUE&&(r.step=null),r.nonNullCount>0&&(r.mean=r.sum/r.nonNullCount),r.allIsNull&&(r.allIsZero=!1),null!==r.max&&null!==r.min&&(r.range=r.max-r.min),(0,n.isNumber)(r.firstNotNull)&&(0,n.isNumber)(r.lastNotNull)&&(r.diff=r.lastNotNull-r.firstNotNull),(0,n.isNumber)(r.firstNotNull)&&(0,n.isNumber)(r.diff)&&(r.diffperc=r.diff/r.firstNotNull),r}function d(e,t,a){return{first:e.values.get(0)}}function m(e,t,a){const n=e.values;for(let e=0;e<n.length;e++){const t=n.get(e);if(null!=t&&void 0!==t)return{firstNotNull:t}}return{firstNotNull:null}}function u(e,t,a){const n=e.values;return{last:n.get(n.length-1)}}function f(e,t,a){const n=e.values;let s=n.length-1;for(;s>=0;){const e=n.get(s--);if(null!=e&&void 0!==e)return{lastNotNull:e}}return{lastNotNull:null}}function p(e,t,a){const n=e.values;let s=0,r=!0,i=null;for(let e=0;e<n.length;e++){let o=n.get(e);if(null===o){if(t)continue;a&&(o=0)}r||i===o||s++,r=!1,i=o}return{changeCount:s}}function g(e,t,a){const n=e.values,s=new Set;for(let e=0;e<n.length;e++){let r=n.get(e);if(null===r){if(t)continue;a&&(r=0)}s.add(r)}return{distinctCount:s.size}}},"./packages/grafana-data/src/transformations/matchers/fieldTypeMatcher.ts":(e,t,a)=>{a.d(t,{N:()=>l});var n=a("./packages/grafana-data/src/types/dataFrame.ts"),s=a("./packages/grafana-data/src/transformations/matchers/ids.ts");const r={id:s.mi.byType,name:"Field Type",description:"match based on the field type",defaultOptions:n.fS.number,get:e=>(t,a,n)=>e===t.type,getOptionsDisplayText:e=>`Field type: ${e}`},i={id:s.mi.numeric,name:"Numeric Fields",description:"Fields with type number",get:()=>r.get(n.fS.number),getOptionsDisplayText:()=>"Numeric Fields"},o={id:s.mi.time,name:"Time Fields",description:"Fields with type time",get:()=>r.get(n.fS.time),getOptionsDisplayText:()=>"Time Fields"};function l(){return[r,i,o]}},"./packages/grafana-data/src/transformations/matchers/ids.ts":(e,t,a)=>{let n,s,r,i;a.d(t,{Ff:()=>n,mi:()=>s,E4:()=>r,mE:()=>i}),function(e){e.anyMatch="anyMatch",e.allMatch="allMatch",e.invertMatch="invertMatch",e.alwaysMatch="alwaysMatch",e.neverMatch="neverMatch"}(n||(n={})),function(e){e.numeric="numeric",e.time="time",e.first="first",e.firstTimeField="firstTimeField",e.byType="byType",e.byName="byName",e.byNames="byNames",e.byRegexp="byRegexp",e.byRegexpOrNames="byRegexpOrNames",e.byFrameRefID="byFrameRefID"}(s||(s={})),function(e){e.byName="byName",e.byRefId="byRefId",e.byIndex="byIndex",e.byLabel="byLabel"}(r||(r={})),function(e){e.regex="regex",e.isNull="isNull",e.isNotNull="isNotNull",e.greater="greater",e.greaterOrEqual="greaterOrEqual",e.lower="lower",e.lowerOrEqual="lowerOrEqual",e.equal="equal",e.notEqual="notEqual",e.between="between"}(i||(i={}))},"./packages/grafana-data/src/transformations/matchers/predicates.ts":(e,t,a)=>{a.d(t,{m3:()=>u,Qw:()=>g,Ty:()=>k,fX:()=>S});var n=a("./packages/grafana-data/src/types/dataFrame.ts"),s=a("./packages/grafana-data/src/transformations/matchers/ids.ts"),r=a("./packages/grafana-data/src/transformations/matchers.ts");const i={id:s.Ff.anyMatch,name:"Any",description:"Any child matches (OR)",excludeFromPicker:!0,defaultOptions:[],get:e=>{const t=e.map((e=>(0,r.sq)(e)));return(e,a,n)=>{for(const s of t)if(s(e,a,n))return!0;return!1}},getOptionsDisplayText:e=>{let t="";for(const a of e){t.length>0&&(t+=" OR ");const e=r.Ls.get(a.id);t+=e.getOptionsDisplayText?e.getOptionsDisplayText(a):e.name}return t}},o={id:s.Ff.anyMatch,name:"Any",description:"Any child matches (OR)",excludeFromPicker:!0,defaultOptions:[],get:e=>{const t=e.map((e=>(0,r.b9)(e)));return e=>{for(const a of t)if(a(e))return!0;return!1}},getOptionsDisplayText:e=>{let t="";for(const a of e){t.length>0&&(t+=" OR ");const e=r.Ac.get(a.id);t+=e.getOptionsDisplayText?e.getOptionsDisplayText(a):e.name}return t}},l={id:s.Ff.allMatch,name:"All",description:"Everything matches (AND)",excludeFromPicker:!0,defaultOptions:[],get:e=>{const t=e.map((e=>(0,r.sq)(e)));return(e,a,n)=>{for(const s of t)if(!s(e,a,n))return!1;return!0}},getOptionsDisplayText:e=>{let t="";for(const a of e){t.length>0&&(t+=" AND ");const e=r.Ls.get(a.id);t+=e.getOptionsDisplayText?e.getOptionsDisplayText(a):e.name}return t}},c={id:s.Ff.allMatch,name:"All",description:"Everything matches (AND)",excludeFromPicker:!0,defaultOptions:[],get:e=>{const t=e.map((e=>(0,r.b9)(e)));return e=>{for(const a of t)if(!a(e))return!1;return!0}},getOptionsDisplayText:e=>{let t="";for(const a of e){t.length>0&&(t+=" AND ");const e=r.Ac.get(a.id);t+=e.getOptionsDisplayText?e.getOptionsDisplayText(a):e.name}return t}},d={id:s.Ff.invertMatch,name:"NOT",description:"Inverts other matchers",excludeFromPicker:!0,get:e=>{const t=(0,r.sq)(e);return(e,a,n)=>!t(e,a,n)},getOptionsDisplayText:e=>{const t=r.Ls.get(e.id);return"NOT "+(t.getOptionsDisplayText?t.getOptionsDisplayText(e.options):t.name)}},m={id:s.Ff.invertMatch,name:"NOT",description:"Inverts other matchers",excludeFromPicker:!0,get:e=>{const t=(0,r.b9)(e);return e=>!t(e)},getOptionsDisplayText:e=>{const t=r.Ac.get(e.id);return"NOT "+(t.getOptionsDisplayText?t.getOptionsDisplayText(e.options):t.name)}},u=e=>!0,f=e=>!0,p=e=>!1,g=e=>e.type!==n.fS.time,h=e=>!1,b={id:s.Ff.alwaysMatch,name:"All Fields",description:"Always Match",get:e=>u,getOptionsDisplayText:e=>"Always"},y={id:s.Ff.alwaysMatch,name:"All Frames",description:"Always Match",get:e=>f,getOptionsDisplayText:e=>"Always"},v={id:s.Ff.neverMatch,name:"No Fields",description:"Never Match",excludeFromPicker:!0,get:e=>p,getOptionsDisplayText:e=>"Never"},x={id:s.Ff.neverMatch,name:"No Frames",description:"Never Match",get:e=>h,getOptionsDisplayText:e=>"Never"};function k(){return[i,l,d,b,v]}function S(){return[o,c,m,y,x]}},"./packages/grafana-data/src/transformations/matchers/refIdMatcher.ts":(e,t,a)=>{a.d(t,{n:()=>i});var n=a("./packages/grafana-data/src/transformations/matchers/ids.ts"),s=a("./packages/grafana-data/src/text/index.ts");const r={id:n.E4.byRefId,name:"Query refId",description:"match the refId",defaultOptions:"A",get:e=>{const t=(0,s.jO)(e);return e=>t.test(e.refId||"")},getOptionsDisplayText:e=>`RefID: ${e}`};function i(){return[r]}},"./packages/grafana-data/src/transformations/matchers/simpleFieldMatcher.ts":(e,t,a)=>{a.d(t,{z:()=>o});var n=a("./packages/grafana-data/src/types/dataFrame.ts"),s=a("./packages/grafana-data/src/transformations/matchers/ids.ts");const r={id:s.mi.first,name:"First Field",description:"The first field in the frame",get:e=>(e,t,a)=>e===t.fields[0],getOptionsDisplayText:()=>"First field"},i={id:s.mi.firstTimeField,name:"First time field",description:"The first field of type time in a frame",get:e=>(e,t,a)=>e.type===n.fS.time&&e===t.fields.find((e=>e.type===n.fS.time)),getOptionsDisplayText:()=>"First time field"};function o(){return[r,i]}},"./packages/grafana-data/src/transformations/matchers/valueMatchers/equalMatchers.ts":(e,t,a)=>{a.d(t,{T:()=>i});var n=a("./packages/grafana-data/src/transformations/matchers/ids.ts");const s={id:n.mE.equal,name:"Is equal",description:"Match where value for given field is equal to options value.",get:e=>(t,a)=>a.values.get(t)==e.value,getOptionsDisplayText:()=>"Matches all rows where field is null.",isApplicable:()=>!0,getDefaultOptions:()=>({value:""})},r={id:n.mE.notEqual,name:"Is not equal",description:"Match where value for given field is not equal to options value.",get:e=>(t,a)=>a.values.get(t)!=e.value,getOptionsDisplayText:()=>"Matches all rows where field is not null.",isApplicable:()=>!0,getDefaultOptions:()=>({value:""})},i=()=>[s,r]},"./packages/grafana-data/src/transformations/matchers/valueMatchers/nullMatchers.ts":(e,t,a)=>{a.d(t,{a:()=>i});var n=a("./packages/grafana-data/src/transformations/matchers/ids.ts");const s={id:n.mE.isNull,name:"Is null",description:"Match where value for given field is null.",get:()=>(e,t)=>null==t.values.get(e),getOptionsDisplayText:()=>"Matches all rows where field is null.",isApplicable:()=>!0,getDefaultOptions:()=>({})},r={id:n.mE.isNotNull,name:"Is not null",description:"Match where value for given field is not null.",get:()=>(e,t)=>null!=t.values.get(e),getOptionsDisplayText:()=>"Matches all rows where field is not null.",isApplicable:()=>!0,getDefaultOptions:()=>({})},i=()=>[s,r]},"./packages/grafana-data/src/transformations/matchers/valueMatchers/numericMatchers.ts":(e,t,a)=>{a.d(t,{H:()=>c});var n=a("./packages/grafana-data/src/types/dataFrame.ts"),s=a("./packages/grafana-data/src/transformations/matchers/ids.ts");const r={id:s.mE.greater,name:"Is greater",description:"Match when field value is greater than option.",get:e=>(t,a)=>{const n=a.values.get(t);return!isNaN(n)&&n>e.value},getOptionsDisplayText:e=>`Matches all rows where field value is greater than: ${e.value}.`,isApplicable:e=>e.type===n.fS.number,getDefaultOptions:()=>({value:0})},i={id:s.mE.greaterOrEqual,name:"Is greater or equal",description:"Match when field value is greater than or equal to option.",get:e=>(t,a)=>{const n=a.values.get(t);return!isNaN(n)&&n>=e.value},getOptionsDisplayText:e=>`Matches all rows where field value is greater than or equal to: ${e.value}.`,isApplicable:e=>e.type===n.fS.number,getDefaultOptions:()=>({value:0})},o={id:s.mE.lower,name:"Is lower",description:"Match when field value is lower than option.",get:e=>(t,a)=>{const n=a.values.get(t);return!isNaN(n)&&n<e.value},getOptionsDisplayText:e=>`Matches all rows where field value is lower than: ${e.value}.`,isApplicable:e=>e.type===n.fS.number,getDefaultOptions:()=>({value:0})},l={id:s.mE.lowerOrEqual,name:"Is lower or equal",description:"Match when field value is lower or equal than option.",get:e=>(t,a)=>{const n=a.values.get(t);return!isNaN(n)&&n<=e.value},getOptionsDisplayText:e=>`Matches all rows where field value is lower or equal than: ${e.value}.`,isApplicable:e=>e.type===n.fS.number,getDefaultOptions:()=>({value:0})},c=()=>[r,i,o,l]},"./packages/grafana-data/src/transformations/matchers/valueMatchers/rangeMatchers.ts":(e,t,a)=>{a.d(t,{G:()=>r});var n=a("./packages/grafana-data/src/types/dataFrame.ts");const s={id:a("./packages/grafana-data/src/transformations/matchers/ids.ts").mE.between,name:"Is between",description:"Match when field value is between given option values.",get:e=>(t,a)=>{const n=a.values.get(t);return!isNaN(n)&&(n>e.from&&n<e.to)},getOptionsDisplayText:e=>`Matches all rows where field value is between ${e.from} and ${e.to}.`,isApplicable:e=>e.type===n.fS.number,getDefaultOptions:()=>({from:0,to:100})},r=()=>[s]},"./packages/grafana-data/src/transformations/matchers/valueMatchers/regexMatchers.ts":(e,t,a)=>{a.d(t,{G:()=>s});const n={id:a("./packages/grafana-data/src/transformations/matchers/ids.ts").mE.regex,name:"Regex",description:"Match when field value is matching regex.",get:e=>{const t=new RegExp(e.value);return(e,a)=>{const n=a.values.get(e);return t.test(n)}},getOptionsDisplayText:e=>`Matches all rows where field value is matching regex: ${e.value}`,isApplicable:()=>!0,getDefaultOptions:()=>({value:".*"})},s=()=>[n]},"./packages/grafana-data/src/transformations/transformers/ensureColumns.ts":(e,t,a)=>{a.d(t,{W:()=>o});var n=a("./packages/grafana-data/src/transformations/transformers/seriesToColumns.ts"),s=a("./packages/grafana-data/src/dataframe/processDataFrame.ts"),r=a("./packages/grafana-data/src/transformations/transformers/ids.ts"),i=a("./.yarn/cache/rxjs-npm-7.5.1-ce59cbb6a3-78e3eecb16.zip/node_modules/rxjs/dist/esm5/internal/operators/map.js");const o={id:r.W.ensureColumns,name:"Ensure Columns Transformer",description:"Will check if current data frames is series or columns. If in series it will convert to columns.",operator:e=>t=>t.pipe((0,i.U)((t=>o.transformer(e)(t)))),transformer:e=>e=>{const t=function(e){let t;for(const a of e){const{timeField:e}=(0,s.sV)(a);if(!e)return;if(t){if(t!==e.name)return}else t=e.name}return t}(e);return e.length>1&&t?n.u.transformer({byField:t})(e):e}}},"./packages/grafana-data/src/transformations/transformers/filter.ts":(e,t,a)=>{a.d(t,{P:()=>o,u:()=>l});var n=a("./.yarn/cache/rxjs-npm-7.5.1-ce59cbb6a3-78e3eecb16.zip/node_modules/rxjs/dist/esm5/internal/operators/map.js"),s=a("./packages/grafana-data/src/transformations/transformers/noop.ts"),r=a("./packages/grafana-data/src/transformations/transformers/ids.ts"),i=a("./packages/grafana-data/src/transformations/matchers.ts");const o={id:r.W.filterFields,name:"Filter Fields",description:"select a subset of fields",defaultOptions:{},operator:e=>t=>e.include||e.exclude?t.pipe((0,n.U)((t=>{const a=e.include?(0,i.sq)(e.include):null,n=e.exclude?(0,i.sq)(e.exclude):null,s=[];for(const e of t){const r=[];for(let s=0;s<e.fields.length;s++){const i=e.fields[s];if(n){if(n(i,e,t))continue;a||r.push(i)}a&&a(i,e,t)&&r.push(i)}if(!r.length)continue;const i=Object.assign({},e,{fields:r});s.push(i)}return s}))):t.pipe(s.d.operator({}))},l={id:r.W.filterFrames,name:"Filter Frames",description:"select a subset of frames",defaultOptions:{},operator:e=>t=>e.include||e.exclude?t.pipe((0,n.U)((t=>{const a=e.include?(0,i.b9)(e.include):null,n=e.exclude?(0,i.b9)(e.exclude):null,s=[];for(const e of t){if(n){if(n(e))continue;a||s.push(e)}a&&a(e)&&s.push(e)}return s}))):t.pipe(s.d.operator({}))}},"./packages/grafana-data/src/transformations/transformers/filterByName.ts":(e,t,a)=>{a.d(t,{w:()=>i});var n=a("./packages/grafana-data/src/transformations/transformers/ids.ts"),s=a("./packages/grafana-data/src/transformations/matchers/ids.ts"),r=a("./packages/grafana-data/src/transformations/transformers/filter.ts");const i={id:n.W.filterFieldsByName,name:"Filter fields by name",description:"select a subset of fields",defaultOptions:{},operator:e=>t=>t.pipe(r.P.operator({include:o(e.include),exclude:o(e.exclude)}))},o=e=>{if(!e)return;const{names:t,pattern:a}=e;return Array.isArray(t)&&0!==t.length||a?a?Array.isArray(t)&&0!==t.length?{id:s.mi.byRegexpOrNames,options:e}:{id:s.mi.byRegexp,options:a}:{id:s.mi.byNames,options:{names:t}}:void 0}},"./packages/grafana-data/src/transformations/transformers/filterByRefId.ts":(e,t,a)=>{a.d(t,{J:()=>i});var n=a("./packages/grafana-data/src/transformations/transformers/ids.ts"),s=a("./packages/grafana-data/src/transformations/transformers/filter.ts"),r=a("./packages/grafana-data/src/transformations/matchers/ids.ts");const i={id:n.W.filterByRefId,name:"Filter data by query refId",description:"select a subset of results",defaultOptions:{},operator:e=>t=>{const a={};return e.include&&(a.include={id:r.E4.byRefId,options:e.include}),e.exclude&&(a.exclude={id:r.E4.byRefId,options:e.exclude}),t.pipe(s.u.operator(a))}}},"./packages/grafana-data/src/transformations/transformers/ids.ts":(e,t,a)=>{let n;a.d(t,{W:()=>n}),function(e){e.append="append",e.reduce="reduce",e.order="order",e.organize="organize",e.rename="rename",e.calculateField="calculateField",e.seriesToColumns="seriesToColumns",e.seriesToRows="seriesToRows",e.merge="merge",e.concatenate="concatenate",e.labelsToFields="labelsToFields",e.filterFields="filterFields",e.filterFieldsByName="filterFieldsByName",e.filterFrames="filterFrames",e.filterByRefId="filterByRefId",e.renameByRegex="renameByRegex",e.filterByValue="filterByValue",e.noop="noop",e.ensureColumns="ensureColumns",e.groupBy="groupBy",e.sortBy="sortBy",e.histogram="histogram",e.configFromData="configFromData",e.rowsToFields="rowsToFields",e.prepareTimeSeries="prepareTimeSeries",e.convertFieldType="convertFieldType",e.fieldLookup="fieldLookup",e.spatial="spatial",e.extractFields="extractFields"}(n||(n={}))},"./packages/grafana-data/src/transformations/transformers/joinDataFrames.ts":(e,t,a)=>{a.d(t,{JP:()=>c,v_:()=>p});var n=a("./packages/grafana-data/src/types/index.ts"),s=a("./packages/grafana-data/src/vector/index.ts"),r=a("./packages/grafana-data/src/transformations/matchers.ts"),i=a("./packages/grafana-data/src/transformations/matchers/ids.ts"),o=a("./packages/grafana-data/src/dataframe/index.ts");function l(e){var t;return null!==(t=e.joinBy)&&void 0!==t?t:function(e){const{timeField:t}=(0,o.sV)(e[0]);if(t)return r.Ls.get(i.mi.firstTimeField).get({});let a=[];for(const t of e[0].fields)t.type===n.fS.number&&a.push(t.name);for(let t=1;t<e.length;t++){const t=[];for(const a of e[0].fields)a.type===n.fS.number&&t.push(a.name);a=a.filter((e=>!t.includes(e)))}return r.Ls.get(i.mi.byName).get(a[0])}(e.frames)}function c(e){var t;if(null===(t=e.frames)||void 0===t||!t.length)return;if(1===e.frames.length){let t=e.frames[0],a=t;const n=l(e);let s=a.fields.findIndex((t=>n(t,a,e.frames)));if(e.keepOriginIndices&&(a=Object.assign({},t,{fields:t.fields.map(((e,t)=>{const a=Object.assign({},e),n={frameIndex:0,fieldIndex:t};return a.state?a.state.origin=n:a.state={origin:n},a}))}),s>0)){const e=a.fields[s],t=a.fields.filter(((e,t)=>t!==s));t.unshift(e),a.fields=t,s=0}if(e.enforceSort&&s>=0&&(function(e){let t;for(let a=0;a<e.length;a++){const n=e.get(a);if(null!=n){if(null!=t){if(t>n)return!1;break}t=n}}let a=e.length-1;for(;a>=0;){const n=e.get(a--);if(null!=n)return!(t>n)}return!0}(a.fields[s].values)||(a=(0,o.aK)(a,s))),e.keep){let n=a.fields.filter(((t,n)=>n===s||e.keep(t,a,e.frames)));t!==a?a.fields=n:a=Object.assign({},t,{fields:n})}return a}const a=[],n=[],r=[],i=l(e);for(let t=0;t<e.frames.length;t++){var c;const s=e.frames[t];if(!s||null===(c=s.fields)||void 0===c||!c.length)continue;const o=[d];let l,p=[];for(let a=0;a<s.fields.length;a++){const n=s.fields[a];if(n.state=n.state||{},!l&&i(n,s,e.frames))l=n;else{var f,g;if(e.keep&&!e.keep(n,s,e.frames))continue;let t=null===(f=n.config.custom)||void 0===f?void 0:f.spanNulls;o.push(!0===t?d:-1===t?m:u);let a=null!==(g=n.labels)&&void 0!==g?g:{};s.name&&(a=Object.assign({},a,{name:s.name})),p.push(Object.assign({},n,{labels:a}))}e.keepOriginIndices&&(n.state.origin={frameIndex:t,fieldIndex:a})}if(!l)continue;0===r.length&&r.push(l),a.push(o);const b=[l.values.toArray()];for(const e of p){var h;b.push(e.values.toArray()),r.push(e),null===(h=e.state)||void 0===h||delete h.displayName}n.push(b)}const b=p(n,a);return{length:b[0].length,fields:r.map(((e,t)=>Object.assign({},e,{values:new s.Gt(b[t])})))}}const d=0,m=1,u=2;function f(e,t,a){for(let n,s=0,r=-1;s<t.length;s++){let i=t[s];if(i>r){for(n=i-1;n>=0&&null==e[n];)e[n--]=null;for(n=i+1;n<a&&null==e[n];)e[r=n++]=null}}}function p(e,t){const a=new Set;for(let t=0;t<e.length;t++){let n=e[t][0],s=n.length;for(let e=0;e<s;e++)a.add(n[e])}let n=[Array.from(a).sort(((e,t)=>e-t))],s=n[0].length,r=new Map;for(let e=0;e<s;e++)r.set(n[0][e],e);for(let a=0;a<e.length;a++){let i=e[a],o=i[0];for(let e=1;e<i.length;e++){let l=i[e],c=Array(s).fill(void 0),p=t?t[a][e]:m,g=[];for(let e=0;e<l.length;e++){let t=l[e],a=r.get(o[e]);null===t?p!==d&&(c[a]=t,p===u&&g.push(a)):c[a]=t}f(c,g,s),n.push(c)}}return n}},"./packages/grafana-data/src/transformations/transformers/merge.ts":(e,t,a)=>{a.d(t,{R:()=>l});var n=a("./.yarn/cache/rxjs-npm-7.5.1-ce59cbb6a3-78e3eecb16.zip/node_modules/rxjs/dist/esm5/internal/operators/map.js"),s=a("./packages/grafana-data/src/transformations/transformers/ids.ts"),r=a("./.yarn/cache/lodash-npm-4.17.21-6382451519-eb835a2e51.zip/node_modules/lodash/lodash.js"),i=a("./packages/grafana-data/src/vector/ArrayVector.ts"),o=a("./packages/grafana-data/src/dataframe/index.ts");const l={id:s.W.merge,name:"Merge series/tables",description:"Merges multiple series/tables into a single serie/table",defaultOptions:{},operator:e=>e=>e.pipe((0,n.U)((e=>{if(!Array.isArray(e)||e.length<=1)return e;const t=e.filter((e=>e.fields.length>0));if(0===t.length)return[e[0]];const a=new Set,n={},s=[],r=new o.vA;for(let e=0;e<t.length;e++){const i=t[e];for(let o=0;o<i.fields.length;o++){const l=i.fields[o];a.has(l.name)||(r.addField(c(l)),a.add(l.name)),n[l.name]=n[l.name]||{},n[l.name][e]=o,t.length-1===e&&(f(n,l,t)&&s.push(l.name))}}if(0===s.length)return e;const i={},l=[],g=d(t,n,s),h=m(t,a,n);for(let e=0;e<t.length;e++){const a=t[e];for(let t=0;t<a.length;t++){const a=g(e,t),n=h(e,t);if(!Array.isArray(i[a])){i[a]=[n],l.push(p(a,i));continue}let s=!1;i[a]=i[a].map((e=>u(e,n)?(s=!0,Object.assign({},e,n)):e)),s||(i[a].push(n),l.push(p(a,i)))}}for(const e of l){const t=i[e.key][e.index];t&&r.add(t)}return[r]})))},c=e=>Object.assign({},(0,r.omit)(e,["values","state","labels","config"]),{values:new i.G,config:Object.assign({},(0,r.omit)(e.config,"displayName"))}),d=(e,t,a)=>{const n=a.reduce(((e,a)=>Object.keys(t[a]).reduce(((e,n)=>(e[n]=e[n]||[],e[n].push(t[a][n]),e)),e)),{});return(t,a)=>n[t].reduce(((n,s)=>n+e[t].fields[s].values.get(a)),"")},m=(e,t,a)=>(n,s)=>{const r={},i=Array.from(t);for(const t of i){const i=a[t];if(!i)continue;const o=i[n];if("number"!=typeof o)continue;const l=e[n];if(!l||!l.fields)continue;const c=l.fields[o];c&&c.values&&(r[t]=c.values.get(s))}return r},u=(e,t)=>{let a=!0;for(const n in t)if(void 0!==e[n]&&null!==e[n]&&e[n]!==t[n]){a=!1;break}return a},f=(e,t,a)=>Object.keys(e[t.name]).length===a.length,p=(e,t)=>({key:e,index:t[e].length-1})},"./packages/grafana-data/src/transformations/transformers/noop.ts":(e,t,a)=>{a.d(t,{d:()=>n});const n={id:a("./packages/grafana-data/src/transformations/transformers/ids.ts").W.noop,name:"noop",description:"No-operation transformer",defaultOptions:{},operator:e=>e=>e}},"./packages/grafana-data/src/transformations/transformers/organize.ts":(e,t,a)=>{a.d(t,{u:()=>o});var n=a("./packages/grafana-data/src/transformations/transformers/ids.ts"),s=a("./packages/grafana-data/src/transformations/transformers/order.ts"),r=a("./packages/grafana-data/src/transformations/transformers/filterByName.ts"),i=a("./packages/grafana-data/src/transformations/transformers/rename.ts");const o={id:n.W.organize,name:"Organize fields by name",description:"Order, filter and rename fields based on configuration given by user",defaultOptions:{excludeByName:{},indexByName:{},renameByName:{}},operator:e=>t=>t.pipe(r.w.operator({exclude:{names:l(e.excludeByName)}}),s.t.operator(e),i.M.operator(e))},l=e=>e?Object.keys(e).filter((t=>e[t])):[]},"./packages/grafana-data/src/transformations/transformers/rename.ts":(e,t,a)=>{a.d(t,{M:()=>i});var n=a("./packages/grafana-data/src/transformations/transformers/ids.ts"),s=a("./packages/grafana-data/src/field/fieldState.ts"),r=a("./.yarn/cache/rxjs-npm-7.5.1-ce59cbb6a3-78e3eecb16.zip/node_modules/rxjs/dist/esm5/internal/operators/map.js");const i={id:n.W.rename,name:"Rename fields by name",description:"Rename fields based on configuration given by user",defaultOptions:{renameByName:{}},operator:e=>t=>t.pipe((0,r.U)((t=>{const a=o(e.renameByName);return Array.isArray(t)&&0!==t.length?t.map((e=>Object.assign({},e,{fields:a(e)}))):t})))},o=e=>t=>e&&0!==Object.keys(e).length?t.fields.map((a=>{const n=(0,s.C)(a,t),r=e[n];return"string"!=typeof r||0===r.length?a:Object.assign({},a,{config:Object.assign({},a.config,{displayName:r}),state:Object.assign({},a.state,{displayName:r})})})):t.fields},"./packages/grafana-data/src/transformations/transformers/seriesToColumns.ts":(e,t,a)=>{a.d(t,{u:()=>l});var n=a("./.yarn/cache/rxjs-npm-7.5.1-ce59cbb6a3-78e3eecb16.zip/node_modules/rxjs/dist/esm5/internal/operators/map.js"),s=a("./packages/grafana-data/src/transformations/transformers/ids.ts"),r=a("./packages/grafana-data/src/transformations/transformers/joinDataFrames.ts"),i=a("./packages/grafana-data/src/transformations/matchers.ts"),o=a("./packages/grafana-data/src/transformations/matchers/ids.ts");const l={id:s.W.seriesToColumns,name:"Series as columns",description:"Groups series by field and returns values as columns",defaultOptions:{byField:void 0},operator:e=>t=>t.pipe((0,n.U)((t=>l.transformer(e)(t)))),transformer:e=>{let t;return a=>{if(a.length>1){e.byField&&!t&&(t=i.Ls.get(o.mi.byName).get(e.byField));const n=(0,r.JP)({frames:a,joinBy:t});if(n)return[n]}return a}}}},"./packages/grafana-data/src/transformations/transformers/seriesToRows.ts":(e,t,a)=>{a.d(t,{D:()=>m});var n=a("./.yarn/cache/lodash-npm-4.17.21-6382451519-eb835a2e51.zip/node_modules/lodash/lodash.js"),s=a("./.yarn/cache/rxjs-npm-7.5.1-ce59cbb6a3-78e3eecb16.zip/node_modules/rxjs/dist/esm5/internal/operators/map.js"),r=a("./packages/grafana-data/src/transformations/transformers/ids.ts"),i=a("./packages/grafana-data/src/types/dataFrame.ts"),o=a("./packages/grafana-data/src/dataframe/utils.ts"),l=a("./packages/grafana-data/src/dataframe/index.ts"),c=a("./packages/grafana-data/src/vector/index.ts"),d=a("./packages/grafana-data/src/field/fieldState.ts");const m={id:r.W.seriesToRows,name:"Series to rows",description:"Combines multiple series into a single serie and appends a column with metric name per value.",defaultOptions:{},operator:e=>e=>e.pipe((0,s.U)((e=>{if(!Array.isArray(e)||e.length<=1)return e;if(!(0,o.hZ)(e))return e;const t={},a=new Set,n=new l.vA,s={name:i.rN,values:new c.Gt,config:{},type:i.fS.string};for(let r=0;r<e.length;r++){const o=e[r];for(let e=0;e<o.fields.length;e++){const l=o.fields[e];l.type!==i.fS.time?a.has(i.M5)||(n.addField(u(l,i.M5)),a.add(i.M5)):(t[r]=e,a.has(i.Ls)||(n.addField(u(l,i.Ls)),n.addField(s),a.add(i.Ls)))}}for(let a=0;a<e.length;a++){const s=e[a];for(let e=0;e<s.length;e++){const r=t[a],o=0===r?1:0;n.add({[i.Ls]:s.fields[r].values.get(e),[i.rN]:(0,d.n)(s),[i.M5]:s.fields[o].values.get(e)})}}return[(0,l.aK)(n,0,!0)]})))},u=(e,t)=>Object.assign({},(0,n.omit)(e,["values","state","labels","config","name"]),{name:t,values:new c.Gt,config:Object.assign({},(0,n.omit)(e.config,["displayName","displayNameFromDS"]))})},"./packages/grafana-data/src/transformations/transformers/sortBy.ts":(e,t,a)=>{a.d(t,{t:()=>o});var n=a("./.yarn/cache/rxjs-npm-7.5.1-ce59cbb6a3-78e3eecb16.zip/node_modules/rxjs/dist/esm5/internal/operators/map.js"),s=a("./packages/grafana-data/src/transformations/transformers/ids.ts"),r=a("./packages/grafana-data/src/field/index.ts"),i=a("./packages/grafana-data/src/dataframe/index.ts");const o={id:s.W.sortBy,name:"Sort by",description:"Sort fields in a frame",defaultOptions:{fields:{}},operator:e=>t=>t.pipe((0,n.U)((t=>{var a;return Array.isArray(t)&&0!==t.length&&null!=e&&null!==(a=e.sort)&&void 0!==a&&a.length?function(e,t){return e.map((e=>{const a=function(e,t){return t.map((t=>null!=t.index?t:Object.assign({},t,{index:e.fields.findIndex((a=>t.field===(0,r.CZ)(a,e)))})))}(e,t);return a.length&&null!=a[0].index?(0,i.aK)(e,a[0].index,a[0].desc):e}))}(t,e.sort):t})))}},"./packages/grafana-data/src/types/data.ts":(e,t,a)=>{let n,s;a.d(t,{G:()=>n,S:()=>s}),function(e){e.NotStarted="NotStarted",e.Loading="Loading",e.Streaming="Streaming",e.Done="Done",e.Error="Error"}(n||(n={})),function(e){e.Null="null",e.Ignore="connected",e.AsZero="null as zero"}(s||(s={}))},"./packages/grafana-data/src/types/dataFrame.ts":(e,t,a)=>{let n;a.d(t,{fS:()=>n,M5:()=>s,Ls:()=>r,rN:()=>i}),function(e){e.time="time",e.number="number",e.string="string",e.boolean="boolean",e.trace="trace",e.geo="geo",e.other="other"}(n||(n={}));const s="Value",r="Time",i="Metric"},"./packages/grafana-data/src/types/fieldColor.ts":(e,t,a)=>{let n;a.d(t,{S:()=>n,R:()=>s}),function(e){e.Thresholds="thresholds",e.PaletteClassic="palette-classic",e.PaletteSaturated="palette-saturated",e.ContinuousGrYlRd="continuous-GrYlRd",e.Fixed="fixed"}(n||(n={}));const s="gray"},"./packages/grafana-data/src/types/theme.ts":(e,t,a)=>{let n;a.d(t,{Q:()=>n}),function(e){e.Light="light",e.Dark="dark"}(n||(n={}))},"./packages/grafana-data/src/types/thresholds.ts":(e,t,a)=>{let n;a.d(t,{H:()=>n}),function(e){e.Absolute="absolute",e.Percentage="percentage"}(n||(n={}))},"./packages/grafana-data/src/types/valueMapping.ts":(e,t,a)=>{let n,s;a.d(t,{H:()=>n,e:()=>s}),function(e){e.ValueToText="value",e.RangeToText="range",e.RegexToText="regex",e.SpecialValue="special"}(n||(n={})),function(e){e.True="true",e.False="false",e.Null="null",e.NaN="nan",e.NullAndNaN="null+nan",e.Empty="empty"}(s||(s={}))},"./packages/grafana-data/src/utils/Registry.ts":(e,t,a)=>{a.d(t,{B:()=>r});var n=a("./packages/grafana-data/src/types/index.ts");function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class r{constructor(e){s(this,"ordered",[]),s(this,"byId",new Map),s(this,"initialized",!1),s(this,"setInit",(e=>{if(this.initialized)throw new Error("Registry already initialized");this.init=e})),this.init=e}getIfExists(e){if(this.initialized||this.initialize(),e)return this.byId.get(e)}initialize(){if(this.init)for(const e of this.init())this.register(e);this.sort(),this.initialized=!0}get(e){const t=this.getIfExists(e);if(!t)throw new Error(`"${e}" not found in: ${this.list().map((e=>e.id))}`);return t}selectOptions(e,t){this.initialized||this.initialize();const a={options:[],current:[]},s={};if(e)for(const t of e)s[t]={};for(const e of this.ordered){if(e.excludeFromPicker)continue;if(t&&!t(e))continue;const r={value:e.id,label:e.name,description:e.description};e.state===n.BV.alpha&&(r.label+=" (alpha)"),a.options.push(r),s[e.id]&&(s[e.id]=r)}return e&&(a.current=Object.values(s)),a}list(e){if(this.initialized||this.initialize(),e){const t=[];for(const a of e){const e=this.getIfExists(a);e&&t.push(e)}return t}return this.ordered}isEmpty(){return this.initialized||this.initialize(),0===this.ordered.length}register(e){if(this.byId.has(e.id))throw new Error("Duplicate Key:"+e.id);if(this.byId.set(e.id,e),this.ordered.push(e),e.aliasIds)for(const t of e.aliasIds)this.byId.has(t)||this.byId.set(t,e);this.initialized&&this.sort()}sort(){}}},"./packages/grafana-data/src/utils/anyToNumber.ts":(e,t,a)=>{a.d(t,{I:()=>s});var n=a("./.yarn/cache/lodash-npm-4.17.21-6382451519-eb835a2e51.zip/node_modules/lodash/lodash.js");function s(e){return"number"==typeof e?e:""===e||null==e||Array.isArray(e)?NaN:"boolean"==typeof e?e?1:0:(0,n.toNumber)(e)}},"./packages/grafana-data/src/utils/binaryOperators.ts":(e,t,a)=>{a.d(t,{L:()=>s,n:()=>r});var n=a("./packages/grafana-data/src/utils/Registry.ts");let s;!function(e){e.Add="+",e.Subtract="-",e.Divide="/",e.Multiply="*"}(s||(s={}));const r=new n.B((()=>[{id:s.Add,name:"Add",operation:(e,t)=>e+t},{id:s.Subtract,name:"Subtract",operation:(e,t)=>e-t},{id:s.Multiply,name:"Multiply",operation:(e,t)=>e*t},{id:s.Divide,name:"Divide",operation:(e,t)=>e/t}]))},"./packages/grafana-data/src/utils/fieldParser.ts":(e,t,a)=>{a.d(t,{d:()=>r});var n=a("./packages/grafana-data/src/types/dataFrame.ts"),s=a("./packages/grafana-data/src/dataframe/processDataFrame.ts");function r(e,t){return t.type||("time"===t.name||"Time"===t.name?t.type=n.fS.time:t.type=(0,s.LI)(e)),t.type===n.fS.number?e=>parseFloat(e):t.type===n.fS.boolean?e=>!("F"===e[0]||"f"===e[0]||"0"===e[0]):e=>e}},"./packages/grafana-data/src/utils/makeClassES5Compatible.ts":(e,t,a)=>{function n(e){return new Proxy(e,{apply:(e,t,a)=>("undefined"!=typeof Reflect&&Reflect.construct||alert("Browser is too old"),Reflect.construct(e,a,t.constructor))})}a.d(t,{s:()=>n})},"./packages/grafana-data/src/valueFormats/categories.ts":(e,t,a)=>{a.d(t,{C:()=>m});var n=a("./packages/grafana-data/src/valueFormats/valueFormats.ts"),s=a("./packages/grafana-data/src/valueFormats/dateTimeFormatters.ts");function r(e,t){return null===e?{text:""}:{text:(0,n.FH)(e,t),suffix:"%"}}function i(e,t){return null===e?{text:""}:{text:(0,n.FH)(100*e,t),suffix:"%"}}function o(e,t){if(null==e)return{text:""};const a=l(e,t);return"-"===a.text.substring(0,1)?a.text="-0x"+a.text.substring(1):a.text="0x"+a.text,a}function l(e,t){return null==e?{text:""}:{text:parseFloat((0,n.FH)(e,t)).toString(16).toUpperCase()}}function c(e,t){return null==e?{text:""}:{text:e.toExponential(t)}}var d=a("./packages/grafana-data/src/valueFormats/symbolFormatters.ts");const m=()=>[{name:"Misc",formats:[{name:"none",id:"none",fn:(0,n.q2)("")},{name:"String",id:"string",fn:n.vb},{name:"short",id:"short",fn:(0,n.Qj)(1e3,[""," K"," Mil"," Bil"," Tri"," Quadr"," Quint"," Sext"," Sept"])},{name:"Percent (0-100)",id:"percent",fn:r},{name:"Percent (0.0-1.0)",id:"percentunit",fn:i},{name:"Humidity (%H)",id:"humidity",fn:(0,n.q2)("%H")},{name:"Decibel",id:"dB",fn:(0,n.q2)("dB")},{name:"Hexadecimal (0x)",id:"hex0x",fn:o},{name:"Hexadecimal",id:"hex",fn:l},{name:"Scientific notation",id:"sci",fn:c},{name:"Locale format",id:"locale",fn:n.SP},{name:"Pixels",id:"pixel",fn:(0,n.q2)("px")}]},{name:"Acceleration",formats:[{name:"Meters/sec²",id:"accMS2",fn:(0,n.q2)("m/sec²")},{name:"Feet/sec²",id:"accFS2",fn:(0,n.q2)("f/sec²")},{name:"G unit",id:"accG",fn:(0,n.q2)("g")}]},{name:"Angle",formats:[{name:"Degrees (°)",id:"degree",fn:(0,n.q2)("°")},{name:"Radians",id:"radian",fn:(0,n.q2)("rad")},{name:"Gradian",id:"grad",fn:(0,n.q2)("grad")},{name:"Arc Minutes",id:"arcmin",fn:(0,n.q2)("arcmin")},{name:"Arc Seconds",id:"arcsec",fn:(0,n.q2)("arcsec")}]},{name:"Area",formats:[{name:"Square Meters (m²)",id:"areaM2",fn:(0,n.q2)("m²")},{name:"Square Feet (ft²)",id:"areaF2",fn:(0,n.q2)("ft²")},{name:"Square Miles (mi²)",id:"areaMI2",fn:(0,n.q2)("mi²")}]},{name:"Computation",formats:[{name:"FLOP/s",id:"flops",fn:(0,d.i7)("FLOPS")},{name:"MFLOP/s",id:"mflops",fn:(0,d.i7)("FLOPS",2)},{name:"GFLOP/s",id:"gflops",fn:(0,d.i7)("FLOPS",3)},{name:"TFLOP/s",id:"tflops",fn:(0,d.i7)("FLOPS",4)},{name:"PFLOP/s",id:"pflops",fn:(0,d.i7)("FLOPS",5)},{name:"EFLOP/s",id:"eflops",fn:(0,d.i7)("FLOPS",6)},{name:"ZFLOP/s",id:"zflops",fn:(0,d.i7)("FLOPS",7)},{name:"YFLOP/s",id:"yflops",fn:(0,d.i7)("FLOPS",8)}]},{name:"Concentration",formats:[{name:"parts-per-million (ppm)",id:"ppm",fn:(0,n.q2)("ppm")},{name:"parts-per-billion (ppb)",id:"conppb",fn:(0,n.q2)("ppb")},{name:"nanogram per cubic meter (ng/m³)",id:"conngm3",fn:(0,n.q2)("ng/m³")},{name:"nanogram per normal cubic meter (ng/Nm³)",id:"conngNm3",fn:(0,n.q2)("ng/Nm³")},{name:"microgram per cubic meter (μg/m³)",id:"conμgm3",fn:(0,n.q2)("μg/m³")},{name:"microgram per normal cubic meter (μg/Nm³)",id:"conμgNm3",fn:(0,n.q2)("μg/Nm³")},{name:"milligram per cubic meter (mg/m³)",id:"conmgm3",fn:(0,n.q2)("mg/m³")},{name:"milligram per normal cubic meter (mg/Nm³)",id:"conmgNm3",fn:(0,n.q2)("mg/Nm³")},{name:"gram per cubic meter (g/m³)",id:"congm3",fn:(0,n.q2)("g/m³")},{name:"gram per normal cubic meter (g/Nm³)",id:"congNm3",fn:(0,n.q2)("g/Nm³")},{name:"milligrams per decilitre (mg/dL)",id:"conmgdL",fn:(0,n.q2)("mg/dL")},{name:"millimoles per litre (mmol/L)",id:"conmmolL",fn:(0,n.q2)("mmol/L")}]},{name:"Currency",formats:[{name:"Dollars ($)",id:"currencyUSD",fn:(0,d.Aq)("$")},{name:"Pounds (£)",id:"currencyGBP",fn:(0,d.Aq)("£")},{name:"Euro (€)",id:"currencyEUR",fn:(0,d.Aq)("€")},{name:"Yen (¥)",id:"currencyJPY",fn:(0,d.Aq)("¥")},{name:"Rubles (₽)",id:"currencyRUB",fn:(0,d.Aq)("₽")},{name:"Hryvnias (₴)",id:"currencyUAH",fn:(0,d.Aq)("₴")},{name:"Real (R$)",id:"currencyBRL",fn:(0,d.Aq)("R$")},{name:"Danish Krone (kr)",id:"currencyDKK",fn:(0,d.Aq)("kr",!0)},{name:"Icelandic Króna (kr)",id:"currencyISK",fn:(0,d.Aq)("kr",!0)},{name:"Norwegian Krone (kr)",id:"currencyNOK",fn:(0,d.Aq)("kr",!0)},{name:"Swedish Krona (kr)",id:"currencySEK",fn:(0,d.Aq)("kr",!0)},{name:"Czech koruna (czk)",id:"currencyCZK",fn:(0,d.Aq)("czk")},{name:"Swiss franc (CHF)",id:"currencyCHF",fn:(0,d.Aq)("CHF")},{name:"Polish Złoty (PLN)",id:"currencyPLN",fn:(0,d.Aq)("PLN")},{name:"Bitcoin (฿)",id:"currencyBTC",fn:(0,d.Aq)("฿")},{name:"Milli Bitcoin (฿)",id:"currencymBTC",fn:(0,d.Aq)("mBTC")},{name:"Micro Bitcoin (฿)",id:"currencyμBTC",fn:(0,d.Aq)("μBTC")},{name:"South African Rand (R)",id:"currencyZAR",fn:(0,d.Aq)("R")},{name:"Indian Rupee (₹)",id:"currencyINR",fn:(0,d.Aq)("₹")},{name:"South Korean Won (₩)",id:"currencyKRW",fn:(0,d.Aq)("₩")},{name:"Indonesian Rupiah (Rp)",id:"currencyIDR",fn:(0,d.Aq)("Rp")},{name:"Philippine Peso (PHP)",id:"currencyPHP",fn:(0,d.Aq)("PHP")},{name:"Vietnamese Dong (VND)",id:"currencyVND",fn:(0,d.Aq)("đ",!0)}]},{name:"Data",formats:[{name:"bytes(IEC)",id:"bytes",fn:(0,d.Yh)("B")},{name:"bytes(SI)",id:"decbytes",fn:(0,d.i7)("B")},{name:"bits(IEC)",id:"bits",fn:(0,d.Yh)("b")},{name:"bits(SI)",id:"decbits",fn:(0,d.i7)("b")},{name:"kibibytes",id:"kbytes",fn:(0,d.Yh)("B",1)},{name:"kilobytes",id:"deckbytes",fn:(0,d.i7)("B",1)},{name:"mebibytes",id:"mbytes",fn:(0,d.Yh)("B",2)},{name:"megabytes",id:"decmbytes",fn:(0,d.i7)("B",2)},{name:"gibibytes",id:"gbytes",fn:(0,d.Yh)("B",3)},{name:"gigabytes",id:"decgbytes",fn:(0,d.i7)("B",3)},{name:"tebibytes",id:"tbytes",fn:(0,d.Yh)("B",4)},{name:"terabytes",id:"dectbytes",fn:(0,d.i7)("B",4)},{name:"pebibytes",id:"pbytes",fn:(0,d.Yh)("B",5)},{name:"petabytes",id:"decpbytes",fn:(0,d.i7)("B",5)}]},{name:"Data rate",formats:[{name:"packets/sec",id:"pps",fn:(0,d.i7)("p/s")},{name:"bytes/sec(IEC)",id:"binBps",fn:(0,d.Yh)("B/s")},{name:"bytes/sec(SI)",id:"Bps",fn:(0,d.i7)("B/s")},{name:"bits/sec(IEC)",id:"binbps",fn:(0,d.Yh)("b/s")},{name:"bits/sec(SI)",id:"bps",fn:(0,d.i7)("b/s")},{name:"kibibytes/sec",id:"KiBs",fn:(0,d.Yh)("B/s",1)},{name:"kibibits/sec",id:"Kibits",fn:(0,d.Yh)("b/s",1)},{name:"kilobytes/sec",id:"KBs",fn:(0,d.i7)("B/s",1)},{name:"kilobits/sec",id:"Kbits",fn:(0,d.i7)("b/s",1)},{name:"mebibytes/sec",id:"MiBs",fn:(0,d.Yh)("B/s",2)},{name:"mebibits/sec",id:"Mibits",fn:(0,d.Yh)("b/s",2)},{name:"megabytes/sec",id:"MBs",fn:(0,d.i7)("B/s",2)},{name:"megabits/sec",id:"Mbits",fn:(0,d.i7)("b/s",2)},{name:"gibibytes/sec",id:"GiBs",fn:(0,d.Yh)("B/s",3)},{name:"gibibits/sec",id:"Gibits",fn:(0,d.Yh)("b/s",3)},{name:"gigabytes/sec",id:"GBs",fn:(0,d.i7)("B/s",3)},{name:"gigabits/sec",id:"Gbits",fn:(0,d.i7)("b/s",3)},{name:"tebibytes/sec",id:"TiBs",fn:(0,d.Yh)("B/s",4)},{name:"tebibits/sec",id:"Tibits",fn:(0,d.Yh)("b/s",4)},{name:"terabytes/sec",id:"TBs",fn:(0,d.i7)("B/s",4)},{name:"terabits/sec",id:"Tbits",fn:(0,d.i7)("b/s",4)},{name:"pebibytes/sec",id:"PiBs",fn:(0,d.Yh)("B/s",5)},{name:"pebibits/sec",id:"Pibits",fn:(0,d.Yh)("b/s",5)},{name:"petabytes/sec",id:"PBs",fn:(0,d.i7)("B/s",5)},{name:"petabits/sec",id:"Pbits",fn:(0,d.i7)("b/s",5)}]},{name:"Date & time",formats:[{name:"Datetime ISO",id:"dateTimeAsIso",fn:s.Qm},{name:"Datetime ISO (No date if today)",id:"dateTimeAsIsoNoDateIfToday",fn:s.QO},{name:"Datetime US",id:"dateTimeAsUS",fn:s.DW},{name:"Datetime US (No date if today)",id:"dateTimeAsUSNoDateIfToday",fn:s.y},{name:"Datetime local",id:"dateTimeAsLocal",fn:(0,s.VS)()},{name:"Datetime local (No date if today)",id:"dateTimeAsLocalNoDateIfToday",fn:(0,s.rV)()},{name:"Datetime default",id:"dateTimeAsSystem",fn:s.Hr},{name:"From Now",id:"dateTimeFromNow",fn:s.Xg}]},{name:"Energy",formats:[{name:"Watt (W)",id:"watt",fn:(0,d.i7)("W")},{name:"Kilowatt (kW)",id:"kwatt",fn:(0,d.i7)("W",1)},{name:"Megawatt (MW)",id:"megwatt",fn:(0,d.i7)("W",2)},{name:"Gigawatt (GW)",id:"gwatt",fn:(0,d.i7)("W",3)},{name:"Milliwatt (mW)",id:"mwatt",fn:(0,d.i7)("W",-1)},{name:"Watt per square meter (W/m²)",id:"Wm2",fn:(0,n.q2)("W/m²")},{name:"Volt-Ampere (VA)",id:"voltamp",fn:(0,d.i7)("VA")},{name:"Kilovolt-Ampere (kVA)",id:"kvoltamp",fn:(0,d.i7)("VA",1)},{name:"Volt-Ampere reactive (VAr)",id:"voltampreact",fn:(0,d.i7)("VAr")},{name:"Kilovolt-Ampere reactive (kVAr)",id:"kvoltampreact",fn:(0,d.i7)("VAr",1)},{name:"Watt-hour (Wh)",id:"watth",fn:(0,d.i7)("Wh")},{name:"Watt-hour per Kilogram (Wh/kg)",id:"watthperkg",fn:(0,d.i7)("Wh/kg")},{name:"Kilowatt-hour (kWh)",id:"kwatth",fn:(0,d.i7)("Wh",1)},{name:"Kilowatt-min (kWm)",id:"kwattm",fn:(0,d.i7)("W-Min",1)},{name:"Ampere-hour (Ah)",id:"amph",fn:(0,d.i7)("Ah")},{name:"Kiloampere-hour (kAh)",id:"kamph",fn:(0,d.i7)("Ah",1)},{name:"Milliampere-hour (mAh)",id:"mamph",fn:(0,d.i7)("Ah",-1)},{name:"Joule (J)",id:"joule",fn:(0,d.i7)("J")},{name:"Electron volt (eV)",id:"ev",fn:(0,d.i7)("eV")},{name:"Ampere (A)",id:"amp",fn:(0,d.i7)("A")},{name:"Kiloampere (kA)",id:"kamp",fn:(0,d.i7)("A",1)},{name:"Milliampere (mA)",id:"mamp",fn:(0,d.i7)("A",-1)},{name:"Volt (V)",id:"volt",fn:(0,d.i7)("V")},{name:"Kilovolt (kV)",id:"kvolt",fn:(0,d.i7)("V",1)},{name:"Millivolt (mV)",id:"mvolt",fn:(0,d.i7)("V",-1)},{name:"Decibel-milliwatt (dBm)",id:"dBm",fn:(0,d.i7)("dBm")},{name:"Ohm (Ω)",id:"ohm",fn:(0,d.i7)("Ω")},{name:"Kiloohm (kΩ)",id:"kohm",fn:(0,d.i7)("Ω",1)},{name:"Megaohm (MΩ)",id:"Mohm",fn:(0,d.i7)("Ω",2)},{name:"Farad (F)",id:"farad",fn:(0,d.i7)("F")},{name:"Microfarad (µF)",id:"µfarad",fn:(0,d.i7)("F",-2)},{name:"Nanofarad (nF)",id:"nfarad",fn:(0,d.i7)("F",-3)},{name:"Picofarad (pF)",id:"pfarad",fn:(0,d.i7)("F",-4)},{name:"Femtofarad (fF)",id:"ffarad",fn:(0,d.i7)("F",-5)},{name:"Henry (H)",id:"henry",fn:(0,d.i7)("H")},{name:"Millihenry (mH)",id:"mhenry",fn:(0,d.i7)("H",-1)},{name:"Microhenry (µH)",id:"µhenry",fn:(0,d.i7)("H",-2)},{name:"Lumens (Lm)",id:"lumens",fn:(0,d.i7)("Lm")}]},{name:"Flow",formats:[{name:"Gallons/min (gpm)",id:"flowgpm",fn:(0,n.q2)("gpm")},{name:"Cubic meters/sec (cms)",id:"flowcms",fn:(0,n.q2)("cms")},{name:"Cubic feet/sec (cfs)",id:"flowcfs",fn:(0,n.q2)("cfs")},{name:"Cubic feet/min (cfm)",id:"flowcfm",fn:(0,n.q2)("cfm")},{name:"Litre/hour",id:"litreh",fn:(0,n.q2)("L/h")},{name:"Litre/min (L/min)",id:"flowlpm",fn:(0,n.q2)("L/min")},{name:"milliLitre/min (mL/min)",id:"flowmlpm",fn:(0,n.q2)("mL/min")},{name:"Lux (lx)",id:"lux",fn:(0,n.q2)("lux")}]},{name:"Force",formats:[{name:"Newton-meters (Nm)",id:"forceNm",fn:(0,d.i7)("Nm")},{name:"Kilonewton-meters (kNm)",id:"forcekNm",fn:(0,d.i7)("Nm",1)},{name:"Newtons (N)",id:"forceN",fn:(0,d.i7)("N")},{name:"Kilonewtons (kN)",id:"forcekN",fn:(0,d.i7)("N",1)}]},{name:"Hash rate",formats:[{name:"hashes/sec",id:"Hs",fn:(0,d.i7)("H/s")},{name:"kilohashes/sec",id:"KHs",fn:(0,d.i7)("H/s",1)},{name:"megahashes/sec",id:"MHs",fn:(0,d.i7)("H/s",2)},{name:"gigahashes/sec",id:"GHs",fn:(0,d.i7)("H/s",3)},{name:"terahashes/sec",id:"THs",fn:(0,d.i7)("H/s",4)},{name:"petahashes/sec",id:"PHs",fn:(0,d.i7)("H/s",5)},{name:"exahashes/sec",id:"EHs",fn:(0,d.i7)("H/s",6)}]},{name:"Mass",formats:[{name:"milligram (mg)",id:"massmg",fn:(0,d.i7)("g",-1)},{name:"gram (g)",id:"massg",fn:(0,d.i7)("g")},{name:"pound (lb)",id:"masslb",fn:(0,n.q2)("lb")},{name:"kilogram (kg)",id:"masskg",fn:(0,d.i7)("g",1)},{name:"metric ton (t)",id:"masst",fn:(0,n.q2)("t")}]},{name:"Length",formats:[{name:"millimeter (mm)",id:"lengthmm",fn:(0,d.i7)("m",-1)},{name:"inch (in)",id:"lengthin",fn:(0,n.q2)("in")},{name:"feet (ft)",id:"lengthft",fn:(0,n.q2)("ft")},{name:"meter (m)",id:"lengthm",fn:(0,d.i7)("m")},{name:"kilometer (km)",id:"lengthkm",fn:(0,d.i7)("m",1)},{name:"mile (mi)",id:"lengthmi",fn:(0,n.q2)("mi")}]},{name:"Pressure",formats:[{name:"Millibars",id:"pressurembar",fn:(0,d.i7)("bar",-1)},{name:"Bars",id:"pressurebar",fn:(0,d.i7)("bar")},{name:"Kilobars",id:"pressurekbar",fn:(0,d.i7)("bar",1)},{name:"Pascals",id:"pressurepa",fn:(0,d.i7)("Pa")},{name:"Hectopascals",id:"pressurehpa",fn:(0,n.q2)("hPa")},{name:"Kilopascals",id:"pressurekpa",fn:(0,n.q2)("kPa")},{name:"Inches of mercury",id:"pressurehg",fn:(0,n.q2)('"Hg')},{name:"PSI",id:"pressurepsi",fn:(0,n.Qj)(1e3,["psi","ksi","Mpsi"])}]},{name:"Radiation",formats:[{name:"Becquerel (Bq)",id:"radbq",fn:(0,d.i7)("Bq")},{name:"curie (Ci)",id:"radci",fn:(0,d.i7)("Ci")},{name:"Gray (Gy)",id:"radgy",fn:(0,d.i7)("Gy")},{name:"rad",id:"radrad",fn:(0,d.i7)("rad")},{name:"Sievert (Sv)",id:"radsv",fn:(0,d.i7)("Sv")},{name:"milliSievert (mSv)",id:"radmsv",fn:(0,d.i7)("Sv",-1)},{name:"microSievert (µSv)",id:"radusv",fn:(0,d.i7)("Sv",-2)},{name:"rem",id:"radrem",fn:(0,d.i7)("rem")},{name:"Exposure (C/kg)",id:"radexpckg",fn:(0,d.i7)("C/kg")},{name:"roentgen (R)",id:"radr",fn:(0,d.i7)("R")},{name:"Sievert/hour (Sv/h)",id:"radsvh",fn:(0,d.i7)("Sv/h")},{name:"milliSievert/hour (mSv/h)",id:"radmsvh",fn:(0,d.i7)("Sv/h",-1)},{name:"microSievert/hour (µSv/h)",id:"radusvh",fn:(0,d.i7)("Sv/h",-2)}]},{name:"Rotational Speed",formats:[{name:"Revolutions per minute (rpm)",id:"rotrpm",fn:(0,n.q2)("rpm")},{name:"Hertz (Hz)",id:"rothz",fn:(0,d.i7)("Hz")},{name:"Radians per second (rad/s)",id:"rotrads",fn:(0,n.q2)("rad/s")},{name:"Degrees per second (°/s)",id:"rotdegs",fn:(0,n.q2)("°/s")}]},{name:"Temperature",formats:[{name:"Celsius (°C)",id:"celsius",fn:(0,n.q2)("°C")},{name:"Fahrenheit (°F)",id:"fahrenheit",fn:(0,n.q2)("°F")},{name:"Kelvin (K)",id:"kelvin",fn:(0,n.q2)("K")}]},{name:"Time",formats:[{name:"Hertz (1/s)",id:"hertz",fn:(0,d.i7)("Hz")},{name:"nanoseconds (ns)",id:"ns",fn:s.wf},{name:"microseconds (µs)",id:"µs",fn:s.dJ},{name:"milliseconds (ms)",id:"ms",fn:s.Gz},{name:"seconds (s)",id:"s",fn:s.my},{name:"minutes (m)",id:"m",fn:s.xM},{name:"hours (h)",id:"h",fn:s.bT},{name:"days (d)",id:"d",fn:s.rP},{name:"duration (ms)",id:"dtdurationms",fn:s.zp},{name:"duration (s)",id:"dtdurations",fn:s.Xq},{name:"duration (hh:mm:ss)",id:"dthms",fn:s.FH},{name:"duration (d hh:mm:ss)",id:"dtdhms",fn:s.DT},{name:"Timeticks (s/100)",id:"timeticks",fn:s.sD},{name:"clock (ms)",id:"clockms",fn:s.rd},{name:"clock (s)",id:"clocks",fn:s.gh}]},{name:"Throughput",formats:[{name:"counts/sec (cps)",id:"cps",fn:(0,n.SR)("c/s")},{name:"ops/sec (ops)",id:"ops",fn:(0,n.SR)("ops/s")},{name:"requests/sec (rps)",id:"reqps",fn:(0,n.SR)("req/s")},{name:"reads/sec (rps)",id:"rps",fn:(0,n.SR)("rd/s")},{name:"writes/sec (wps)",id:"wps",fn:(0,n.SR)("wr/s")},{name:"I/O ops/sec (iops)",id:"iops",fn:(0,n.SR)("io/s")},{name:"counts/min (cpm)",id:"cpm",fn:(0,n.SR)("c/m")},{name:"ops/min (opm)",id:"opm",fn:(0,n.SR)("ops/m")},{name:"reads/min (rpm)",id:"rpm",fn:(0,n.SR)("rd/m")},{name:"writes/min (wpm)",id:"wpm",fn:(0,n.SR)("wr/m")}]},{name:"Velocity",formats:[{name:"meters/second (m/s)",id:"velocityms",fn:(0,n.q2)("m/s")},{name:"kilometers/hour (km/h)",id:"velocitykmh",fn:(0,n.q2)("km/h")},{name:"miles/hour (mph)",id:"velocitymph",fn:(0,n.q2)("mph")},{name:"knot (kn)",id:"velocityknot",fn:(0,n.q2)("kn")}]},{name:"Volume",formats:[{name:"millilitre (mL)",id:"mlitre",fn:(0,d.i7)("L",-1)},{name:"litre (L)",id:"litre",fn:(0,d.i7)("L")},{name:"cubic meter",id:"m3",fn:(0,n.q2)("m³")},{name:"Normal cubic meter",id:"Nm3",fn:(0,n.q2)("Nm³")},{name:"cubic decimeter",id:"dm3",fn:(0,n.q2)("dm³")},{name:"gallons",id:"gallons",fn:(0,n.q2)("gal")}]},{name:"Boolean",formats:[{name:"True / False",id:"bool",fn:(0,n.IR)("True","False")},{name:"Yes / No",id:"bool_yes_no",fn:(0,n.IR)("Yes","No")},{name:"On / Off",id:"bool_on_off",fn:(0,n.IR)("On","Off")}]}]},"./packages/grafana-data/src/valueFormats/dateTimeFormatters.ts":(e,t,a)=>{a.d(t,{wf:()=>c,dJ:()=>d,Gz:()=>m,my:()=>u,xM:()=>f,bT:()=>p,rP:()=>g,zp:()=>y,Xq:()=>v,FH:()=>x,DT:()=>k,sD:()=>S,rd:()=>w,gh:()=>N,cN:()=>F,Qm:()=>M,QO:()=>D,DW:()=>O,y:()=>A,VS:()=>T,rV:()=>I,Hr:()=>B,Xg:()=>C});var n=a("./packages/grafana-data/src/datetime/moment_wrapper.ts"),s=a("./packages/grafana-data/src/valueFormats/valueFormats.ts"),r=a("./packages/grafana-data/src/datetime/index.ts");let i;!function(e){e.Year="year",e.Month="month",e.Week="week",e.Day="day",e.Hour="hour",e.Minute="minute",e.Second="second",e.Millisecond="millisecond"}(i||(i={}));const o=[i.Year,i.Month,i.Week,i.Day,i.Hour,i.Minute,i.Second,i.Millisecond],l={[i.Year]:31536e3,[i.Month]:2592e3,[i.Week]:604800,[i.Day]:86400,[i.Hour]:3600,[i.Minute]:60,[i.Second]:1,[i.Millisecond]:.001};function c(e,t){return null===e?{text:""}:Math.abs(e)<1e3?{text:(0,s.FH)(e,t),suffix:" ns"}:Math.abs(e)<1e6?(0,s.bn)(e/1e3,t," µs"):Math.abs(e)<1e9?(0,s.bn)(e/1e6,t," ms"):Math.abs(e)<6e10?(0,s.bn)(e/1e9,t," s"):Math.abs(e)<36e11?(0,s.bn)(e/6e10,t," min"):Math.abs(e)<864e11?(0,s.bn)(e/36e11,t," hour"):(0,s.bn)(e/864e11,t," day")}function d(e,t){return null===e?{text:""}:Math.abs(e)<1e3?{text:(0,s.FH)(e,t),suffix:" µs"}:Math.abs(e)<1e6?(0,s.bn)(e/1e3,t," ms"):(0,s.bn)(e/1e6,t," s")}function m(e,t,a){return null===e?{text:""}:Math.abs(e)<1e3?{text:(0,s.FH)(e,t),suffix:" ms"}:Math.abs(e)<6e4?(0,s.bn)(e/1e3,t," s"):Math.abs(e)<36e5?(0,s.bn)(e/6e4,t," min"):Math.abs(e)<864e5?(0,s.bn)(e/36e5,t," hour"):Math.abs(e)<31536e6?(0,s.bn)(e/864e5,t," day"):(0,s.bn)(e/31536e6,t," year")}function u(e,t){return null===e?{text:""}:0===e?{text:"0",suffix:" s"}:Math.abs(e)<1e-6?(0,s.bn)(1e9*e,t," ns"):Math.abs(e)<.001?(0,s.bn)(1e6*e,t," µs"):Math.abs(e)<1?(0,s.bn)(1e3*e,t," ms"):Math.abs(e)<60?{text:(0,s.FH)(e,t),suffix:" s"}:Math.abs(e)<3600?(0,s.bn)(e/60,t," min"):Math.abs(e)<86400?(0,s.bn)(e/3600,t," hour"):Math.abs(e)<604800?(0,s.bn)(e/86400,t," day"):Math.abs(e)<31536e3?(0,s.bn)(e/604800,t," week"):(0,s.bn)(e/31556900,t," year")}function f(e,t){return null===e?{text:""}:Math.abs(e)<60?{text:(0,s.FH)(e,t),suffix:" min"}:Math.abs(e)<1440?(0,s.bn)(e/60,t," hour"):Math.abs(e)<10080?(0,s.bn)(e/1440,t," day"):Math.abs(e)<604800?(0,s.bn)(e/10080,t," week"):(0,s.bn)(e/525948,t," year")}function p(e,t){return null===e?{text:""}:Math.abs(e)<24?{text:(0,s.FH)(e,t),suffix:" hour"}:Math.abs(e)<168?(0,s.bn)(e/24,t," day"):Math.abs(e)<8760?(0,s.bn)(e/168,t," week"):(0,s.bn)(e/8760,t," year")}function g(e,t){return null===e?{text:""}:Math.abs(e)<7?{text:(0,s.FH)(e,t),suffix:" day"}:Math.abs(e)<365?(0,s.bn)(e/7,t," week"):(0,s.bn)(e/365,t," year")}function h(e,t,a){if(null===e)return{text:""};if(0===e)return{text:"0",suffix:" "+a+"s"};if(e<0){const n=h(-e,t,a);return n.suffix||(n.suffix=""),n.suffix+=" ago",n}e*=1e3*l[a];const n=[];let s=!1,r=0;null!=t&&(r=t);for(let t=0;t<o.length&&r>=0;t++){const a=1e3*l[o[t]],i=e/a;if(i>=1||s){s=!0;const l=Math.floor(i),c=o[t]+(1!==l?"s":"");n.push(l+" "+c),e%=a,r--}}return{text:n.join(", ")}}function b(e,t){if(null===e)return{text:""};if(e<1e3)return{text:(0,n.zh)(e).format("SSS\\m\\s")};if(e<6e4){let a="ss\\s:SSS\\m\\s";return 0===t&&(a="ss\\s"),{text:(0,n.zh)(e).format(a)}}if(e<36e5){let a="mm\\m:ss\\s:SSS\\m\\s";return 0===t?a="mm\\m":1===t&&(a="mm\\m:ss\\s"),{text:(0,n.zh)(e).format(a)}}let a="mm\\m:ss\\s:SSS\\m\\s";const s=`${("0"+Math.floor((0,n.Ks)(e,"milliseconds").asHours())).slice(-2)}h`;0===t?a="":1===t?a="mm\\m":2===t&&(a="mm\\m:ss\\s");return{text:a?`${s}:${(0,n.zh)(e).format(a)}`:s}}function y(e,t){return h(e,t,i.Millisecond)}function v(e,t){return h(e,t,i.Second)}function x(e){if(e<0){const t=x(-e);return t.suffix||(t.suffix=""),t.suffix+=" ago",t}const t=[],a=Math.floor(e/3600),n=Math.floor(e%3600/60),s=Math.floor(e%3600%60);return a>9?t.push(""+a):t.push("0"+a),n>9?t.push(""+n):t.push("0"+n),s>9?t.push(""+s):t.push("0"+s),{text:t.join(":")}}function k(e){if(e<0){const t=k(-e);return t.suffix||(t.suffix=""),t.suffix+=" ago",t}let t="";const a=Math.floor(e/86400);a>0&&(t=a+" d ");return{text:t+x(e-24*a*3600).text}}function S(e,t){return u(e/100,t)}function w(e,t){return b(e,t)}function N(e,t){return b(1e3*e,t)}function F(e,t){return(a,s,i,o)=>t&&(0,n.CQ)().isSame(a,"day")?{text:(0,r.dq)(a,{format:t,timeZone:o})}:{text:(0,r.dq)(a,{format:e,timeZone:o})}}const M=F("YYYY-MM-DD HH:mm:ss"),D=F("YYYY-MM-DD HH:mm:ss","HH:mm:ss"),O=F("MM/DD/YYYY h:mm:ss a"),A=F("MM/DD/YYYY h:mm:ss a","h:mm:ss a");function T(){return F((0,r.Ji)({year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}))}function I(){return F((0,r.Ji)({year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),(0,r.Ji)({hour:"2-digit",minute:"2-digit",second:"2-digit"}))}function B(e,t,a,n,s){return{text:(0,r.dq)(e,{format:s?r.U6.fullDateMS:r.U6.fullDate,timeZone:n})}}function C(e,t,a,n){return{text:(0,r.E8)(e,{timeZone:n})}}},"./packages/grafana-data/src/valueFormats/symbolFormatters.ts":(e,t,a)=>{a.d(t,{Aq:()=>s,dT:()=>r,Yh:()=>i,i7:()=>o});var n=a("./packages/grafana-data/src/valueFormats/valueFormats.ts");function s(e,t){const a=(0,n.Qj)(1e3,["","K","M","B","T"]);return(n,s,r)=>{if(null===n)return{text:""};const i=a(n,s,r);return t?i.suffix=void 0!==i.suffix?`${i.suffix}${e}`:void 0:i.prefix=e,i}}function r(e){switch(e){case"f":return-5;case"p":return-4;case"n":return-3;case"μ":case"µ":return-2;case"m":return-1;case"":return 0;case"k":return 1;case"M":return 2;case"G":return 3;case"T":return 4;case"P":return 5;case"E":return 6;case"Z":return 7;case"Y":return 8}return 0}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const a=["","Ki","Mi","Gi","Ti","Pi","Ei","Zi","Yi"].slice(t),s=a.map((t=>" "+t+e));return(0,n.Qj)(1024,s)}function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=["f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];a=a.slice(5+(t||0));const s=a.map((t=>" "+t+e));return(0,n.Qj)(1e3,s)}},"./packages/grafana-data/src/vector/ArrayVector.ts":(e,t,a)=>{a.d(t,{G:()=>s});var n=a("./packages/grafana-data/src/vector/FunctionalVector.ts");class s extends n.G{constructor(e){var t,a,n;super(),n=void 0,(a="buffer")in(t=this)?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,this.buffer=e||[]}get length(){return this.buffer.length}add(e){this.buffer.push(e)}get(e){return this.buffer[e]}set(e,t){this.buffer[e]=t}reverse(){this.buffer.reverse()}toArray(){return this.buffer}toJSON(){return this.buffer}}},"./packages/grafana-data/src/vector/AsNumberVector.ts":(e,t,a)=>{a.d(t,{s:()=>s});var n=a("./packages/grafana-data/src/vector/FunctionalVector.ts");class s extends n.G{constructor(e){super(),this.field=e}get length(){return this.field.length}get(e){return+this.field.get(e)}}},"./packages/grafana-data/src/vector/BinaryOperationVector.ts":(e,t,a)=>{a.d(t,{r:()=>s});var n=a("./packages/grafana-data/src/vector/vectorToArray.ts");class s{constructor(e,t,a){this.left=e,this.right=t,this.operation=a}get length(){return this.left.length}get(e){return this.operation(this.left.get(e),this.right.get(e))}toArray(){return(0,n.n)(this)}toJSON(){return(0,n.n)(this)}}},"./packages/grafana-data/src/vector/ConstantVector.ts":(e,t,a)=>{a.d(t,{u:()=>n});class n{constructor(e,t){this.value=e,this.len=t}get length(){return this.len}get(e){return this.value}toArray(){return new Array(this.length).fill(this.value)}toJSON(){return this.toArray()}}},"./packages/grafana-data/src/vector/RowVector.ts":(e,t,a)=>{a.d(t,{C:()=>s});var n=a("./packages/grafana-data/src/vector/vectorToArray.ts");class s{constructor(e){var t,a,n;n=0,(a="rowIndex")in(t=this)?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,this.columns=e}get length(){return this.columns.length}get(e){return this.columns[e].get(this.rowIndex)}toArray(){return(0,n.n)(this)}toJSON(){return(0,n.n)(this)}}},"./packages/grafana-data/src/vector/SortedVector.ts":(e,t,a)=>{a.d(t,{o:()=>s});var n=a("./packages/grafana-data/src/vector/vectorToArray.ts");class s{constructor(e,t){this.source=e,this.order=t}get length(){return this.source.length}get(e){return this.source.get(this.order[e])}toArray(){return(0,n.n)(this)}toJSON(){return(0,n.n)(this)}}},"./packages/grafana-data/src/vector/vectorToArray.ts":(e,t,a)=>{function n(e){const t=Array(e.length);for(let a=0;a<e.length;a++)t[a]=e.get(a);return t}a.d(t,{n:()=>n})},"./packages/grafana-runtime/src/utils/toDataQueryError.ts":(e,t,a)=>{function n(e){const t=e||{};if(!t.message){if("string"==typeof e||e instanceof String)return{message:e};let a="Query error";t.message?a=t.message:t.data&&t.data.message?a=t.data.message:t.data&&t.data.error?a=t.data.error:t.status&&(a=`Query error: ${t.status} ${t.statusText}`),t.message=a}return t}a.d(t,{P:()=>n})},"./public/app/features/live/centrifuge/service.ts":(e,t,a)=>{a.d(t,{R:()=>F});var n=a("./.yarn/cache/centrifuge-npm-2.8.4-a3bcc8035d-eb6efe8eb1.zip/node_modules/centrifuge/dist/centrifuge.js"),s=a.n(n),r=a("./packages/grafana-runtime/src/services/live.ts"),i=a("./.yarn/cache/rxjs-npm-7.5.1-ce59cbb6a3-78e3eecb16.zip/node_modules/rxjs/dist/esm5/internal/operators/share.js"),o=a("./.yarn/cache/rxjs-npm-7.5.1-ce59cbb6a3-78e3eecb16.zip/node_modules/rxjs/dist/esm5/internal/operators/startWith.js"),l=a("./.yarn/cache/rxjs-npm-7.5.1-ce59cbb6a3-78e3eecb16.zip/node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js"),c=a("./packages/grafana-data/src/index.ts"),d=a("./.yarn/cache/rxjs-npm-7.5.1-ce59cbb6a3-78e3eecb16.zip/node_modules/rxjs/dist/esm5/internal/Subject.js"),m=a("./.yarn/cache/rxjs-npm-7.5.1-ce59cbb6a3-78e3eecb16.zip/node_modules/rxjs/dist/esm5/internal/Observable.js");function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class f{constructor(e,t){u(this,"currentStatus",void 0),u(this,"opened",Date.now()),u(this,"id",void 0),u(this,"addr",void 0),u(this,"stream",new d.x),u(this,"lastMessageWithSchema",void 0),u(this,"subscription",void 0),u(this,"shutdownCallback",void 0),u(this,"initalized",void 0),u(this,"disconnectIfNoListeners",(()=>{0===this.stream.observers.length&&this.disconnect()})),this.id=e,this.addr=t,this.currentStatus={type:c.LiveChannelEventType.Status,id:e,timestamp:this.opened,state:c.LiveChannelConnectionState.Pending},(0,c.isValidLiveChannelAddress)(t)||(this.currentStatus.state=c.LiveChannelConnectionState.Invalid,this.currentStatus.error="invalid channel address")}initalize(){if(this.initalized)throw new Error("Channel already initalized: "+this.id);this.initalized=!0;const e={publish:e=>{try{e.data&&(e.data.schema&&(this.lastMessageWithSchema=e.data),this.stream.next({type:c.LiveChannelEventType.Message,message:e.data})),this.currentStatus.error&&(this.currentStatus.timestamp=Date.now(),delete this.currentStatus.error,this.sendStatus())}catch(e){console.log("publish error",this.addr,e),this.currentStatus.error=e,this.currentStatus.timestamp=Date.now(),this.sendStatus()}},error:e=>{this.currentStatus.timestamp=Date.now(),this.currentStatus.error=e.error,this.sendStatus()},subscribe:e=>{var t;this.currentStatus.timestamp=Date.now(),this.currentStatus.state=c.LiveChannelConnectionState.Connected,delete this.currentStatus.error,null!==(t=e.data)&&void 0!==t&&t.schema&&(this.lastMessageWithSchema=e.data),this.sendStatus(e.data)},unsubscribe:e=>{this.currentStatus.timestamp=Date.now(),this.currentStatus.state=c.LiveChannelConnectionState.Disconnected,this.sendStatus()}};return e.join=e=>{this.stream.next({type:c.LiveChannelEventType.Join,user:e.info.user})},e.leave=e=>{this.stream.next({type:c.LiveChannelEventType.Leave,user:e.info.user})},e}sendStatus(e){const t=Object.assign({},this.currentStatus);e&&(t.message=e),this.stream.next(t)}getStream(){return new m.y((e=>{var t;const a=Object.assign({},this.currentStatus);var n;null!==(t=this.lastMessageWithSchema)&&void 0!==t&&t.schema&&(a.message={schema:null===(n=this.lastMessageWithSchema)||void 0===n?void 0:n.schema});e.next(Object.assign({},this.currentStatus,{message:this.lastMessageWithSchema}));const s=this.stream.subscribe(e);return()=>{s.unsubscribe();0===this.stream.observers.length&&setTimeout(this.disconnectIfNoListeners,250)}}))}async getPresence(){return this.subscription?this.subscription.presence().then((e=>({users:Object.keys(e.presence)}))):Promise.reject("not subscribed")}disconnect(){this.currentStatus.state=c.LiveChannelConnectionState.Shutdown,this.currentStatus.timestamp=Date.now(),this.subscription&&(this.subscription.unsubscribe(),this.subscription.removeAllListeners(),this.subscription=void 0),this.stream.complete(),this.stream.next(Object.assign({},this.currentStatus)),this.stream.complete(),this.shutdownCallback&&this.shutdownCallback()}shutdownWithError(e){this.currentStatus.error=e,this.sendStatus(),this.disconnect()}}var p=a("./packages/grafana-runtime/src/utils/toDataQueryError.ts"),g=a("./.yarn/cache/rxjs-npm-7.5.1-ce59cbb6a3-78e3eecb16.zip/node_modules/rxjs/dist/esm5/internal/ReplaySubject.js"),h=a("./.yarn/cache/rxjs-npm-7.5.1-ce59cbb6a3-78e3eecb16.zip/node_modules/rxjs/dist/esm5/internal/operators/map.js"),b=a("./public/app/features/live/data/StreamingDataFrame.ts"),y=a("./public/app/features/live/data/utils.ts");function v(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var x;!function(e){e[e.Error=0]="Error",e[e.NewValuesSameSchema=1]="NewValuesSameSchema",e[e.ChangedSchema=2]="ChangedSchema"}(x||(x={}));const k=(e,t)=>e.filter((e=>e.type===t));class S{constructor(e){v(this,"frameBuffer",void 0),v(this,"liveEventsSubscription",void 0),v(this,"stream",new g.t(1)),v(this,"shutdownTimeoutId",void 0),v(this,"shutdown",(()=>{this.stream.complete(),this.liveEventsSubscription.unsubscribe(),this.deps.onShutdown()})),v(this,"shutdownIfNoSubscribers",(()=>{this.stream.observed||this.shutdown()})),v(this,"onError",(e=>{console.log("LiveQuery [error]",{err:e},this.deps.channelId),this.stream.next({type:x.Error,error:(0,p.P)(e)}),this.shutdown()})),v(this,"onComplete",(()=>{console.log("LiveQuery [complete]",this.deps.channelId),this.shutdown()})),v(this,"onNext",(e=>{if((0,c.isLiveChannelMessageEvent)(e))return void this.process(e.message);const t=(0,c.isLiveChannelStatusEvent)(e);t&&e.error?this.stream.next({type:x.Error,error:Object.assign({},(0,p.P)(e.error),{message:`Streaming channel error: ${e.error.message}`})}):t&&(e.state===c.LiveChannelConnectionState.Connected||e.state===c.LiveChannelConnectionState.Pending)&&e.message&&this.process(e.message)})),v(this,"process",(e=>{this.frameBuffer.push(e).schemaChanged?this.stream.next({type:x.ChangedSchema}):this.stream.next({type:x.NewValuesSameSchema,values:this.frameBuffer.getValuesFromLastPacket()})})),v(this,"resizeBuffer",(e=>{e&&this.frameBuffer.needsResizing(e)&&this.frameBuffer.resize(e)})),v(this,"prepareInternalStreamForNewSubscription",(e=>{!this.frameBuffer.hasAtLeastOnePacket()&&e.frame&&this.process(e.frame)})),v(this,"clearShutdownTimeout",(()=>{this.shutdownTimeoutId&&(clearTimeout(this.shutdownTimeoutId),this.shutdownTimeoutId=void 0)})),v(this,"get",((e,t)=>{var a;this.clearShutdownTimeout();const n=(0,b._A)(e.buffer);this.resizeBuffer(n),this.prepareInternalStreamForNewSubscription(e);const s=null===(a=e.filter)||void 0===a?void 0:a.fields,r=(null==s?void 0:s.length)?e=>{let{name:t}=e;return s.includes(t)}:void 0;let i;const o=e=>(i=r?this.frameBuffer.getMatchingFieldIndexes(r):void 0,{key:t,state:e?c.LoadingState.Error:c.LoadingState.Streaming,data:[{type:y.g0.FullFrame,frame:this.frameBuffer.serialize(r,n)}],error:e});let l=!0;const d=this.stream.pipe((u=this.deps.subscriberReadiness,e=>new m.y((t=>{let a=[],n=!0;const s=()=>{t.next(a),a=[]},r=u.subscribe({next:e=>{n=e,n&&a.length&&s()}}),i=e.subscribe({next(e){n?a.length?s():t.next([e]):a.push(e)},error(e){t.error(e)},complete(){t.complete()}});return()=>{i.unsubscribe(),r.unsubscribe()}}))),(0,h.U)(((e,a)=>{const n=k(e,x.Error),s=n.length?n[n.length-1].error:void 0;if(l)return l=!1,o(s);if(n.length)return o(s);if(e.some((e=>e.type===x.ChangedSchema)))return o();const r=k(e,x.NewValuesSameSchema);return r.length!==e.length&&console.warn(`unsupported message type ${e.map((e=>{let{type:t}=e;return t}))}`),(e=>{const a=i?e.filter(((e,t)=>i.includes(t))):e;return{key:t,state:c.LoadingState.Streaming,data:[{type:y.g0.NewValuesSameSchema,values:a}]}})((d=r,{values:d.reduce(((e,t)=>{let{values:a}=t;for(let t=0;t<a.length;t++){e[t]||(e[t]=[]);for(let n=0;n<a[t].length;n++)e[t].push(a[t][n])}return e}),[]),type:x.NewValuesSameSchema}).values);var d})));var u;return new m.y((e=>{const t=d.subscribe({next:t=>{e.next(t)},error:t=>{e.error(t)},complete:()=>{e.complete()}});return()=>{t.unsubscribe(),this.stream.observed||(this.clearShutdownTimeout(),this.shutdownTimeoutId=setTimeout(this.shutdownIfNoSubscribers,this.deps.shutdownDelayInMs))}}))})),this.deps=e,this.frameBuffer=b.Av.empty(e.defaultStreamingFrameOptions),this.liveEventsSubscription=e.liveEventsObservable.subscribe({error:this.onError,complete:this.onComplete,next:this.onNext})}}function w(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const N={maxLength:100,maxDelta:1/0,action:r.T0.Append};class F{constructor(e){w(this,"open",new Map),w(this,"liveDataStreamByChannelId",{}),w(this,"centrifuge",void 0),w(this,"connectionState",void 0),w(this,"connectionBlocker",void 0),w(this,"dataStreamSubscriberReadiness",void 0),w(this,"onConnect",(e=>{this.connectionState.next(!0)})),w(this,"onDisconnect",(e=>{this.connectionState.next(!1)})),w(this,"onServerSideMessage",(e=>{console.log("Publication from server-side channel",e)})),w(this,"getConnectionState",(()=>this.connectionState.asObservable())),w(this,"getStream",(e=>this.getChannel(e).getStream())),w(this,"createSubscriptionKey",(e=>{var t;return null!==(t=e.key)&&void 0!==t?t:"xstr/"+M++})),w(this,"getLiveDataStream",(e=>{const t=(0,c.toLiveChannelId)(e.addr),a=this.liveDataStreamByChannelId[t];if(a)return a;const n=this.getChannel(e.addr);return this.liveDataStreamByChannelId[t]=new S({channelId:t,onShutdown:()=>{delete this.liveDataStreamByChannelId[t]},liveEventsObservable:n.getStream(),subscriberReadiness:this.dataStreamSubscriberReadiness,defaultStreamingFrameOptions:N,shutdownDelayInMs:5e3}),this.liveDataStreamByChannelId[t]})),w(this,"getDataStream",(e=>{const t=this.createSubscriptionKey(e);return this.getLiveDataStream(e).get(e,t)})),w(this,"getQueryData",(async e=>(this.centrifuge.isConnected()||await this.connectionBlocker,this.centrifuge.namedRPC("grafana.query",e.body)))),w(this,"getPresence",(e=>this.getChannel(e).getPresence())),this.deps=e,this.dataStreamSubscriberReadiness=e.dataStreamSubscriberReadiness.pipe((0,i.B)(),(0,o.O)(!0));const t=`${e.appUrl.replace(/^http/,"ws")}/api/live/ws`;this.centrifuge=new(s())(t,{timeout:3e4}),this.centrifuge.setConnectData({sessionId:e.sessionId,orgId:e.orgId}),e.liveEnabled&&""!==e.orgRole&&this.centrifuge.connect(),this.connectionState=new l.X(this.centrifuge.isConnected()),this.connectionBlocker=new Promise((e=>{if(this.centrifuge.isConnected())return e();const t=()=>{e(),this.centrifuge.removeListener("connect",t)};this.centrifuge.addListener("connect",t)})),this.centrifuge.on("connect",this.onConnect),this.centrifuge.on("disconnect",this.onDisconnect),this.centrifuge.on("publish",this.onServerSideMessage)}getChannel(e){const t=`${this.deps.orgId}/${e.scope}/${e.namespace}/${e.path}`;let a=this.open.get(t);return null!=a?a:(a=new f(t,e),a.currentStatus.state===c.LiveChannelConnectionState.Invalid||(a.shutdownCallback=()=>{this.open.delete(t)},this.open.set(t,a),this.initChannel(a).catch((e=>{a&&(a.currentStatus.state=c.LiveChannelConnectionState.Invalid,a.shutdownWithError(e)),this.open.delete(t)}))),a)}async initChannel(e){const t=e.initalize();this.centrifuge.isConnected()||await this.connectionBlocker,e.subscription=this.centrifuge.subscribe(e.id,t,{data:e.addr.data})}}let M=0},"./public/app/features/live/centrifuge/transferHandlers.ts":(e,t,a)=>{var n=a("./.yarn/cache/comlink-npm-4.3.1-45efe1dd36-557360a655.zip/node_modules/comlink/dist/esm/comlink.mjs"),s=a("./.yarn/cache/rxjs-npm-7.5.1-ce59cbb6a3-78e3eecb16.zip/node_modules/rxjs/dist/esm5/internal/Subscriber.js");const r={canHandle:e=>e&&e instanceof s.Lv,serialize(e){const t=n.sj(e),{port1:a,port2:s}=new MessageChannel;return n.Jj(t,a),[s,[s]]},deserialize:e=>(e.start(),n.Ud(e))};n.Y6.set("SubscriberHandler",r)},"./public/app/plugins/datasource/prometheus/legend.ts":(e,t,a)=>{function n(e,t){return e.replace(/\{\{\s*(.+?)\s*\}\}/g,((e,a)=>t[a]?t[a]:a))}a.d(t,{W:()=>n})}}]);
//# sourceMappingURL=20.e65e3aa10981aa98e7a1.js.map