(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{jmwA:function(e,t,s){"use strict";s.r(t),function(e){s.d(t,"ServerStats",(function(){return h}));var a,n,r=s("q1tI"),c=s("0cfB"),i=s("/MKj"),o=s("kDLi"),l=s("lzJ5"),d=s("ZGyg"),u=s("tVDY"),v=s("nKUr");class h extends r.PureComponent{constructor(...e){super(...e),this.state={stats:[],isLoading:!0}}async componentDidMount(){try{const e=await this.props.getServerStats();this.setState({stats:e,isLoading:!1})}catch(e){console.error(e)}}render(){const{navModel:e}=this.props,{stats:t,isLoading:s}=this.state;return Object(v.jsx)(d.a,{navModel:e,children:Object(v.jsx)(d.a.Contents,{isLoading:s,children:Object(v.jsxs)("table",{className:"filter-table form-inline",children:[a||(a=Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Name"}),Object(v.jsx)("th",{children:"Value"})]})})),Object(v.jsx)("tbody",{children:t.map(j)})]})})})}}function j(e){return Object(v.jsxs)("tr",{children:[Object(v.jsxs)("td",{children:[e.name," ",e.tooltip&&Object(v.jsx)(o.Tooltip,{content:e.tooltip,placement:"top",children:n||(n=Object(v.jsx)(o.Icon,{name:"info-circle"}))})]}),Object(v.jsx)("td",{children:e.value})]},e.name)}t.default=Object(c.hot)(e)(Object(i.connect)(e=>({navModel:Object(l.a)(e.navIndex,"server-stats"),getServerStats:u.a}))(h))}.call(this,s("3UD+")(e))},tVDY:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));s("q1tI");var a,n=s("t8hP"),r=s("ZFWI"),c=s("nKUr");const{hasLicense:i}=r.a.licenseInfo,o=async()=>{try{const e=await Object(n.getBackendSrv)().get("api/admin/stats");return[{name:"Total users",value:e.users},...i?[]:[{name:"Total admins",value:e.admins},{name:"Total editors",value:e.editors},{name:"Total viewers",value:e.viewers}],{name:"Active users (seen last 30 days)",value:e.activeUsers,tooltip:i?()=>Object(c.jsxs)(c.Fragment,{children:["For active user count by role, see the ",a||(a=Object(c.jsx)("a",{href:"/admin/licensing",children:"Licensing page"})),"."]}):""},...i?[]:[{name:"Active admins (seen last 30 days)",value:e.activeAdmins},{name:"Active editors (seen last 30 days)",value:e.activeEditors},{name:"Active viewers (seen last 30 days)",value:e.activeViewers}],{name:"Active sessions",value:e.activeSessions},{name:"Total dashboards",value:e.dashboards},{name:"Total orgs",value:e.orgs},{name:"Total playlists",value:e.playlists},{name:"Total snapshots",value:e.snapshots},{name:"Total dashboard tags",value:e.tags},{name:"Total starred dashboards",value:e.stars},{name:"Total alerts",value:e.alerts},{name:"Total data sources",value:e.datasources}]}catch(e){throw console.error(e),e}}}}]);
//# sourceMappingURL=ServerStats.17511e2bf08b06f121f8.js.map