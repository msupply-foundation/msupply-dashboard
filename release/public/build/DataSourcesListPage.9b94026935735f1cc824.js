(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{"0jq5":function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("q1tI"),r=a("EKT6"),i=a("kDLi"),o=a("nKUr");function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}class c extends n.PureComponent{render(){const{searchQuery:e,linkButton:t,setSearchQuery:a,target:n,placeholder:c="Search by name or type"}=this.props,u={href:null==t?void 0:t.href};return n&&(u.target=n),Object(o.jsxs)("div",{className:"page-action-bar",children:[Object(o.jsx)("div",{className:"gf-form gf-form--grow",children:Object(o.jsx)(r.a,{value:e,onChange:a,placeholder:c})}),t&&Object(o.jsx)(i.LinkButton,s({},u,{children:t.title}))]})}}},"3/ef":function(e,t,a){"use strict";a("q1tI");var n,r=a("kDLi"),i=a("vF1F"),o=a("nKUr");t.a=({dataSources:e,layoutMode:t})=>{const a=Object(r.useStyles)(s);return Object(o.jsx)("ul",{className:a.list,children:e.map((e,t)=>Object(o.jsx)("li",{children:Object(o.jsxs)(r.Card,{heading:e.name,href:"datasources/edit/"+e.uid,children:[Object(o.jsx)(r.Card.Figure,{children:Object(o.jsx)("img",{src:e.typeLogoUrl,alt:e.name})}),Object(o.jsx)(r.Card.Meta,{children:[e.typeName,e.url,e.isDefault&&(n||(n=Object(o.jsx)(r.Tag,{name:"default",colorIndex:1},"default-tag")))]})]})},e.id))})};const s=()=>({list:i.css`
      list-style: none;
    `})},"5BCB":function(e,t,a){"use strict";var n=a("Obii"),r=a("t8hP"),i=a("3SGO"),o=a("NXk7"),s=a("WnbS"),c=a("Vw/f"),u=a("okuo"),d=a("ZFWI");function l(e){const t=[{id:"tsdb",title:"Time series databases",plugins:[]},{id:"logging",title:"Logging & document databases",plugins:[]},{id:"tracing",title:"Distributed tracing",plugins:[]},{id:"sql",title:"SQL",plugins:[]},{id:"cloud",title:"Cloud",plugins:[]},{id:"enterprise",title:"Enterprise plugins",plugins:[]},{id:"iot",title:"Industrial & IoT",plugins:[]},{id:"other",title:"Others",plugins:[]}].filter(e=>e),a={},r={},i=[p({id:"grafana-splunk-datasource",name:"Splunk",description:"Visualize and explore Splunk logs",imgUrl:"public/img/plugins/splunk_logo_128.png"}),p({id:"grafana-oracle-datasource",name:"Oracle",description:"Visualize and explore Oracle SQL",imgUrl:"public/img/plugins/oracle.png"}),p({id:"grafana-dynatrace-datasource",name:"Dynatrace",description:"Visualize and explore Dynatrace data",imgUrl:"public/img/plugins/dynatrace.png"}),p({id:"grafana-servicenow-datasource",description:"ServiceNow integration and data source",name:"ServiceNow",imgUrl:"public/img/plugins/servicenow.svg"}),p({id:"grafana-datadog-datasource",description:"DataDog integration and data source",name:"DataDog",imgUrl:"public/img/plugins/datadog.png"}),p({id:"grafana-newrelic-datasource",description:"New Relic integration and data source",name:"New Relic",imgUrl:"public/img/plugins/newrelic.svg"}),p({id:"grafana-mongodb-datasource",description:"MongoDB integration and data source",name:"MongoDB",imgUrl:"public/img/plugins/mongodb.svg"}),p({id:"grafana-snowflake-datasource",description:"Snowflake integration and data source",name:"Snowflake",imgUrl:"public/img/plugins/snowflake.svg"}),p({id:"grafana-wavefront-datasource",description:"Wavefront integration and data source",name:"Wavefront",imgUrl:"public/img/plugins/wavefront.svg"}),p({id:"dlopes7-appdynamics-datasource",description:"AppDynamics integration and data source",name:"AppDynamics",imgUrl:"public/img/plugins/appdynamics.svg"}),p({id:"grafana-saphana-datasource",description:"SAP HANA® integration and data source",name:"SAP HANA®",imgUrl:"public/img/plugins/sap_hana.png"}),p({id:"grafana-honeycomb-datasource",description:"Honeycomb integration ad datasource",name:"Honeycomb",imgUrl:"public/img/plugins/honeycomb.png"})];for(const e of t)a[e.id]=e;const{edition:o,hasValidLicense:s}=d.a.licenseInfo;for(const n of e){const e=i.find(e=>e.id===n.id);var c;if(n.enterprise||e)n.category="enterprise",n.unlicensed="Open Source"!==o&&!s,n.info.links=(null==e||null===(c=e.info)||void 0===c?void 0:c.links)||n.info.links;if(n.info.links)for(const e of n.info.links)e.name="Learn more";(t.find(e=>e.id===n.category)||a.other).plugins.push(n),r[n.id]=n}for(const e of t){if("cloud"===e.id&&e.plugins.push({id:"gcloud",name:"Grafana Cloud",type:n.PluginType.datasource,module:"phantom",baseUrl:"",info:{description:"Hosted Graphite, Prometheus, and Loki",logos:{small:"public/img/grafana_icon.svg",large:"asd"},author:{name:"Grafana Labs"},links:[{url:"https://grafana.com/products/cloud/",name:"Learn more"}],screenshots:[],updated:"2019-05-10",version:"1.0.0"}}),"enterprise"===e.id)for(const t of i)r[t.id]||e.plugins.push(t);g(e.plugins)}return t.filter(e=>e.plugins.length>0)}function g(e){const t={prometheus:100,graphite:95,loki:90,mysql:80,jaeger:100,postgres:79,gcloud:-1};e.sort((e,a)=>{const n=t[e.id]||0,r=t[a.id]||0;return n>r?-1:n<r?1:e.name>a.name?-1:1})}function p(e){return{id:e.id,name:e.name,type:n.PluginType.datasource,module:"phantom",baseUrl:"",info:{description:e.description,logos:{small:e.imgUrl,large:e.imgUrl},author:{name:"Grafana Labs"},links:[{url:d.a.pluginCatalogURL+e.id,name:"Install now"}],screenshots:[],updated:"2019-05-10",version:"1.0.0"}}}var f=a("HUMP"),h=a("FFN/"),m=a("frIo");function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}a.d(t,"c",(function(){return y})),a.d(t,"g",(function(){return j})),a.d(t,"f",(function(){return S})),a.d(t,"d",(function(){return O})),a.d(t,"a",(function(){return v})),a.d(t,"e",(function(){return w})),a.d(t,"h",(function(){return D})),a.d(t,"b",(function(){return k}));const y=(e,t={loadDataSource:O,getDataSource:m.a,getDataSourceMeta:m.b,importDataSourcePlugin:c.b})=>async(a,n)=>{if(e)try{if(await a(t.loadDataSource(e)),n().dataSourceSettings.plugin)return;const r=t.getDataSource(n().dataSources,e),i=t.getDataSourceMeta(n().dataSources,r.type),o=await t.importDataSourcePlugin(i);a(Object(h.h)(o))}catch(e){console.error("Failed to import plugin module",e),a(Object(h.g)(e))}else a(Object(h.g)(new Error("Invalid ID")))},j=(e,t={getDatasourceSrv:s.a,getBackendSrv:o.c})=>async(a,n)=>{const r=await t.getDatasourceSrv().get(e);r.testDatasource&&(a(Object(h.o)()),t.getBackendSrv().withNoBackendCache(async()=>{try{const e=await r.testDatasource();a(Object(h.p)(e))}catch(e){const{statusText:t,message:n,details:r,data:i}=e,o=n||(null==i?void 0:i.message)||"HTTP error "+t;a(Object(h.n)({message:o,details:r}))}}))};function S(){return async e=>{const t=await Object(o.c)().get("/api/datasources");e(Object(h.e)(t))}}function O(e){return async t=>{const a=await async function(e){try{const t=await Object(o.c)().fetch({method:"GET",url:"/api/datasources/uid/"+e,showErrorAlert:!1}).toPromise();if(t.ok)return t.data}catch(e){console.log("Failed to lookup data source by uid",e)}const t=parseInt(e,10);if(!Number.isNaN(t)){const a=await Object(o.c)().fetch({method:"GET",url:"/api/datasources/"+t,showErrorAlert:!1}).toPromise();if(a.ok&&a.data.id.toString()===e)return window.location.href=n.locationUtil.assureBaseUrl("/datasources/edit/"+a.data.uid),{}}throw Error("Could not find data source")}(e),s=await Object(u.a)(a.type),d=await Object(c.b)(s),l=b({},s,{isBackend:d.DataSourceClass.prototype instanceof r.DataSourceWithBackend});t(Object(h.a)(a)),t(Object(h.b)(l)),d.meta=l,t(Object(i.d)(Object(f.a)(a,d)))}}function v(e){return async(t,a)=>{await t(S());const n=a().dataSources.dataSources,i={name:e.name,type:e.id,access:"proxy",isDefault:0===n.length};x(n,i.name)&&(i.name=function(e,t){for(;x(e,t);)L(t)?t=`${T(t)}${a=P(t),isNaN(a)?1:a+1}`:t+="-1";var a;return t}(n,i.name));const s=await Object(o.c)().post("/api/datasources",i);r.locationService.push("/datasources/edit/"+s.datasource.uid)}}function w(){return async e=>{e(Object(h.c)());const t=await Object(o.c)().get("/api/plugins",{enabled:1,type:"datasource"}),a=l(t);e(Object(h.d)({plugins:t,categories:a}))}}function D(e){return async t=>(await Object(o.c)().put("/api/datasources/"+e.id,e),await U(),t(O(e.uid)))}function k(){return async(e,t)=>{const a=t().dataSources.dataSource;await Object(o.c)().delete("/api/datasources/"+a.id),await U(),r.locationService.push("/datasources")}}function x(e,t){return e.filter(e=>e.name.toLowerCase()===t.toLowerCase()).length>0}function U(){return Object(o.c)().get("/api/frontend/settings").then(e=>{d.b.datasources=e.datasources,d.b.defaultDatasource=e.defaultDatasource,Object(s.a)().init(d.b.datasources,e.defaultDatasource)})}function L(e){return e.endsWith("-",e.length-1)}function P(e){return parseInt(e.slice(-1),10)}function T(e){return e.slice(0,e.length-1)}},HUMP:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return s}));var n=a("Obii"),r=a("ZFWI");function i(e,t){const a=t.meta,n={img:a.info.logos.large,id:"datasource-"+e.uid,subTitle:"Type: "+a.name,url:"",text:e.name,breadcrumbs:[{title:"Data Sources",url:"datasources"}],children:[{active:!1,icon:"sliders-v-alt",id:"datasource-settings-"+e.uid,text:"Settings",url:`datasources/edit/${e.uid}/`}]};if(t.configPages)for(const a of t.configPages)n.children.push({active:!1,text:a.title,icon:a.icon,url:`datasources/edit/${e.uid}/?page=${a.id}`,id:"datasource-page-"+a.id});return a.includes&&void 0!==a.includes.find(e=>"dashboard"===e.type)&&n.children.push({active:!1,icon:"apps",id:"datasource-dashboards-"+e.uid,text:"Dashboards",url:`datasources/edit/${e.uid}/dashboards`}),r.b.licenseInfo.hasLicense&&(n.children.push({active:!1,icon:"lock",id:"datasource-permissions-"+e.id,text:"Permissions",url:`datasources/edit/${e.id}/permissions`}),n.children.push({active:!1,icon:"info-circle",id:"datasource-insights-"+e.id,text:"Insights",url:`datasources/edit/${e.id}/insights`}),n.children.push({active:!1,icon:"database",id:"datasource-cache-"+e.id,text:"Cache",url:`datasources/edit/${e.id}/cache`,hideFromTabs:!a.isBackend||!r.b.caching.enabled})),n}function o(e,t){let a;for(const n of e.children)if(n.id.indexOf(t)>0){n.active=!0,a=n;break}return{main:e,node:a}}function s(e){return o(i({access:"",basicAuth:!1,basicAuthUser:"",basicAuthPassword:"",withCredentials:!1,database:"",id:1,uid:"x",isDefault:!1,jsonData:{authType:"credentials",defaultRegion:"eu-west-2"},name:"Loading",orgId:1,password:"",readOnly:!1,type:"Loading",typeName:"Loading",typeLogoUrl:"public/img/icn-datasource.svg",url:"",user:"",secureJsonFields:{}},{meta:{id:"1",type:n.PluginType.datasource,name:"",info:{author:{name:"",url:""},description:"",links:[{name:"",url:""}],logos:{large:"",small:""},screenshots:[],updated:"",version:""},includes:[],module:"",baseUrl:""}}),e)}},frIo:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return o})),a.d(t,"g",(function(){return s})),a.d(t,"f",(function(){return c})),a.d(t,"e",(function(){return u}));const n=e=>{const t=new RegExp(e.searchQuery,"i");return e.dataSources.filter(e=>t.test(e.name)||t.test(e.database)||t.test(e.type))},r=e=>{const t=new RegExp(e.dataSourceTypeSearchQuery,"i");return e.plugins.filter(e=>t.test(e.name))},i=(e,t)=>e.dataSource.uid===t?e.dataSource:{},o=(e,t)=>e.dataSourceMeta.id===t?e.dataSourceMeta:{},s=e=>e.searchQuery,c=e=>e.layoutMode,u=e=>e.dataSourcesCount},rouV:function(e,t,a){"use strict";a.r(t),function(e){a.d(t,"DataSourcesListPage",(function(){return b}));var n=a("q1tI"),r=a("/MKj"),i=a("0cfB"),o=a("ZGyg"),s=a("0jq5"),c=a("QQVG"),u=a("3/ef"),d=a("5BCB"),l=a("lzJ5"),g=a("frIo"),p=a("FFN/"),f=a("nKUr");function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const m={title:"No data sources defined",buttonIcon:"database",buttonLink:"datasources/new",buttonTitle:"Add data source",proTip:"You can also define data sources through configuration files.",proTipLink:"http://docs.grafana.org/administration/provisioning/#datasources?utm_source=grafana_ds_list",proTipLinkTitle:"Learn more",proTipTarget:"_blank"};class b extends n.PureComponent{componentDidMount(){this.props.loadDataSources()}render(){const{dataSources:e,dataSourcesCount:t,navModel:a,layoutMode:n,searchQuery:r,setDataSourcesSearchQuery:i,hasFetched:d}=this.props;return Object(f.jsx)(o.b,{navModel:a,children:Object(f.jsx)(o.b.Contents,{isLoading:!d,children:Object(f.jsxs)(f.Fragment,{children:[d&&0===t&&Object(f.jsx)(c.a,h({},m)),d&&t>0&&[Object(f.jsx)(s.a,{searchQuery:r,setSearchQuery:e=>i(e),linkButton:{href:"datasources/new",title:"Add data source"}},"action-bar"),Object(f.jsx)(u.a,{dataSources:e,layoutMode:n},"list")]]})})})}}const y={loadDataSources:d.f,setDataSourcesSearchQuery:p.l,setDataSourcesLayoutMode:p.k};t.default=Object(i.hot)(e)(Object(r.connect)((function(e){return{navModel:Object(l.a)(e.navIndex,"datasources"),dataSources:Object(g.d)(e.dataSources),layoutMode:Object(g.f)(e.dataSources),dataSourcesCount:Object(g.e)(e.dataSources),searchQuery:Object(g.g)(e.dataSources),hasFetched:e.dataSources.hasFetched}}),y)(b))}.call(this,a("3UD+")(e))}}]);
//# sourceMappingURL=DataSourcesListPage.9b94026935735f1cc824.js.map