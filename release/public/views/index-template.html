<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width" />
    <meta name="theme-color" content="#000" />

    <title>[[.AppTitle]]</title>

    <base href="[[.AppSubUrl]]/" />

    <link
      rel="preload"
      href="[[.ContentDeliveryURL]]public/fonts/roboto/RxZJdnzeo3R5zSexge8UUVtXRa8TVwTICgirnJhmVJw.woff2"
      as="font"
      crossorigin
    />

    <link rel="icon" type="image/png" href="[[.FavIcon]]" />
    <link rel="apple-touch-icon" sizes="180x180" href="[[.AppleTouchIcon]]" />
    <link rel="mask-icon" href="[[.ContentDeliveryURL]]public/img/grafana_mask_icon.svg" color="#F05A28" />
    <link rel="stylesheet" href="[[.ContentDeliveryURL]]public/build/grafana.[[ .Theme ]].<%= webpack.hash %>.css" />

    <script nonce="[[.Nonce]]">
      performance.mark('frontend_boot_css_time_seconds');
    </script>

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="msapplication-TileColor" content="#2b5797" />
    <meta name="msapplication-config" content="public/img/browserconfig.xml" />
  </head>

  <body class="theme-[[ .Theme ]] [[.AppNameBodyClass]]">
    <style>
      .preloader {
        height: 100%;
        flex-direction: column;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .preloader__enter {
        opacity: 0;
        animation-name: preloader-fade-in;
        animation-iteration-count: 1;
        animation-duration: 0.9s;
        animation-delay: 1.35s;
        animation-fill-mode: forwards;
      }

      .preloader__bounce {
        text-align: center;
        animation-name: preloader-bounce;
        animation-duration: 0.9s;
        animation-iteration-count: infinite;
      }

      .preloader__logo {
        display: inline-block;
        animation-name: preloader-squash;
        animation-duration: 0.9s;
        animation-iteration-count: infinite;
        width: 60px;
        height: 60px;
        background-repeat: no-repeat;
        background-size: contain;
        background-image: url("data:image/svg+xml,%3csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='351px' height='365px' viewBox='0 0 246 360'%3e%3cpath d='M142.9 3.7c-4.7 5-15.2 11.6-26.7 17l-9.7 4.5 2.9 2.1 2.8 2-9.8 2.3C70.3 38.8 50 52.4 50 66.7c0 3.3.9 4.8 6.6 11.1 3.9 4.3 7.2 7.1 8 6.8.7-.3 2.7 1.1 4.3 3.1 1.9 2.3 3.5 3.4 4.5 3 1.2-.5 1.7.5 2.2 4.6.6 4.2 1.5 6 5.1 9.8 3.1 3.3 4.3 5.4 4.3 7.6 0 2.8-.3 3.1-6.5 4.8-16.1 4.3-37.3 25.3-31.5 31.1.7.7.6 2.2-.5 4.8-2.4 5.6-3.5 17.1-2.5 25.2 2 15.5 7.8 24.4 20.1 30.2 14.2 6.8 37.6 11.3 41 7.9.9-.8 5-2.2 9.2-3.1 16.8-3.4 32.5-11.8 41.7-22.3l4.2-4.8-.6 3.3c-1.7 9.5-9.6 18.2-21.9 24.1-11.2 5.4-20.6 7.3-34.7 7.3-16.5-.1-30.6-4.1-42.6-12.1-6.2-4.3-5.5-2.2 1.6 4.2l6.1 5.5-1.6 12.5c-.8 6.9-1.5 12.8-1.5 13.2 0 .3-.7.5-1.6.3-1.2-.2-2.2 2.4-4.7 12.4-1.8 7-3.6 13-4.1 13.5-1.2 1.2-17.5 1-34.3-.6-8.4-.8-15.5-1.2-15.9-.8-.5.5-4.3 26.9-4.4 30.6 0 .9.7 1.1 2.4.7 2.2-.5 2.5-.1 4.1 5.7 3 10.3 3 19.4.1 37.1-1.5 8.7-2.4 16.1-2.1 16.5.8.7 5.8-2.4 6.7-4.1.3-.7 1.2-2.8 1.8-4.5.7-1.8 3.7-5.8 6.6-9 4-4.2 5.9-7.2 7.1-11.2.9-3.1 1.9-5.9 2.2-6.3.3-.4 11.2.4 24.1 1.7 12.9 1.3 26.7 2.6 30.6 2.9l7 .6 1.3-4.8c1.8-7.2 8.3-16.4 19.8-28.2 5.7-5.8 10.3-11.1 10.3-11.8 0-2.2 2-1.3 6.4 3.2 13.4 13.4 18.1 32.3 12 49.1-3.6 10.2-3.7 10.6-2.8 10.3 1.4-.3 5.4 1.2 5.4 2.2 0 1-2.5 2-5.1 2-1.2 0-1.9.7-1.9 2 0 6.8 20.3 1.3 51-13.8l17.5-8.5 12.8-.5c7-.2 12.7-.8 12.7-1.3s1.8-2.7 4-4.9l4.1-4.1-3.8-1.6c-5.6-2.4-22.1-2.9-31.2-.9-4.1.9-7.6 1.5-7.7 1.3-.1-.1.4-3.1 1.2-6.7.7-3.6 1.4-7.6 1.4-9 0-1.4 1.1-3.3 2.8-4.6 2.6-2.2 2.7-2.4 2.7-13.1-.1-31.6-16.1-56.5-42.1-65.7l-3.2-1.1 3.6-10.8c3.5-10.5 3.7-11 10.9-18 6.7-6.5 7.3-7.5 6.8-10.2-1.6-8-1.3-8.9 3.5-10.4 27-8.2 57.9-23.3 55.5-27.1-1.1-1.8-4.6-1.1-11.4 2.2l-6.6 3.3-24.2-.3-24.1-.2-.7 3c-.9 4-2.1 3.8-3-.6-.3-2-1.1-4.7-1.6-6.1-.9-2.4-1.1-2.2-4.1 3.8-3.6 7.1-15.3 19.6-20.5 21.9-1.8.8-3.8 2.7-4.4 4.3-1.6 3.8-3.1 4.4-2.7 1 .3-2.4-.1-2.8-2.3-3.1-2.1-.2-3.5.7-6.8 4.4-4.6 5.2-5 5.1-2.1-.6 1.1-2.2 2-4.4 2-5 0-1.9-5.1-1-11.1 2.1-3.4 1.7-6.3 2.8-6.5 2.6-.3-.3 1.8-2.1 4.6-4.1 3.3-2.3 5-4.3 5-5.7 0-2-.3-2.1-11.7-1.5-13.1.7-12.8 0 1.4-3.6 7.3-1.8 8.3-2.3 8.3-4.3s-1.1-2.6-8.4-4.9c-10.6-3.3-17.8-6.4-15.1-6.5 1.1-.1 8.3.8 16.1 2l14.1 2.2-.8 3.5c-1.7 7.6 2.8 13.2 12.2 15.3 5.5 1.3 11-1.3 17.1-7.8 4.9-5.3 9.8-13.9 9.8-17.2 0-1-1.9-5.6-4.2-10.2-3.1-6.5-5.9-10.2-11.9-16.1l-7.7-7.7 5.6-1.9 5.7-1.9 3.5-14.1c2.5-9.7 4.2-14.8 5.8-16.5 1.2-1.3 2.2-2.9 2.2-3.7 0-.7-2.5-4.6-5.5-8.6s-5.5-7.8-5.5-8.3c0-.5 2.2-2.9 4.9-5.1 4.7-4 10.1-10.6 10.1-12.4 0-.5-.8-.5-1.7-.1-2.8 1.1-16.7 2.3-17.6 1.5-.4-.4.8-6.8 2.8-14.3 3.1-11.8 3.4-14.2 2.5-17.6-1.6-6.1-3.1-6.6-7.1-2.4zM127.3 42c.2 3.1-.1 3.4-6.6 6-7.1 2.9-11.3 6-23.4 17.3-5.7 5.2-7.8 6.6-8.6 5.7-.9-.9.6-2.7 6.3-7.8 7.2-6.4 12.3-11.4 18.4-18.2 1.7-1.8 4.8-4.6 7-6.2 3.4-2.4 4.2-2.7 5.4-1.5.7.8 1.5 2.9 1.5 4.7zm39.3 195.4c7.3 7.6 15.7 19.9 17.5 25.7 1.2 4 2.8 26.9 2.1 30.4-.6 3.2-3.2 3.3-3.2.1 0-1.4-.4-2.8-1-3.1-1.5-1-1.2-3.5.5-3.5.8 0 1.5-.9 1.5-2 0-1.5-.7-2-2.5-2s-2.5-.5-2.5-1.9c0-1 .7-2.1 1.5-2.5 2.4-.9.6-3.8-2.1-3.3-1.3.2-2.9-.2-3.5-.9-.8-1-.3-1.7 2-2.9 2.6-1.3 3-1.9 2.1-3.5-1.5-2.9-2.5-3.1-7.4-1.9-7.1 1.8-7.7.7-2.3-4.3 4.6-4.3 4.7-4.5 2.9-6.1-2.6-2.4-3.5-2.2-9.8 1.8-5.4 3.5-9.4 4-9.4 1.2 0-.6 2.5-3.5 5.7-6.5l5.6-5.3-2.5-2.5-2.5-2.6-5.9 7.6c-4.7 6-6.4 7.5-8.6 7.6-1.8 0-4.1 1.3-6.7 4-2.2 2.2-4.2 4-4.5 4-1.9 0 .4-4.2 8-14.7 11.2-15.4 15.3-20.3 16.7-20.3.7 0 4.4 3.3 8.3 7.4z'/%3e%3cpath d='M197.5 70H226v19h19v26h-19v19h-28.5v-19h-19V89h19z' fill='%23eb5c24'/%3e%3c/svg%3e");
      }

      .preloader__text {
        margin-top: 16px;
        font-weight: 500;
        font-size: 14px;
        font-family: Sans-serif;
        opacity: 0;
        animation-name: preloader-fade-in;
        animation-duration: 0.9s;
        animation-delay: 1.8s;
        animation-fill-mode: forwards;
      }

      .theme-light .preloader__text {
        color: #52545c;
      }

      .theme-dark .preloader__text {
        color: #d8d9da;
      }

      @keyframes preloader-fade-in {
        0% {
          opacity: 0;
          /*animation-timing-function: linear;*/
          animation-timing-function: cubic-bezier(0, 0, 0.5, 1);
        }
        100% {
          opacity: 1;
        }
      }

      @keyframes preloader-bounce {
        from,
        to {
          transform: translateY(0px);
          animation-timing-function: cubic-bezier(0.3, 0, 0.1, 1);
        }
        50% {
          transform: translateY(-50px);
          animation-timing-function: cubic-bezier(0.9, 0, 0.7, 1);
        }
      }

      @keyframes preloader-squash {
        0% {
          transform: scaleX(1.3) scaleY(0.8);
          animation-timing-function: cubic-bezier(0.3, 0, 0.1, 1);
          transform-origin: bottom center;
        }
        15% {
          transform: scaleX(0.75) scaleY(1.25);
          animation-timing-function: cubic-bezier(0, 0, 0.7, 0.75);
          transform-origin: bottom center;
        }
        55% {
          transform: scaleX(1.05) scaleY(0.95);
          animation-timing-function: cubic-bezier(0.9, 0, 1, 1);
          transform-origin: top center;
        }
        95% {
          transform: scaleX(0.75) scaleY(1.25);
          animation-timing-function: cubic-bezier(0, 0, 0, 1);
          transform-origin: bottom center;
        }
        100% {
          transform: scaleX(1.3) scaleY(0.8);
          transform-origin: bottom center;
          animation-timing-function: cubic-bezier(0, 0, 0.7, 1);
        }
      }

      /* Fail info */
      .preloader__text--fail {
        display: none;
      }

      /* stop logo animation */
      .preloader--done .preloader__bounce,
      .preloader--done .preloader__logo {
        animation-name: none;
        display: none;
      }

      .preloader--done .preloader__logo,
      .preloader--done .preloader__text {
        display: none;
        color: #ff5705 !important;
        font-size: 15px;
      }

      .preloader--done .preloader__text--fail {
        display: block;
      }

      [ng\:cloak],
      [ng-cloak],
      .ng-cloak {
        display: none !important;
      }
    </style>

    <div class="preloader">
      <div class="preloader__enter">
        <div class="preloader__bounce">
          <div class="preloader__logo"></div>
        </div>
      </div>
      <div class="preloader__text">Loading Grafana</div>
      <div class="preloader__text preloader__text--fail">
        <p>
          <strong>If you're seeing this Grafana has failed to load its application files</strong>
          <br />
          <br />
        </p>
        <p>
          1. This could be caused by your reverse proxy settings.<br /><br />
          2. If you host grafana under subpath make sure your grafana.ini root_url setting includes subpath. If not
          using a reverse proxy make sure to set serve_from_sub_path to true.<br />
          <br />
          3. If you have a local dev build make sure you build frontend using: yarn start, yarn start:hot, or yarn
          build<br />
          <br />
          4. Sometimes restarting grafana-server can help<br />
          <br />
          5. Check if you are using a non-supported browser. For more information, refer to the list of
          <a href="https://grafana.com/docs/grafana/latest/installation/requirements/#supported-web-browsers">
            supported browsers</a
          >.
        </p>
      </div>
      <script nonce="[[.Nonce]]">
        // Check to see if browser is not supported by Grafana
        // Source file in app/core/utils/browser.ts & tests make edits there and copy compiled typescript here
        function checkBrowserCompatibility() {
          var isIE = navigator.userAgent.indexOf('MSIE') > -1;
          var isEdge = navigator.userAgent.indexOf('Edge/') > -1 || navigator.userAgent.indexOf('Edg/') > -1;
          var isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;
          var isChrome = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);

          /* Check for
          <= IE11 (Trident 7)
          Edge <= 16
          Firefox <= 64
          Chrome <= 54
          */
          var isEdgeVersion = /Edge\/([0-9.]+)/.exec(navigator.userAgent);

          if (isIE && parseFloat(/Trident\/([0-9.]+)/.exec(navigator.userAgent)[1]) <= 7) {
            return false;
          } else if (
            isEdge &&
            ((isEdgeVersion && parseFloat(isEdgeVersion[1]) <= 16) ||
              parseFloat(/Edg\/([0-9.]+)/.exec(navigator.userAgent)[1]) <= 16)
          ) {
            return false;
          } else if (isFirefox && parseFloat(/Firefox\/([0-9.]+)/.exec(navigator.userAgent)[1]) <= 64) {
            return false;
          } else if (isChrome && parseFloat(/Chrome\/([0-9.]+)/.exec(navigator.userAgent)[1]) <= 54) {
            return false;
          }

          return true;
        }

        if (!checkBrowserCompatibility()) {
          alert('Your browser is not fully supported, please try newer version.');
        }
      </script>
    </div>

    <div id="reactRoot"></div>

    <script nonce="[[.Nonce]]">
        window.grafanaBootData = {
          user: [[.User]],
          settings: [[.Settings]],
          navTree: [[.NavTree]],
          themePaths: {
            light: '[[.ContentDeliveryURL]]public/build/grafana.light.<%= webpack.hash %>.css',
            dark: '[[.ContentDeliveryURL]]public/build/grafana.dark.<%= webpack.hash %>.css'
          }
        };

      // In case the js files fails to load the code below will show an info message.
        window.onload = function() {
          var preloader = document.getElementsByClassName("preloader");
          if (preloader.length) {
            preloader[0].className = "preloader preloader--done";
          }
        };
        [[if .ContentDeliveryURL]]
          window.public_cdn_path = '[[.ContentDeliveryURL]]public/build/';
        [[end]]
        [[if .Nonce]]
          window.nonce = '[[.Nonce]]';
        [[end]]
    </script>

    [[if .GoogleTagManagerId]]
    <!-- Google Tag Manager -->
    <script nonce="[[.Nonce]]">
      dataLayer = [
        {
          IsSignedIn: '[[.User.IsSignedIn]]',
          Email: '[[.User.Email]]',
          Name: '[[.User.Name]]',
          UserId: '[[.User.Id]]',
          OrgId: '[[.User.OrgId]]',
          OrgName: '[[.User.OrgName]]',
        },
      ];
    </script>
    <noscript>
      <iframe
        src="//www.googletagmanager.com/ns.html?id=[[.GoogleTagManagerId]]"
        height="0"
        width="0"
        style="display: none; visibility: hidden"
      ></iframe>
    </noscript>
    <script nonce="[[.Nonce]]">
      (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != 'dataLayer' ? '&l=' + l : '';
        j.async = true;
        j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, 'script', 'dataLayer', '[[.GoogleTagManagerId]]');
    </script>
    <!-- End Google Tag Manager -->
    [[end]] <% for (key in htmlWebpackPlugin.files.chunks) { %> <% if (htmlWebpackPlugin.files.jsIntegrity) { %>
    <script
      nonce="[[.Nonce]]"
      src="[[.ContentDeliveryURL]]<%= htmlWebpackPlugin.files.chunks[key].entry %>"
      type="text/javascript"
      integrity="<%= htmlWebpackPlugin.files.jsIntegrity[htmlWebpackPlugin.files.js.indexOf(htmlWebpackPlugin.files.chunks[key].entry)] %>"
      crossorigin="<%= webpackConfig.output.crossOriginLoading %>"
    ></script>
    <% } else { %>
    <script
      nonce="[[.Nonce]]"
      src="[[.ContentDeliveryURL]]<%= htmlWebpackPlugin.files.chunks[key].entry %>"
      type="text/javascript"
    ></script>
    <% } %> <% } %>

    <script nonce="[[.Nonce]]">
      performance.mark('frontend_boot_js_done_time_seconds');
    </script>
  </body>
</html>
